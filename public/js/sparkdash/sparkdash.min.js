/*! jQuery v1.8.2 jquery.com | jquery.org/license */

/*
 jsPDF 0.9.0rc2 ( 2013-08-07T15:00 commit ID c9c47d1de98fabb0681ad9fba049ef644f8f22ba )
Copyright (c) 2010-2012 James Hall, james@snapshotmedia.co.uk, https://github.com/MrRio/jsPDF
Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
MIT license.

            -----------------------------------------------------------------------------------------------
            JavaScript PubSub library
            2012 (c) ddotsenko@willowsystems.com
            based on Peter Higgins (dante@dojotoolkit.org)
            Loosely based on Dojo publish/subscribe API, limited in scope. Rewritten blindly.
            Original is (c) Dojo Foundation 2004-2010. Released under either AFL or new BSD, see:
            http://dojofoundation.org/license for more information.
            -----------------------------------------------------------------------------------------------
 
jsPDF addImage plugin (JPEG only at this time)
Copyright (c) 2012 https://github.com/siefkenj/

jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser, jQuery
Copyright (c) 2012 2012 Willow Systems Corporation, willow-systems.com

jsPDF Silly SVG plugin
Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
 
jsPDF split_text_to_size plugin
Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
MIT license.
 
jsPDF standard_fonts_metrics plugin
Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
MIT license.
*/

//     Underscore.js 1.4.4 AMD version
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore may be freely distributed under the MIT license.

/*

Copyright (C) 2011 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/

//! moment.js
//! version : 2.2.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

/**
 * Copyright (c) 2010 Maxim Vasiliev
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @author Maxim Vasiliev
 * Date: 09.09.2010
 * Time: 19:02:33
 */

/**
 * Copyright (c) 2010 Maxim Vasiliev
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @author Maxim Vasiliev
 * Date: 19.09.11
 * Time: 23:40
 */

/**
 * @license RequireJS text 2.0.7 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/**@license
 *|       __ _____                     ________                              __
 *|      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
 *|  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 *| /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 *| \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
 *|           \/              /____/                              version {{VER}}
 * http://terminal.jcubic.pl
 *
 * Licensed under GNU LGPL Version 3 license
 * Copyright (c) 2011-2013 Jakub Jankiewicz <http://jcubic.pl>
 *
 * Includes:
 *
 * Storage plugin Distributed under the MIT License
 * Copyright (c) 2010 Dave Schindler
 *
 * jQuery Timers licenced with the WTFPL
 * <http://jquery.offput.ca/every/>
 *
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 *
 * Date: {{DATE}}
 */

/*
 * jQuery UI Widget 1.9.1+amd
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */

/*  js-model JavaScript library, version 0.11.0
 *  (c) 2010-2012 Ben Pickles
 *
 *  Released under MIT license.
 */

/*!
 * avgrund 0.1
 * http://lab.hakim.se/avgrund
 * MIT licensed
 *
 * Copyright (C) 2012 Hakim El Hattab, http://hakim.se
 */

/*! pace 0.4.2 */

function Tree(){var e=this;e.build_tree=function(t){var n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.elems,s,o=-1,u;t.heap_len=0,t.heap_max=HEAP_SIZE;for(s=0;s<i;s++)0!==n[2*s]?(t.heap[++t.heap_len]=o=s,t.depth[s]=0):n[2*s+1]=0;for(;2>t.heap_len;)u=t.heap[++t.heap_len]=2>o?++o:0,n[2*u]=1,t.depth[u]=0,t.opt_len--,r&&(t.static_len-=r[2*u+1]);e.max_code=o;for(s=Math.floor(t.heap_len/2);1<=s;s--)t.pqdownheap(n,s);u=i;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],t.pqdownheap(n,1),r=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=r,n[2*u]=n[2*s]+n[2*r],t.depth[u]=Math.max(t.depth[s],t.depth[r])+1,n[2*s+1]=n[2*r+1]=u,t.heap[1]=u++,t.pqdownheap(n,1);while(2<=t.heap_len);t.heap[--t.heap_max]=t.heap[1],s=e.dyn_tree;for(var o=e.stat_desc.static_tree,a=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,l=e.stat_desc.max_length,c,h,p=0,i=0;i<=MAX_BITS;i++)t.bl_count[i]=0;s[2*t.heap[t.heap_max]+1]=0;for(u=t.heap_max+1;u<HEAP_SIZE;u++)r=t.heap[u],i=s[2*s[2*r+1]+1]+1,i>l&&(i=l,p++),s[2*r+1]=i,r>e.max_code||(t.bl_count[i]++,c=0,r>=f&&(c=a[r-f]),h=s[2*r],t.opt_len+=h*(i+c),o&&(t.static_len+=h*(o[2*r+1]+c)));if(0!==p){do{for(i=l-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[l]--,p-=2}while(0<p);for(i=l;0!==i;i--)for(r=t.bl_count[i];0!==r;)o=t.heap[--u],o>e.max_code||(s[2*o+1]!=i&&(t.opt_len+=(i-s[2*o+1])*s[2*o],s[2*o+1]=i),r--)}s=e.max_code,u=t.bl_count,t=[],r=0;for(i=1;i<=MAX_BITS;i++)t[i]=r=r+u[i-1]<<1;for(u=0;u<=s;u++)if(a=n[2*u+1],0!==a){r=n,i=2*u,o=t[a]++,f=0;do f|=o&1,o>>>=1,f<<=1;while(0<--a);r[i]=f>>>1}}}function StaticTree(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i}function Config(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function smaller(e,t,n,r){var i=e[2*t];return e=e[2*n],i<e||i==e&&r[t]<=r[n]}function Deflate(){function e(){var e;for(e=0;e<L_CODES;e++)J[2*e]=0;for(e=0;e<D_CODES;e++)K[2*e]=0;for(e=0;e<BL_CODES;e++)Q[2*e]=0;J[2*END_BLOCK]=1,nt=it=g.opt_len=g.static_len=0}function t(e,t){var n,r=-1,i,s=e[1],o=0,u=7,a=4;0===s&&(u=138,a=3),e[2*(t+1)+1]=65535;for(n=0;n<=t;n++)i=s,s=e[2*(n+1)+1],++o<u&&i==s||(o<a?Q[2*i]+=o:0!==i?(i!=r&&Q[2*i]++,Q[2*REP_3_6]++):10>=o?Q[2*REPZ_3_10]++:Q[2*REPZ_11_138]++,o=0,r=i,0===s?(u=138,a=3):i==s?(u=6,a=3):(u=7,a=4))}function n(e){g.pending_buf[g.pending++]=e}function r(e){n(e&255),n(e>>>8&255)}function i(e,t){ut>Buf_size-t?(ot|=e<<ut&65535,r(ot),ot=e>>>Buf_size-ut,ut+=t-Buf_size):(ot|=e<<ut&65535,ut+=t)}function s(e,t){var n=2*e;i(t[n]&65535,t[n+1]&65535)}function o(e,t){var n,r=-1,o,u=e[1],a=0,f=7,l=4;0===u&&(f=138,l=3);for(n=0;n<=t;n++)if(o=u,u=e[2*(n+1)+1],!(++a<f&&o==u)){if(a<l){do s(o,Q);while(0!==--a)}else 0!==o?(o!=r&&(s(o,Q),a--),s(REP_3_6,Q),i(a-3,2)):10>=a?(s(REPZ_3_10,Q),i(a-3,3)):(s(REPZ_11_138,Q),i(a-11,7));a=0,r=o,0===u?(f=138,l=3):o==u?(f=6,l=3):(f=7,l=4)}}function u(){16==ut?(r(ot),ut=ot=0):8<=ut&&(n(ot&255),ot>>>=8,ut-=8)}function a(e,t){var n,r,i;g.pending_buf[rt+2*nt]=e>>>8&255,g.pending_buf[rt+2*nt+1]=e&255,g.pending_buf[et+nt]=t&255,nt++,0===e?J[2*t]++:(it++,e--,J[2*(Tree._length_code[t]+LITERALS+1)]++,K[2*Tree.d_code(e)]++);if(0===(nt&8191)&&2<W){n=8*nt,r=F-P;for(i=0;i<D_CODES;i++)n+=K[2*i]*(5+Tree.extra_dbits[i]);if(it<Math.floor(nt/2)&&n>>>3<Math.floor(r/2))return!0}return nt==tt-1}function f(e,t){var n,r,o=0,u,a;if(0!==nt)do n=g.pending_buf[rt+2*o]<<8&65280|g.pending_buf[rt+2*o+1]&255,r=g.pending_buf[et+o]&255,o++,0===n?s(r,e):(u=Tree._length_code[r],s(u+LITERALS+1,e),a=Tree.extra_lbits[u],0!==a&&(r-=Tree.base_length[u],i(r,a)),n--,u=Tree.d_code(n),s(u,t),a=Tree.extra_dbits[u],0!==a&&(n-=Tree.base_dist[u],i(n,a)));while(o<nt);s(END_BLOCK,e),st=e[2*END_BLOCK+1]}function l(){8<ut?r(ot):0<ut&&n(ot&255),ut=ot=0}function c(e,t,n){i((STORED_BLOCK<<1)+(n?1:0),3),l(),st=8,r(t),r(~t),g.pending_buf.set(N.subarray(e,e+t),g.pending),g.pending+=t}function h(n){var r=0<=P?P:-1,s=F-P,u,a,h=0;if(0<W){G.build_tree(g),Y.build_tree(g),t(J,G.max_code),t(K,Y.max_code),Z.build_tree(g);for(h=BL_CODES-1;3<=h&&0===Q[2*Tree.bl_order[h]+1];h--);g.opt_len+=3*(h+1)+14,u=g.opt_len+3+7>>>3,a=g.static_len+3+7>>>3,a<=u&&(u=a)}else u=a=s+5;if(s+4<=u&&-1!=r)c(r,s,n);else if(a==u)i((STATIC_TREES<<1)+(n?1:0),3),f(StaticTree.static_ltree,StaticTree.static_dtree);else{i((DYN_TREES<<1)+(n?1:0),3),r=G.max_code+1,s=Y.max_code+1,h+=1,i(r-257,5),i(s-1,5),i(h-4,4);for(u=0;u<h;u++)i(Q[2*Tree.bl_order[u]+1],3);o(J,r-1),o(K,s-1),f(J,K)}e(),n&&l(),P=F,y.flush_pending()}function p(){var e,t,n,r;do{r=C-q-F;if(0===r&&0===F&&0===q)r=S;else if(-1==r)r--;else if(F>=S+S-MIN_LOOKAHEAD){N.set(N.subarray(S,S+S),0),I-=S,F-=S,P-=S,n=e=O;do t=L[--n]&65535,L[n]=t>=S?t-S:0;while(0!==--e);n=e=S;do t=k[--n]&65535,k[n]=t>=S?t-S:0;while(0!==--e);r+=S}if(0===y.avail_in)break;e=y.read_buf(N,F+q,r),q+=e,q>=MIN_MATCH&&(A=N[F]&255,A=(A<<D^N[F+1]&255)&_)}while(q<MIN_LOOKAHEAD&&0!==y.avail_in)}function d(e){var t=65535,n;for(t>w-5&&(t=w-5);;){if(1>=q){p();if(0===q&&e==Z_NO_FLUSH)return NeedMore;if(0===q)break}F+=q,q=0,n=P+t;if(0===F||F>=n)if(q=F-n,F=n,h(!1),0===y.avail_out)return NeedMore;if(F-P>=S-MIN_LOOKAHEAD&&(h(!1),0===y.avail_out))return NeedMore}return h(e==Z_FINISH),0===y.avail_out?e==Z_FINISH?FinishStarted:NeedMore:e==Z_FINISH?FinishDone:BlockDone}function v(e){var t=U,n=F,r,i=R,s=F>S-MIN_LOOKAHEAD?F-(S-MIN_LOOKAHEAD):0,o=$,u=T,a=F+MAX_MATCH,f=N[n+i-1],l=N[n+i];R>=V&&(t>>=2),o>q&&(o=q);do if(r=e,N[r+i]==l&&N[r+i-1]==f&&N[r]==N[n]&&N[++r]==N[n+1]){n+=2,r++;do;while(N[++n]==N[++r]&&N[++n]==N[++r]&&N[++n]==N[++r]&&N[++n]==N[++r]&&N[++n]==N[++r]&&N[++n]==N[++r]&&N[++n]==N[++r]&&N[++n]==N[++r]&&n<a);r=MAX_MATCH-(a-n),n=a-MAX_MATCH;if(r>i){I=e,i=r;if(r>=o)break;f=N[n+i-1],l=N[n+i]}}while((e=k[e&u]&65535)>s&&0!==--t);return i<=q?i:q}function m(e){for(var t=0,n,r;;){if(q<MIN_LOOKAHEAD){p();if(q<MIN_LOOKAHEAD&&e==Z_NO_FLUSH)return NeedMore;if(0===q)break}q>=MIN_MATCH&&(A=(A<<D^N[F+(MIN_MATCH-1)]&255)&_,t=L[A]&65535,k[F&T]=L[A],L[A]=F),R=H,B=I,H=MIN_MATCH-1,0!==t&&R<z&&(F-t&65535)<=S-MIN_LOOKAHEAD&&(X!=Z_HUFFMAN_ONLY&&(H=v(t)),5>=H&&(X==Z_FILTERED||H==MIN_MATCH&&4096<F-I)&&(H=MIN_MATCH-1));if(R>=MIN_MATCH&&H<=R){r=F+q-MIN_MATCH,n=a(F-1-B,R-MIN_MATCH),q-=R-1,R-=2;do++F<=r&&(A=(A<<D^N[F+(MIN_MATCH-1)]&255)&_,t=L[A]&65535,k[F&T]=L[A],L[A]=F);while(0!==--R);j=0,H=MIN_MATCH-1,F++;if(n&&(h(!1),0===y.avail_out))return NeedMore}else if(0!==j){if((n=a(0,N[F-1]&255))&&h(!1),F++,q--,0===y.avail_out)return NeedMore}else j=1,F++,q--}return 0!==j&&(a(0,N[F-1]&255),j=0),h(e==Z_FINISH),0===y.avail_out?e==Z_FINISH?FinishStarted:NeedMore:e==Z_FINISH?FinishDone:BlockDone}var g=this,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G=new Tree,Y=new Tree,Z=new Tree;g.depth=[];var et,tt,nt,rt,it,st,ot,ut;g.bl_count=[],g.heap=[],J=[],K=[],Q=[],g.pqdownheap=function(e,t){for(var n=g.heap,r=n[t],i=t<<1;i<=g.heap_len;){i<g.heap_len&&smaller(e,n[i+1],n[i],g.depth)&&i++;if(smaller(e,r,n[i],g.depth))break;n[t]=n[i],t=i,i<<=1}n[t]=r},g.deflateInit=function(t,n,r,i,s,o){i||(i=Z_DEFLATED),s||(s=DEF_MEM_LEVEL),o||(o=Z_DEFAULT_STRATEGY),t.msg=null,n==Z_DEFAULT_COMPRESSION&&(n=6);if(1>s||s>MAX_MEM_LEVEL||i!=Z_DEFLATED||9>r||15<r||0>n||9<n||0>o||o>Z_HUFFMAN_ONLY)return Z_STREAM_ERROR;t.dstate=g,x=r,S=1<<x,T=S-1,M=s+7,O=1<<M,_=O-1,D=Math.floor((M+MIN_MATCH-1)/MIN_MATCH),N=new Uint8Array(2*S),k=[],L=[],tt=1<<s+6,g.pending_buf=new Uint8Array(4*tt),w=4*tt,rt=Math.floor(tt/2),et=3*tt,W=n,X=o,t.total_in=t.total_out=0,t.msg=null,g.pending=0,g.pending_out=0,b=BUSY_STATE,E=Z_NO_FLUSH,G.dyn_tree=J,G.stat_desc=StaticTree.static_l_desc,Y.dyn_tree=K,Y.stat_desc=StaticTree.static_d_desc,Z.dyn_tree=Q,Z.stat_desc=StaticTree.static_bl_desc,ut=ot=0,st=8,e(),C=2*S;for(t=L[O-1]=0;t<O-1;t++)L[t]=0;return z=config_table[W].max_lazy,V=config_table[W].good_length,$=config_table[W].nice_length,U=config_table[W].max_chain,q=P=F=0,H=R=MIN_MATCH-1,A=j=0,Z_OK},g.deflateEnd=function(){return b!=INIT_STATE&&b!=BUSY_STATE&&b!=FINISH_STATE?Z_STREAM_ERROR:(N=k=L=g.pending_buf=null,g.dstate=null,b==BUSY_STATE?Z_DATA_ERROR:Z_OK)},g.deflateParams=function(e,t,n){var r=Z_OK;return t==Z_DEFAULT_COMPRESSION&&(t=6),0>t||9<t||0>n||n>Z_HUFFMAN_ONLY?Z_STREAM_ERROR:(config_table[W].func!=config_table[t].func&&0!==e.total_in&&(r=e.deflate(Z_PARTIAL_FLUSH)),W!=t&&(W=t,z=config_table[W].max_lazy,V=config_table[W].good_length,$=config_table[W].nice_length,U=config_table[W].max_chain),X=n,r)},g.deflateSetDictionary=function(e,t,n){e=n;var r=0;if(!t||b!=INIT_STATE)return Z_STREAM_ERROR;if(e<MIN_MATCH)return Z_OK;e>S-MIN_LOOKAHEAD&&(e=S-MIN_LOOKAHEAD,r=n-e),N.set(t.subarray(r,r+e),0),P=F=e,A=N[0]&255,A=(A<<D^N[1]&255)&_;for(t=0;t<=e-MIN_MATCH;t++)A=(A<<D^N[t+(MIN_MATCH-1)]&255)&_,k[t&T]=L[A],L[A]=t;return Z_OK},g.deflate=function(e,t){var r,o,f;if(t>Z_FINISH||0>t)return Z_STREAM_ERROR;if(!e.next_out||!e.next_in&&0!==e.avail_in||b==FINISH_STATE&&t!=Z_FINISH)return e.msg=z_errmsg[Z_NEED_DICT-Z_STREAM_ERROR],Z_STREAM_ERROR;if(0===e.avail_out)return e.msg=z_errmsg[Z_NEED_DICT-Z_BUF_ERROR],Z_BUF_ERROR;y=e,r=E,E=t,b==INIT_STATE&&(o=Z_DEFLATED+(x-8<<4)<<8,f=(W-1&255)>>1,3<f&&(f=3),o|=f<<6,0!==F&&(o|=PRESET_DICT),b=BUSY_STATE,o+=31-o%31,n(o>>8&255),n(o&255));if(0!==g.pending){if(y.flush_pending(),0===y.avail_out)return E=-1,Z_OK}else if(0===y.avail_in&&t<=r&&t!=Z_FINISH)return y.msg=z_errmsg[Z_NEED_DICT-Z_BUF_ERROR],Z_BUF_ERROR;if(b==FINISH_STATE&&0!==y.avail_in)return e.msg=z_errmsg[Z_NEED_DICT-Z_BUF_ERROR],Z_BUF_ERROR;if(0!==y.avail_in||0!==q||t!=Z_NO_FLUSH&&b!=FINISH_STATE){r=-1;switch(config_table[W].func){case STORED:r=d(t);break;case FAST:e:{for(r=0;;){if(q<MIN_LOOKAHEAD){p();if(q<MIN_LOOKAHEAD&&t==Z_NO_FLUSH){r=NeedMore;break e}if(0===q)break}q>=MIN_MATCH&&(A=(A<<D^N[F+(MIN_MATCH-1)]&255)&_,r=L[A]&65535,k[F&T]=L[A],L[A]=F),0!==r&&(F-r&65535)<=S-MIN_LOOKAHEAD&&X!=Z_HUFFMAN_ONLY&&(H=v(r));if(H>=MIN_MATCH)if(o=a(F-I,H-MIN_MATCH),q-=H,H<=z&&q>=MIN_MATCH){H--;do F++,A=(A<<D^N[F+(MIN_MATCH-1)]&255)&_,r=L[A]&65535,k[F&T]=L[A],L[A]=F;while(0!==--H);F++}else F+=H,H=0,A=N[F]&255,A=(A<<D^N[F+1]&255)&_;else o=a(0,N[F]&255),q--,F++;if(o&&(h(!1),0===y.avail_out)){r=NeedMore;break e}}h(t==Z_FINISH),r=0===y.avail_out?t==Z_FINISH?FinishStarted:NeedMore:t==Z_FINISH?FinishDone:BlockDone}break;case SLOW:r=m(t)}if(r==FinishStarted||r==FinishDone)b=FINISH_STATE;if(r==NeedMore||r==FinishStarted)return 0===y.avail_out&&(E=-1),Z_OK;if(r==BlockDone){if(t==Z_PARTIAL_FLUSH)i(STATIC_TREES<<1,3),s(END_BLOCK,StaticTree.static_ltree),u(),9>1+st+10-ut&&(i(STATIC_TREES<<1,3),s(END_BLOCK,StaticTree.static_ltree),u()),st=7;else if(c(0,0,!1),t==Z_FULL_FLUSH)for(r=0;r<O;r++)L[r]=0;y.flush_pending();if(0===y.avail_out)return E=-1,Z_OK}}return t!=Z_FINISH?Z_OK:Z_STREAM_END}}function ZStream(){this.total_out=this.avail_out=this.total_in=this.avail_in=this.next_out_index=this.next_in_index=0}function Deflater(e){var t=new ZStream,n=Z_NO_FLUSH,r=new Uint8Array(512);"undefined"==typeof e&&(e=Z_DEFAULT_COMPRESSION),t.deflateInit(e),t.next_out=r,this.append=function(e,i){var s,o=[],u=0,a=0,f=0,c;if(e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{t.next_out_index=0,t.avail_out=512,s=t.deflate(n);if(s!=Z_OK)throw"deflating: "+t.msg;t.next_out_index&&(512==t.next_out_index?o.push(new Uint8Array(r)):o.push(new Uint8Array(r.subarray(0,t.next_out_index)))),f+=t.next_out_index,i&&0<t.next_in_index&&t.next_in_index!=u&&(i(t.next_in_index),u=t.next_in_index)}while(0<t.avail_in||0===t.avail_out);return c=new Uint8Array(f),o.forEach(function(e){c.set(e,a),a+=e.length}),c}},this.flush=function(){var e,n=[],i=0,s=0,o;do{t.next_out_index=0,t.avail_out=512,e=t.deflate(Z_FINISH);if(e!=Z_STREAM_END&&e!=Z_OK)throw"deflating: "+t.msg;0<512-t.avail_out&&n.push(new Uint8Array(r.subarray(0,t.next_out_index))),s+=t.next_out_index}while(0<t.avail_in||0===t.avail_out);return t.deflateEnd(),o=new Uint8Array(s),n.forEach(function(e){o.set(e,i),i+=e.length}),o}}(function(e,t){function n(e){var t=dt[e]={};return Y.each(e.split(tt),function(e,n){t[n]=!0}),t}function r(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(mt,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:vt.test(r)?Y.parseJSON(r):r}catch(s){}Y.data(e,n,r)}else r=t}return r}function i(e){var t;for(t in e){if(t==="data"&&Y.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function s(){return!1}function o(){return!0}function u(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function a(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function f(e,t,n){t=t||0;if(Y.isFunction(t))return Y.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return Y.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=Y.grep(e,function(e){return e.nodeType===1});if(Bt.test(t))return Y.filter(t,r,!n);t=Y.filter(t,r)}return Y.grep(e,function(e,r){return Y.inArray(e,t)>=0===n})}function l(e){var t=It.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function c(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e,t){if(t.nodeType!==1||!Y.hasData(e))return;var n,r,i,s=Y._data(e),o=Y._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)Y.event.add(t,n,u[n][r])}o.data&&(o.data=Y.extend({},o.data))}function p(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),Y.support.html5Clone&&e.innerHTML&&!Y.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Kt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Y.expando)}function d(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function v(e){Kt.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=yn.length;while(i--){t=yn[i]+n;if(t in e)return t}return r}function g(e,t){return e=t||e,Y.css(e,"display")==="none"||!Y.contains(e.ownerDocument,e)}function y(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=Y._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&g(n)&&(i[s]=Y._data(n,"olddisplay",S(n.nodeName)))):(r=nn(n,"display"),!i[s]&&r!=="none"&&Y._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function b(e,t,n){var r=cn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function w(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=Y.css(e,n+gn[i],!0)),r?(n==="content"&&(s-=parseFloat(nn(e,"padding"+gn[i]))||0),n!=="margin"&&(s-=parseFloat(nn(e,"border"+gn[i]+"Width"))||0)):(s+=parseFloat(nn(e,"padding"+gn[i]))||0,n!=="padding"&&(s+=parseFloat(nn(e,"border"+gn[i]+"Width"))||0));return s}function E(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=Y.support.boxSizing&&Y.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=nn(e,t);if(r<0||r==null)r=e.style[t];if(hn.test(r))return r;i=s&&(Y.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+w(e,t,n||(s?"border":"content"),i)+"px"}function S(e){if(dn[e])return dn[e];var t=Y("<"+e+">").appendTo(R.body),n=t.css("display");t.remove();if(n==="none"||n===""){rn=R.body.appendChild(rn||Y.extend(R.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!sn||!rn.createElement)sn=(rn.contentWindow||rn.contentDocument).document,sn.write("<!doctype html><html><body>"),sn.close();t=sn.body.appendChild(sn.createElement(e)),n=nn(t,"display"),R.body.removeChild(rn)}return dn[e]=n,n}function x(e,t,n,r){var i;if(Y.isArray(t))Y.each(t,function(t,i){n||En.test(e)?r(e,i):x(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&Y.type(t)==="object")for(i in t)x(e+"["+i+"]",t[i],n,r);else r(e,t)}function T(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(tt),u=0,a=o.length;if(Y.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function N(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===jn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=N(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=N(e,n,r,i,"*",o)),u}function C(e,n){var r,i,s=Y.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&Y.extend(!0,e,i)}function k(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function L(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function A(){try{return new e.XMLHttpRequest}catch(t){}}function O(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function M(){return setTimeout(function(){Jn=t},0),Jn=Y.now()}function _(e,t){Y.each(t,function(t,n){var r=(er[t]||[]).concat(er["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function D(e,t,n){var r,i=0,s=0,o=Zn.length,u=Y.Deferred().always(function(){delete a.elem}),a=function(){var t=Jn||M(),n=Math.max(0,f.startTime+f.duration-t),r=1-(n/f.duration||0),i=0,s=f.tweens.length;for(;i<s;i++)f.tweens[i].run(r);return u.notifyWith(e,[f,r,n]),r<1&&s?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:Y.extend({},t),opts:Y.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jn||M(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=Y.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;P(l,f.opts.specialEasing);for(;i<o;i++){r=Zn[i].call(f,e,l,f.opts);if(r)return r}return _(f,l),Y.isFunction(f.opts.start)&&f.opts.start.call(e,f),Y.fx.timer(Y.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function P(e,t){var n,r,i,s,o;for(n in e){r=Y.camelCase(n),i=t[r],s=e[n],Y.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=Y.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function H(e,t,n){var r,i,s,o,u,a,f,l,c=this,h=e.style,p={},d=[],v=e.nodeType&&g(e);n.queue||(f=Y._queueHooks(e,"fx"),f.unqueued==null&&(f.unqueued=0,l=f.empty.fire,f.empty.fire=function(){f.unqueued||l()}),f.unqueued++,c.always(function(){c.always(function(){f.unqueued--,Y.queue(e,"fx").length||f.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],Y.css(e,"display")==="inline"&&Y.css(e,"float")==="none"&&(!Y.support.inlineBlockNeedsLayout||S(e.nodeName)==="inline"?h.display="inline-block":h.zoom=1)),n.overflow&&(h.overflow="hidden",Y.support.shrinkWrapBlocks||c.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Qn.exec(s)){delete t[r];if(s===(v?"hide":"show"))continue;d.push(r)}}o=d.length;if(o){u=Y._data(e,"fxshow")||Y._data(e,"fxshow",{}),v?Y(e).show():c.done(function(){Y(e).hide()}),c.done(function(){var t;Y.removeData(e,"fxshow",!0);for(t in p)Y.style(e,t,p[t])});for(r=0;r<o;r++)i=d[r],a=c.createTween(i,v?u[i]:0),p[i]=u[i]||Y.style(e,i),i in u||(u[i]=a.start,v&&(a.end=a.start,a.start=i==="width"||i==="height"?1:0))}}function B(e,t,n,r,i){return new B.prototype.init(e,t,n,r,i)}function j(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=gn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e){return Y.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var I,q,R=e.document,U=e.location,z=e.navigator,W=e.jQuery,X=e.$,V=Array.prototype.push,$=Array.prototype.slice,J=Array.prototype.indexOf,K=Object.prototype.toString,Q=Object.prototype.hasOwnProperty,G=String.prototype.trim,Y=function(e,t){return new Y.fn.init(e,t,I)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,it=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^[\],:{}\s]*$/,ot=/(?:^|:|,)(?:\s*\[)+/g,ut=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,at=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ft=/^-ms-/,lt=/-([\da-z])/gi,ct=function(e,t){return(t+"").toUpperCase()},ht=function(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",ht,!1),Y.ready()):R.readyState==="complete"&&(R.detachEvent("onreadystatechange",ht),Y.ready())},pt={};Y.fn=Y.prototype={constructor:Y,init:function(e,n,r){var i,s,o,u;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=rt.exec(e);if(i&&(i[1]||!n)){if(i[1])return n=n instanceof Y?n[0]:n,u=n&&n.nodeType?n.ownerDocument||n:R,e=Y.parseHTML(i[1],u,!0),it.test(i[1])&&Y.isPlainObject(n)&&this.attr.call(e,n,!0),Y.merge(this,e);s=R.getElementById(i[2]);if(s&&s.parentNode){if(s.id!==i[2])return r.find(e);this.length=1,this[0]=s}return this.context=R,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return Y.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Y.makeArray(e,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return $.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=Y.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return Y.each(this,e,t)},ready:function(e){return Y.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack($.apply(this,arguments),"slice",$.call(arguments).join(","))},map:function(e){return this.pushStack(Y.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:[].sort,splice:[].splice},Y.fn.init.prototype=Y.fn,Y.extend=Y.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!Y.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(Y.isPlainObject(i)||(s=Y.isArray(i)))?(s?(s=!1,o=r&&Y.isArray(r)?r:[]):o=r&&Y.isPlainObject(r)?r:{},u[n]=Y.extend(l,o,i)):i!==t&&(u[n]=i)}return u},Y.extend({noConflict:function(t){return e.$===Y&&(e.$=X),t&&e.jQuery===Y&&(e.jQuery=W),Y},isReady:!1,readyWait:1,holdReady:function(e){e?Y.readyWait++:Y.ready(!0)},ready:function(e){if(e===!0?--Y.readyWait:Y.isReady)return;if(!R.body)return setTimeout(Y.ready,1);Y.isReady=!0;if(e!==!0&&--Y.readyWait>0)return;q.resolveWith(R,[Y]),Y.fn.trigger&&Y(R).trigger("ready").off("ready")},isFunction:function(e){return Y.type(e)==="function"},isArray:Array.isArray||function(e){return Y.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):pt[K.call(e)]||"object"},isPlainObject:function(e){if(!e||Y.type(e)!=="object"||e.nodeType||Y.isWindow(e))return!1;try{if(e.constructor&&!Q.call(e,"constructor")&&!Q.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||Q.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||R,(r=it.exec(e))?[t.createElement(r[1])]:(r=Y.buildFragment([e],t,n?null:[]),Y.merge([],(r.cacheable?Y.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=Y.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(st.test(t.replace(ut,"@").replace(at,"]").replace(ot,"")))return(new Function("return "+t))();Y.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&Y.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ft,"ms-").replace(lt,ct)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||Y.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:G&&!G.call("ï»¿ ")?function(e){return e==null?"":G.call(e)}:function(e){return e==null?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=Y.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||Y.isWindow(e)?V.call(r,e):Y.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(J)return J.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof Y||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||Y.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),Y.isFunction(e)?(i=$.call(arguments,2),s=function(){return e.apply(n,i.concat($.call(arguments)))},s.guid=e.guid=e.guid||Y.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)Y.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&Y.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(Y(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),Y.ready.promise=function(t){if(!q){q=Y.Deferred();if(R.readyState==="complete")setTimeout(Y.ready,1);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",ht,!1),e.addEventListener("load",Y.ready,!1);else{R.attachEvent("onreadystatechange",ht),e.attachEvent("onload",Y.ready);var n=!1;try{n=e.frameElement==null&&R.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!Y.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}Y.ready()}}()}}return q.promise(t)},Y.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pt["[object "+t+"]"]=t.toLowerCase()}),I=Y(R);var dt={};Y.Callbacks=function(e){e=typeof e=="string"?dt[e]||n(e):Y.extend({},e);var r,i,s,o,u,a,f=[],l=!e.once&&[],c=function(t){r=e.memory&&t,i=!0,a=o||0,o=0,u=f.length,s=!0;for(;f&&a<u;a++)if(f[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}s=!1,f&&(l?l.length&&c(l.shift()):r?f=[]:h.disable())},h={add:function(){if(f){var t=f.length;(function n(t){Y.each(t,function(t,r){var i=Y.type(r);i==="function"&&(!e.unique||!h.has(r))?f.push(r):r&&r.length&&i!=="string"&&n(r)})})(arguments),s?u=f.length:r&&(o=t,c(r))}return this},remove:function(){return f&&Y.each(arguments,function(e,t){var n;while((n=Y.inArray(t,f,n))>-1)f.splice(n,1),s&&(n<=u&&u--,n<=a&&a--)}),this},has:function(e){return Y.inArray(e,f)>-1},empty:function(){return f=[],this},disable:function(){return f=l=r=t,this},disabled:function(){return!f},lock:function(){return l=t,r||h.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],f&&(!i||l)&&(s?l.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},Y.extend({Deferred:function(e){var t=[["resolve","done",Y.Callbacks("once memory"),"resolved"],["reject","fail",Y.Callbacks("once memory"),"rejected"],["notify","progress",Y.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Y.Deferred(function(n){Y.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](Y.isFunction(o)?function(){var e=o.apply(this,arguments);e&&Y.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?Y.extend(e,r):r}},i={};return r.pipe=r.then,Y.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=$.call(arguments),r=n.length,i=r!==1||e&&Y.isFunction(e.promise)?r:0,s=i===1?e:Y.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?$.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&Y.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),Y.support=function(){var t,n,r,i,s,o,u,a,f,l,c,h=R.createElement("div");h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),r=h.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5";if(!n||!n.length)return{};i=R.createElement("select"),s=i.appendChild(R.createElement("option")),o=h.getElementsByTagName("input")[0],t={leadingWhitespace:h.firstChild.nodeType===3,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:o.value==="on",optSelected:s.selected,getSetAttribute:h.className!=="t",enctype:!!R.createElement("form").enctype,html5Clone:R.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:R.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!s.disabled;try{delete h.test}catch(p){t.deleteExpando=!1}!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",c=function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",c)),o=R.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue=o.value==="t",o.setAttribute("checked","checked"),o.setAttribute("name","t"),h.appendChild(o),u=R.createDocumentFragment(),u.appendChild(h.lastChild),t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,u.removeChild(o),u.appendChild(h);if(h.attachEvent)for(f in{submit:!0,change:!0,focusin:!0})a="on"+f,l=a in h,l||(h.setAttribute(a,"return;"),l=typeof h[a]=="function"),t[f+"Bubbles"]=l;return Y(function(){var n,r,i,s,o="padding:0;margin:0;border:0;display:block;overflow:hidden;",u=R.getElementsByTagName("body")[0];if(!u)return;n=R.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",u.insertBefore(n,u.firstChild),r=R.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=r.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",l=i[0].offsetHeight===0,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=l&&i[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=u.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",s=R.createElement("div"),s.style.cssText=r.style.cssText=o,s.style.marginRight=s.style.width="0",r.style.width="1px",r.appendChild(s),t.reliableMarginRight=!parseFloat((e.getComputedStyle(s,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),u.removeChild(n),n=r=i=s=null}),u.removeChild(h),n=r=i=s=o=u=h=null,t}();var vt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,mt=/([A-Z])/g;Y.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Y.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Y.cache[e[Y.expando]]:e[Y.expando],!!e&&!i(e)},data:function(e,n,r,i){if(!Y.acceptData(e))return;var s,o,u=Y.expando,a=typeof n=="string",f=e.nodeType,l=f?Y.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=Y.deletedIds.pop()||Y.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=Y.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=Y.extend(l[c],n):l[c].data=Y.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[Y.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[Y.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!Y.acceptData(e))return;var r,s,o,u=e.nodeType,a=u?Y.cache:e,f=u?e[Y.expando]:Y.expando;if(!a[f])return;if(t){r=n?a[f]:a[f].data;if(r){Y.isArray(t)||(t in r?t=[t]:(t=Y.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(s=0,o=t.length;s<o;s++)delete r[t[s]];if(!(n?i:Y.isEmptyObject)(r))return}}if(!n){delete a[f].data;if(!i(a[f]))return}u?Y.cleanData([e],!0):Y.support.deleteExpando||a!=a.window?delete a[f]:a[f]=null},_data:function(e,t,n){return Y.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Y.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Y.fn.extend({data:function(e,n){var i,s,o,u,a,f=this[0],l=0,c=null;if(e===t){if(this.length){c=Y.data(f);if(f.nodeType===1&&!Y._data(f,"parsedAttrs")){o=f.attributes;for(a=o.length;l<a;l++)u=o[l].name,u.indexOf("data-")||(u=Y.camelCase(u.substring(5)),r(f,u,c[u]));Y._data(f,"parsedAttrs",!0)}}return c}return typeof e=="object"?this.each(function(){Y.data(this,e)}):(i=e.split(".",2),i[1]=i[1]?"."+i[1]:"",s=i[1]+"!",Y.access(this,function(n){if(n===t)return c=this.triggerHandler("getData"+s,[i[0]]),c===t&&f&&(c=Y.data(f,e),c=r(f,e,c)),c===t&&i[1]?this.data(i[0]):c;i[1]=n,this.each(function(){var t=Y(this);t.triggerHandler("setData"+s,i),Y.data(this,e,n),t.triggerHandler("changeData"+s,i)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Y.removeData(this,e)})}}),Y.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y._data(e,t),n&&(!r||Y.isArray(n)?r=Y._data(e,t,Y.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Y.queue(e,t),r=n.length,i=n.shift(),s=Y._queueHooks(e,t),o=function(){Y.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y._data(e,n)||Y._data(e,n,{empty:Y.Callbacks("once memory").add(function(){Y.removeData(e,t+"queue",!0),Y.removeData(e,n,!0)})})}}),Y.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?Y.queue(this[0],e):n===t?this:this.each(function(){var t=Y.queue(this,e,n);Y._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&Y.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Y.dequeue(this,e)})},delay:function(e,t){return e=Y.fx?Y.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=Y.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=Y._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var gt,yt,bt,wt=/[\t\r\n]/g,Et=/\r/g,St=/^(?:button|input)$/i,xt=/^(?:button|input|object|select|textarea)$/i,Tt=/^a(?:rea|)$/i,Nt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ct=Y.support.getSetAttribute;Y.fn.extend({attr:function(e,t){return Y.access(this,Y.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Y.removeAttr(this,e)})},prop:function(e,t){return Y.access(this,Y.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Y.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(Y.isFunction(e))return this.each(function(t){Y(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(tt);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=Y.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(Y.isFunction(e))return this.each(function(t){Y(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(tt);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(wt," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?Y.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return Y.isFunction(e)?this.each(function(n){Y(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=Y(this),u=t,a=e.split(tt);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&Y._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Y._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(wt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=Y.valHooks[s.type]||Y.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(Et,""):r==null?"":r);return}return i=Y.isFunction(e),this.each(function(r){var s,o=Y(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":Y.isArray(s)&&(s=Y.map(s,function(e){return e==null?"":e+""})),n=Y.valHooks[this.type]||Y.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),Y.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,s=e.selectedIndex,o=[],u=e.options,a=e.type==="select-one";if(s<0)return null;n=a?s:0,r=a?s+1:u.length;for(;n<r;n++){i=u[n];if(i.selected&&(Y.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!Y.nodeName(i.parentNode,"optgroup"))){t=Y(i).val();if(a)return t;o.push(t)}}return a&&!o.length&&u.length?Y(u[s]).val():o},set:function(e,t){var n=Y.makeArray(t);return Y(e).find("option").each(function(){this.selected=Y.inArray(Y(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&Y.isFunction(Y.fn[n]))return Y(e)[n](r);if(typeof e.getAttribute=="undefined")return Y.prop(e,n,r);u=a!==1||!Y.isXMLDoc(e),u&&(n=n.toLowerCase(),o=Y.attrHooks[n]||(Nt.test(n)?yt:gt));if(r!==t){if(r===null){Y.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(tt);for(;o<r.length;o++)i=r[o],i&&(n=Y.propFix[i]||i,s=Nt.test(i),s||Y.attr(e,i,""),e.removeAttribute(Ct?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(St.test(e.nodeName)&&e.parentNode)Y.error("type property can't be changed");else if(!Y.support.radioValue&&t==="radio"&&Y.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return gt&&Y.nodeName(e,"button")?gt.get(e,t):t in e?e.value:null},set:function(e,t,n){if(gt&&Y.nodeName(e,"button"))return gt.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!Y.isXMLDoc(e),o&&(n=Y.propFix[n]||n,s=Y.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):xt.test(e.nodeName)||Tt.test(e.nodeName)&&e.href?0:t}}}}),yt={get:function(e,n){var r,i=Y.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?Y.removeAttr(e,n):(r=Y.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},Ct||(bt={name:!0,id:!0,coords:!0},gt=Y.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(bt[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=R.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},Y.each(["width","height"],function(e,t){Y.attrHooks[t]=Y.extend(Y.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),Y.attrHooks.contenteditable={get:gt.get,set:function(e,t,n){t===""&&(t="false"),gt.set(e,t,n)}}),Y.support.hrefNormalized||Y.each(["href","src","width","height"],function(e,n){Y.attrHooks[n]=Y.extend(Y.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),Y.support.style||(Y.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Y.support.optSelected||(Y.propHooks.selected=Y.extend(Y.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Y.support.enctype||(Y.propFix.enctype="encoding"),Y.support.checkOn||Y.each(["radio","checkbox"],function(){Y.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),Y.each(["radio","checkbox"],function(){Y.valHooks[this]=Y.extend(Y.valHooks[this],{set:function(e,t){if(Y.isArray(t))return e.checked=Y.inArray(Y(e).val(),t)>=0}})});var kt=/^(?:textarea|input|select)$/i,Lt=/^([^\.]*|)(?:\.(.+)|)$/,At=/(?:^|\s)hover(\.\S+|)\b/,Ot=/^key/,Mt=/^(?:mouse|contextmenu)|click/,_t=/^(?:focusinfocus|focusoutblur)$/,Dt=function(e){return Y.event.special.hover?e:e.replace(At,"mouseenter$1 mouseleave$1")};Y.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,v,m;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=Y._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=Y.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof Y=="undefined"||!!e&&Y.event.triggered===e.type?t:Y.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=Y.trim(Dt(n)).split(" ");for(f=0;f<n.length;f++){l=Lt.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),m=Y.event.special[c]||{},c=(s?m.delegateType:m.bindType)||c,m=Y.event.special[c]||{},p=Y.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&Y.expr.match.needsContext.test(s),namespace:h.join(".")},d),v=a[c];if(!v){v=a[c]=[],v.delegateCount=0;if(!m.setup||m.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}m.add&&(m.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?v.splice(v.delegateCount++,0,p):v.push(p),Y.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=Y.hasData(e)&&Y._data(e);if(!m||!(h=m.events))return;t=Y.trim(Dt(t||"")).split(" ");for(s=0;s<t.length;s++){o=Lt.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)Y.event.remove(e,u+t[s],n,r,!0);continue}p=Y.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)v=d[c],(i||a===v.origType)&&(!n||n.guid===v.guid)&&(!f||f.test(v.namespace))&&(!r||r===v.selector||r==="**"&&v.selector)&&(d.splice(c--,1),v.selector&&d.delegateCount--,p.remove&&p.remove.call(e,v));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,m.handle)===!1)&&Y.removeEvent(e,u,m.handle),delete h[u])}Y.isEmptyObject(h)&&(delete m.handle,Y.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,s){if(!i||i.nodeType!==3&&i.nodeType!==8){var o,u,a,f,l,c,h,p,d,v,m=n.type||n,g=[];if(_t.test(m+Y.event.triggered))return;m.indexOf("!")>=0&&(m=m.slice(0,-1),u=!0),m.indexOf(".")>=0&&(g=m.split("."),m=g.shift(),g.sort());if((!i||Y.event.customEvent[m])&&!Y.event.global[m])return;n=typeof n=="object"?n[Y.expando]?n:new Y.Event(m,n):new Y.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=u,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=m.indexOf(":")<0?"on"+m:"";if(!i){o=Y.cache;for(a in o)o[a].events&&o[a].events[m]&&Y.event.trigger(n,r,o[a].handle.elem,!0);return}n.result=t,n.target||(n.target=i),r=r!=null?Y.makeArray(r):[],r.unshift(n),h=Y.event.special[m]||{};if(h.trigger&&h.trigger.apply(i,r)===!1)return;d=[[i,h.bindType||m]];if(!s&&!h.noBubble&&!Y.isWindow(i)){v=h.delegateType||m,f=_t.test(v+m)?i:i.parentNode;for(l=i;f;f=f.parentNode)d.push([f,v]),l=f;l===(i.ownerDocument||R)&&d.push([l.defaultView||l.parentWindow||e,v])}for(a=0;a<d.length&&!n.isPropagationStopped();a++)f=d[a][0],n.type=d[a][1],p=(Y._data(f,"events")||{})[n.type]&&Y._data(f,"handle"),p&&p.apply(f,r),p=c&&f[c],p&&Y.acceptData(f)&&p.apply&&p.apply(f,r)===!1&&n.preventDefault();return n.type=m,!s&&!n.isDefaultPrevented()&&(!h._default||h._default.apply(i.ownerDocument,r)===!1)&&(m!=="click"||!Y.nodeName(i,"a"))&&Y.acceptData(i)&&c&&i[m]&&(m!=="focus"&&m!=="blur"||n.target.offsetWidth!==0)&&!Y.isWindow(i)&&(l=i[c],l&&(i[c]=null),Y.event.triggered=m,i[m](),Y.event.triggered=t,l&&(i[c]=l)),n.result}return},dispatch:function(n){n=Y.event.fix(n||e.event);var r,i,s,o,u,a,f,l,c,h,p=(Y._data(this,"events")||{})[n.type]||[],d=p.delegateCount,v=$.call(arguments),m=!n.exclusive&&!n.namespace,g=Y.event.special[n.type]||{},y=[];v[0]=n,n.delegateTarget=this;if(g.preDispatch&&g.preDispatch.call(this,n)===!1)return;if(d&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<d;r++)l=p[r],c=l.selector,u[c]===t&&(u[c]=l.needsContext?Y(c,this).index(s)>=0:Y.find(c,this,null,[s]).length),u[c]&&f.push(l);f.length&&y.push({elem:s,matches:f})}p.length>d&&y.push({elem:this,matches:p.slice(d)});for(r=0;r<y.length&&!n.isPropagationStopped();r++){a=y[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){l=a.matches[i];if(m||!n.namespace&&!l.namespace||n.namespace_re&&n.namespace_re.test(l.namespace))n.data=l.data,n.handleObj=l,o=((Y.event.special[l.origType]||{}).handle||l.handler).apply(a.elem,v),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return g.postDispatch&&g.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,o=n.button,u=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||R,i=r.documentElement,s=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),!e.which&&o!==t&&(e.which=o&1?1:o&2?3:o&4?2:0),e}},fix:function(e){if(e[Y.expando])return e;var t,n,r=e,i=Y.event.fixHooks[e.type]||{},s=i.props?this.props.concat(i.props):this.props;e=Y.Event(r);for(t=s.length;t;)n=s[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||R),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Y.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=Y.extend(new Y.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Y.event.trigger(i,null,t):Y.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Y.event.handle=Y.event.dispatch,Y.removeEvent=R.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},Y.Event=function(e,t){if(!(this instanceof Y.Event))return new Y.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?o:s):this.type=e,t&&Y.extend(this,t),this.timeStamp=e&&e.timeStamp||Y.now(),this[Y.expando]=!0},Y.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=o;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s},Y.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Y.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!Y.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),Y.support.submitBubbles||(Y.event.special.submit={setup:function(){if(Y.nodeName(this,"form"))return!1;Y.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=Y.nodeName(n,"input")||Y.nodeName(n,"button")?n.form:t;r&&!Y._data(r,"_submit_attached")&&(Y.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),Y._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Y.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(Y.nodeName(this,"form"))return!1;Y.event.remove(this,"._submit")}}),Y.support.changeBubbles||(Y.event.special.change={setup:function(){if(kt.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")Y.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),Y.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Y.event.simulate("change",this,e,!0)});return!1}Y.event.add(this,"beforeactivate._change",function(e){var t=e.target;kt.test(t.nodeName)&&!Y._data(t,"_change_attached")&&(Y.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&Y.event.simulate("change",this.parentNode,e,!0)}),Y._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return Y.event.remove(this,"._change"),!kt.test(this.nodeName)}}),Y.support.focusinBubbles||Y.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){Y.event.simulate(t,e.target,Y.event.fix(e),!0)};Y.event.special[t]={setup:function(){n++===0&&R.addEventListener(e,r,!0)},teardown:function(){--n===0&&R.removeEventListener(e,r,!0)}}}),Y.fn.extend({on:function(e,n,r,i,o){var u,a;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=s;else if(!i)return this;return o===1&&(u=i,i=function(e){return Y().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=Y.guid++)),this.each(function(){Y.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Y(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(o in e)this.off(o,n,e[o]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=s),this.each(function(){Y.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Y(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Y(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Y.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return Y.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||Y.guid++,r=0,i=function(n){var i=(Y._data(this,"lastToggle"+e.guid)||0)%r;return Y._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Y.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Y.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Ot.test(t)&&(Y.event.fixHooks[t]=Y.event.keyHooks),Mt.test(t)&&(Y.event.fixHooks[t]=Y.event.mouseHooks)}),function(e,t){function n(e,t,n,r){n=n||[],t=t||M;var i,s,o,u,a=t.nodeType;if(!e||typeof e!="string")return n;if(a!==1&&a!==9)return[];o=E(t);if(!o&&!r)if(i=nt.exec(e))if(u=i[1]){if(a===9){s=t.getElementById(u);if(!s||!s.parentNode)return n;if(s.id===u)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(u))&&S(t,s)&&s.id===u)return n.push(s),n}else{if(i[2])return B.apply(n,j.call(t.getElementsByTagName(e),0)),n;if((u=i[3])&&dt&&t.getElementsByClassName)return B.apply(n,j.call(t.getElementsByClassName(u),0)),n}return v(e.replace(G,"$1"),t,n,r,o)}function r(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function i(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function s(e){return I(function(t){return t=+t,I(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function o(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function u(e,t){var r,i,s,o,u,a,f,l=U[A][e];if(l)return t?0:l.slice(0);u=e,a=[],f=b.preFilter;while(u){if(!r||(i=Z.exec(u)))i&&(u=u.slice(i[0].length)),a.push(s=[]);r=!1;if(i=et.exec(u))s.push(r=new O(i.shift())),u=u.slice(r.length),r.type=i[0].replace(G," ");for(o in b.filter)(i=ft[o].exec(u))&&(!f[o]||(i=f[o](i,M,!0)))&&(s.push(r=new O(i.shift())),u=u.slice(r.length),r.type=o,r.matches=i);if(!r)break}return t?u.length:u?n.error(e):U(e,a).slice(0)}function a(e,t,n){var r=t.dir,i=n&&t.dir==="parentNode",s=P++;return t.first?function(t,n,s){while(t=t[r])if(i||t.nodeType===1)return e(t,n,s)}:function(t,n,o){if(!o){var u,a=D+" "+s+" ",f=a+g;while(t=t[r])if(i||t.nodeType===1){if((u=t[A])===f)return t.sizset;if(typeof u=="string"&&u.indexOf(a)===0){if(t.sizset)return t}else{t[A]=f;if(e(t,n,o))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[r])if(i||t.nodeType===1)if(e(t,n,o))return t}}function f(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function l(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function c(e,t,n,r,i,s){return r&&!r[A]&&(r=c(r)),i&&!i[A]&&(i=c(i,s)),I(function(s,o,u,a){if(s&&i)return;var f,c,h,p=[],v=[],m=o.length,g=s||d(t||"*",u.nodeType?[u]:u,[],s),y=e&&(s||!t)?l(g,p,e,u,a):g,b=n?i||(s?e:m||r)?[]:o:y;n&&n(y,b,u,a);if(r){h=l(b,v),r(h,[],u,a),f=h.length;while(f--)if(c=h[f])b[v[f]]=!(y[v[f]]=c)}if(s){f=e&&b.length;while(f--)if(c=b[f])s[p[f]]=!(o[p[f]]=c)}else b=l(b===o?b.splice(m,b.length):b),i?i(null,o,b,a):B.apply(o,b)})}function h(e){var t,n,r,i=e.length,s=b.relative[e[0].type],o=s||b.relative[" "],u=s?1:0,l=a(function(e){return e===t},o,!0),p=a(function(e){return F.call(t,e)>-1},o,!0),d=[function(e,n,r){return!s&&(r||n!==C)||((t=n).nodeType?l(e,n,r):p(e,n,r))}];for(;u<i;u++)if(n=b.relative[e[u].type])d=[a(f(d),n)];else{n=b.filter[e[u].type].apply(null,e[u].matches);if(n[A]){r=++u;for(;r<i;r++)if(b.relative[e[r].type])break;return c(u>1&&f(d),u>1&&e.slice(0,u-1).join("").replace(G,"$1"),n,u<r&&h(e.slice(u,r)),r<i&&h(e=e.slice(r)),r<i&&e.join(""))}d.push(n)}return f(d)}function p(e,t){var r=t.length>0,i=e.length>0,s=function(o,u,a,f,c){var h,p,d,v=[],m=0,y="0",w=o&&[],E=c!=null,S=C,x=o||i&&b.find.TAG("*",c&&u.parentNode||u),T=D+=S==null?1:Math.E;E&&(C=u!==M&&u,g=s.el);for(;(h=x[y])!=null;y++){if(i&&h){for(p=0;d=e[p];p++)if(d(h,u,a)){f.push(h);break}E&&(D=T,g=++s.el)}r&&((h=!d&&h)&&m--,o&&w.push(h))}m+=y;if(r&&y!==m){for(p=0;d=t[p];p++)d(w,v,u,a);if(o){if(m>0)while(y--)!w[y]&&!v[y]&&(v[y]=H.call(f));v=l(v)}B.apply(f,v),E&&!o&&v.length>0&&m+t.length>1&&n.uniqueSort(f)}return E&&(D=T,C=S),w};return s.el=0,r?I(s):s}function d(e,t,r,i){var s=0,o=t.length;for(;s<o;s++)n(e,t[s],r,i);return r}function v(e,t,n,r,i){var s,o,a,f,l,c=u(e),h=c.length;if(!r&&c.length===1){o=c[0]=c[0].slice(0);if(o.length>2&&(a=o[0]).type==="ID"&&t.nodeType===9&&!i&&b.relative[o[1].type]){t=b.find.ID(a.matches[0].replace(at,""),t,i)[0];if(!t)return n;e=e.slice(o.shift().length)}for(s=ft.POS.test(e)?-1:o.length-1;s>=0;s--){a=o[s];if(b.relative[f=a.type])break;if(l=b.find[f])if(r=l(a.matches[0].replace(at,""),it.test(o[0].type)&&t.parentNode||t,i)){o.splice(s,1),e=r.length&&o.join("");if(!e)return B.apply(n,j.call(r,0)),n;break}}}return x(e,c)(r,t,i,n,it.test(e)),n}function m(){}var g,y,b,w,E,S,x,T,N,C,k=!0,L="undefined",A=("sizcache"+Math.random()).replace(".",""),O=String,M=e.document,_=M.documentElement,D=0,P=0,H=[].pop,B=[].push,j=[].slice,F=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},I=function(e,t){return e[A]=t==null||t,e},q=function(){var e={},t=[];return I(function(n,r){return t.push(n)>b.cacheLength&&delete e[t.shift()],e[n]=r},e)},R=q(),U=q(),z=q(),W="[\\x20\\t\\r\\n\\f]",X="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",V=X.replace("w","w#"),$="([*^$|!~]?=)",J="\\["+W+"*("+X+")"+W+"*(?:"+$+W+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+V+")|)|)"+W+"*\\]",K=":("+X+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+J+")|[^:]|\\\\.)*|.*))\\)|)",Q=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)",G=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g"),Z=new RegExp("^"+W+"*,"+W+"*"),et=new RegExp("^"+W+"*([\\x20\\t\\r\\n\\f>+~])"+W+"*"),tt=new RegExp(K),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rt=/^:not/,it=/[\x20\t\r\n\f]*[+~]/,st=/:not\($/,ot=/h\d/i,ut=/input|select|textarea|button/i,at=/\\(?!\\)/g,ft={ID:new RegExp("^#("+X+")"),CLASS:new RegExp("^\\.("+X+")"),NAME:new RegExp("^\\[name=['\"]?("+X+")['\"]?\\]"),TAG:new RegExp("^("+X.replace("w","w*")+")"),ATTR:new RegExp("^"+J),PSEUDO:new RegExp("^"+K),POS:new RegExp(Q,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),needsContext:new RegExp("^"+W+"*[>+~]|"+Q,"i")},lt=function(e){var t=M.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},ct=lt(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),ht=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==L&&e.firstChild.getAttribute("href")==="#"}),pt=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),dt=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),vt=lt(function(e){e.id=A+0,e.innerHTML="<a name='"+A+"'></a><div name='"+A+"'></div>",_.insertBefore(e,_.firstChild);var t=M.getElementsByName&&M.getElementsByName(A).length===2+M.getElementsByName(A+0).length;return y=!M.getElementById(A),_.removeChild(e),t});try{j.call(_.childNodes,0)[0].nodeType}catch(mt){j=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},w=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=w(t);return n},E=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},S=n.contains=_.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:_.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},n.attr=function(e,t){var n,r=E(e);return r||(t=t.toLowerCase()),(n=b.attrHandle[t])?n(e):r||pt?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:I,match:ft,attrHandle:ht?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:y?function(e,t,n){if(typeof t.getElementById!==L&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==L&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==L&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:ct?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:vt&&function(e,t){if(typeof t.getElementsByName!==L)return t.getElementsByName(name)},CLASS:dt&&function(e,t,n){if(typeof t.getElementsByClassName!==L&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(at,""),e[3]=(e[4]||e[5]||"").replace(at,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;if(ft.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])tt.test(t)&&(n=u(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:y?function(e){return e=e.replace(at,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(at,""),function(t){var n=typeof t.getAttributeNode!==L&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(at,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=R[A][e];return t||(t=R(e,new RegExp("(^|"+W+")"+e+"("+W+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")}},ATTR:function(e,t,r){return function(i,s){var o=n.attr(i,e);return o==null?t==="!=":t?(o+="",t==="="?o===r:t==="!="?o!==r:t==="^="?r&&o.indexOf(r)===0:t==="*="?r&&o.indexOf(r)>-1:t==="$="?r&&o.substr(o.length-r.length)===r:t==="~="?(" "+o+" ").indexOf(r)>-1:t==="|="?o===r||o.substr(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var r,i=b.pseudos[e]||b.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return i[A]?i(t):i.length>1?(r=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?I(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=F.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,r)}):i}},pseudos:{not:I(function(e){var t=[],n=[],r=x(e.replace(G,"$1"));return r[A]?I(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:I(function(e){return function(t){return n(e,t).length>0}}),contains:I(function(e){return function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return ot.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:r("radio"),checkbox:r("checkbox"),file:r("file"),password:r("password"),image:r("image"),submit:i("submit"),reset:i("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return ut.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&(!!e.type||!!e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:s(function(e,t,n){return[0]}),last:s(function(e,t,n){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t,n){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:s(function(e,t,n){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},T=_.compareDocumentPosition?function(e,t){return e===t?(N=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return N=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],u=e.parentNode,a=t.parentNode,f=u;if(u===a)return o(e,t);if(!u)return-1;if(!a)return 1;while(f)i.unshift(f),f=f.parentNode;f=a;while(f)s.unshift(f),f=f.parentNode;n=i.length,r=s.length;for(var l=0;l<n&&l<r;l++)if(i[l]!==s[l])return o(i[l],s[l]);return l===n?o(e,s[l],-1):o(i[l],t,1)},[0,0].sort(T),k=!N,n.uniqueSort=function(e){var t,n=1;N=k,e.sort(T);if(N)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},x=n.compile=function(e,t){var n,r=[],i=[],s=z[A][e];if(!s){t||(t=u(e)),n=t.length;while(n--)s=h(t[n]),s[A]?r.push(s):i.push(s);s=z(e,p(i,r))}return s},M.querySelectorAll&&function(){var e,t=v,r=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,s=[":focus"],o=[":active",":focus"],a=_.matchesSelector||_.mozMatchesSelector||_.webkitMatchesSelector||_.oMatchesSelector||_.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||s.push("\\["+W+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||s.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&s.push("[*^$]="+W+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||s.push(":enabled",":disabled")}),s=new RegExp(s.join("|")),v=function(e,n,i,o,a){if(!o&&!a&&(!s||!s.test(e))){var f,l,c=!0,h=A,p=n,d=n.nodeType===9&&e;if(n.nodeType===1&&n.nodeName.toLowerCase()!=="object"){f=u(e),(c=n.getAttribute("id"))?h=c.replace(r,"\\$&"):n.setAttribute("id",h),h="[id='"+h+"'] ",l=f.length;while(l--)f[l]=h+f[l].join("");p=it.test(e)&&n.parentNode||n,d=f.join(",")}if(d)try{return B.apply(i,j.call(p.querySelectorAll(d),0)),i}catch(v){}finally{c||n.removeAttribute("id")}}return t(e,n,i,o,a)},a&&(lt(function(t){e=a.call(t,"div");try{a.call(t,"[test!='']:sizzle"),o.push("!=",K)}catch(n){}}),o=new RegExp(o.join("|")),n.matchesSelector=function(t,r){r=r.replace(i,"='$1']");if(!E(t)&&!o.test(r)&&(!s||!s.test(r)))try{var u=a.call(t,r);if(u||e||t.document&&t.document.nodeType!==11)return u}catch(f){}return n(r,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=m.prototype=b.pseudos,b.setFilters=new m,n.attr=Y.attr,Y.find=n,Y.expr=n.selectors,Y.expr[":"]=Y.expr.pseudos,Y.unique=n.uniqueSort,Y.text=n.getText,Y.isXMLDoc=n.isXML,Y.contains=n.contains}(e);var Pt=/Until$/,Ht=/^(?:parents|prev(?:Until|All))/,Bt=/^.[^:#\[\.,]*$/,jt=Y.expr.match.needsContext,Ft={children:!0,contents:!0,next:!0,prev:!0};Y.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return Y(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(Y.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,Y.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=Y(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(Y.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(f(this,e,!1),"not",e)},filter:function(e){return this.pushStack(f(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?jt.test(e)?Y(e,this.context).index(this[0])>=0:Y.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=jt.test(e)||typeof e!="string"?Y(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:Y.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?Y.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?Y.inArray(this[0],Y(e)):Y.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?Y(e,t):Y.makeArray(e&&e.nodeType?[e]:e),r=Y.merge(this.get(),n);return this.pushStack(u(n[0])||u(r[0])?r:Y.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),Y.fn.andSelf=Y.fn.addBack,Y.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return Y.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Y.dir(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return Y.dir(e,"nextSibling")},prevAll:function(e){return Y.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Y.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Y.dir(e,"previousSibling",n)},siblings:function(e){return Y.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Y.sibling(e.firstChild)},contents:function(e){return Y.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Y.merge([],e.childNodes)}},function(e,t){Y.fn[e]=function(n,r){var i=Y.map(this,t,n);return Pt.test(e)||(r=n),r&&typeof r=="string"&&(i=Y.filter(r,i)),i=this.length>1&&!Ft[e]?Y.unique(i):i,this.length>1&&Ht.test(e)&&(i=i.reverse()),this.pushStack(i,e,$.call(arguments).join(","))}}),Y.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?Y.find.matchesSelector(t[0],e)?[t[0]]:[]:Y.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!Y(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var It="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qt=/ jQuery\d+="(?:null|\d+)"/g,Rt=/^\s+/,Ut=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,Wt=/<tbody/i,Xt=/<|&#?\w+;/,Vt=/<(?:script|style|link)/i,$t=/<(?:script|object|embed|option|style)/i,Jt=new RegExp("<(?:"+It+")[\\s/>]","i"),Kt=/^(?:checkbox|radio)$/,Qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Gt=/\/(java|ecma)script/i,Yt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=l(R),tn=en.appendChild(R.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,Y.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),Y.fn.extend({text:function(e){return Y.access(this,function(e){return e===t?Y.text(this):this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Y.isFunction(e))return this.each(function(t){Y(this).wrapAll(e.call(this,t))});if(this[0]){var t=Y(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Y.isFunction(e)?this.each(function(t){Y(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Y(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Y.isFunction(e);return this.each(function(n){Y(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Y.nodeName(this,"body")||Y(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!u(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(e,this),"before",this.selector)}},after:function(){if(!u(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||Y.filter(e,[n]).length)!t&&n.nodeType===1&&(Y.cleanData(n.getElementsByTagName("*")),Y.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&Y.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return Y.clone(this,e,t)})},html:function(e){return Y.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(qt,""):t;if(typeof e=="string"&&!Vt.test(e)&&(Y.support.htmlSerialize||!Jt.test(e))&&(Y.support.leadingWhitespace||!Rt.test(e))&&!Zt[(zt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ut,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(Y.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return u(this[0])?this.length?this.pushStack(Y(Y.isFunction(e)?e():e),"replaceWith",e):this:Y.isFunction(e)?this.each(function(t){var n=Y(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=Y(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Y(this).remove(),t?Y(t).before(e):Y(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],h=this.length;if(!Y.support.checkClone&&h>1&&typeof f=="string"&&Qt.test(f))return this.each(function(){Y(this).domManip(e,n,r)});if(Y.isFunction(f))return this.each(function(i){var s=Y(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=Y.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&Y.nodeName(s,"tr");for(u=i.cacheable||h-1;a<h;a++)r.call(n&&Y.nodeName(this[a],"table")?c(this[a],"tbody"):this[a],a===u?o:Y.clone(o,!0,!0))}o=s=null,l.length&&Y.each(l,function(e,t){t.src?Y.ajax?Y.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Y.error("no ajax"):Y.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Yt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Y.buildFragment=function(e,n,r){var i,s,o,u=e[0];return n=n||R,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof u=="string"&&u.length<512&&n===R&&u.charAt(0)==="<"&&!$t.test(u)&&(Y.support.checkClone||!Qt.test(u))&&(Y.support.html5Clone||!Jt.test(u))&&(s=!0,i=Y.fragments[u],o=i!==t),i||(i=n.createDocumentFragment(),Y.clean(e,n,i,r),s&&(Y.fragments[u]=o&&i)),{fragment:i,cacheable:s}},Y.fragments={},Y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Y.fn[e]=function(n){var r,i=0,s=[],o=Y(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),Y(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),Y.extend({clone:function(e,t,n){var r,i,s,o;Y.support.html5Clone||Y.isXMLDoc(e)||!Jt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(o=tn.firstChild));if((!Y.support.noCloneEvent||!Y.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!Y.isXMLDoc(e)){p(e,o),r=d(e),i=d(o);for(s=0;r[s];++s)i[s]&&p(r[s],i[s])}if(t){h(e,o);if(n){r=d(e),i=d(o);for(s=0;r[s];++s)h(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var i,s,o,u,a,f,c,h,p,d,m,g,y=t===R&&en,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=R;for(i=0;(o=e[i])!=null;i++){typeof o=="number"&&(o+="");if(!o)continue;if(typeof o=="string")if(!Xt.test(o))o=t.createTextNode(o);else{y=y||l(t),c=t.createElement("div"),y.appendChild(c),o=o.replace(Ut,"<$1></$2>"),u=(zt.exec(o)||["",""])[1].toLowerCase(),a=Zt[u]||Zt._default,f=a[0],c.innerHTML=a[1]+o+a[2];while(f--)c=c.lastChild;if(!Y.support.tbody){h=Wt.test(o),p=u==="table"&&!h?c.firstChild&&c.firstChild.childNodes:a[1]==="<table>"&&!h?c.childNodes:[];for(s=p.length-1;s>=0;--s)Y.nodeName(p[s],"tbody")&&!p[s].childNodes.length&&p[s].parentNode.removeChild(p[s])}!Y.support.leadingWhitespace&&Rt.test(o)&&c.insertBefore(t.createTextNode(Rt.exec(o)[0]),c.firstChild),o=c.childNodes,c.parentNode.removeChild(c)}o.nodeType?b.push(o):Y.merge(b,o)}c&&(o=c=y=null);if(!Y.support.appendChecked)for(i=0;(o=b[i])!=null;i++)Y.nodeName(o,"input")?v(o):typeof o.getElementsByTagName!="undefined"&&Y.grep(o.getElementsByTagName("input"),v);if(n){m=function(e){if(!e.type||Gt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(i=0;(o=b[i])!=null;i++)if(!Y.nodeName(o,"script")||!m(o))n.appendChild(o),typeof o.getElementsByTagName!="undefined"&&(g=Y.grep(Y.merge([],o.getElementsByTagName("script")),m),b.splice.apply(b,[i+1,0].concat(g)),i+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=Y.expando,a=Y.cache,f=Y.support.deleteExpando,l=Y.event.special;for(;(i=e[o])!=null;o++)if(t||Y.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?Y.event.remove(i,s):Y.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,Y.deletedIds.push(r))}}}}),function(){var e,t;Y.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Y.uaMatch(z.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Y.browser=t,Y.sub=function(){function e(t,n){return new e.fn.init(t,n)}Y.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function n(n,r){return r&&r instanceof Y&&!(r instanceof e)&&(r=e(r)),Y.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(R);return e}}();var nn,rn,sn,on=/alpha\([^)]*\)/i,un=/opacity=([^)]*)/,an=/^(top|right|bottom|left)$/,fn=/^(none|table(?!-c[ea]).+)/,ln=/^margin/,cn=new RegExp("^("+Z+")(.*)$","i"),hn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),pn=new RegExp("^([-+])=("+Z+")","i"),dn={},vn={position:"absolute",visibility:"hidden",display:"block"},mn={letterSpacing:0,fontWeight:400},gn=["Top","Right","Bottom","Left"],yn=["Webkit","O","Moz","ms"],bn=Y.fn.toggle;Y.fn.extend({css:function(e,n){return Y.access(this,function(e,n,r){return r!==t?Y.style(e,n,r):Y.css(e,n)},e,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var n=typeof e=="boolean";return Y.isFunction(e)&&Y.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:g(this))?Y(this).show():Y(this).hide()})}}),Y.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Y.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=Y.camelCase(n),f=e.style;n=Y.cssProps[a]||(Y.cssProps[a]=m(f,a)),u=Y.cssHooks[n]||Y.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=pn.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(Y.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!Y.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=Y.camelCase(n);return n=Y.cssProps[a]||(Y.cssProps[a]=m(e.style,a)),u=Y.cssHooks[n]||Y.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=nn(e,n)),s==="normal"&&n in mn&&(s=mn[n]),r||i!==t?(o=parseFloat(s),r||Y.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?nn=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u[n],r===""&&!Y.contains(t.ownerDocument,t)&&(r=Y.style(t,n)),hn.test(r)&&ln.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:R.documentElement.currentStyle&&(nn=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),hn.test(i)&&!an.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),Y.each(["height","width"],function(e,t){Y.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&fn.test(nn(e,"display"))?Y.swap(e,vn,function(){return E(e,t,r)}):E(e,t,r)},set:function(e,n,r){return b(e,n,r?w(e,t,r,Y.support.boxSizing&&Y.css(e,"boxSizing")==="border-box"):0)}}}),Y.support.opacity||(Y.cssHooks.opacity={get:function(e,t){return un.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=Y.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&Y.trim(s.replace(on,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=on.test(s)?s.replace(on,i):s+" "+i}}),Y(function(){Y.support.reliableMarginRight||(Y.cssHooks.marginRight={get:function(e,t){return Y.swap(e,{display:"inline-block"},function(){if(t)return nn(e,"marginRight")})}}),!Y.support.pixelPosition&&Y.fn.position&&Y.each(["top","left"],function(e,t){Y.cssHooks[t]={get:function(e,n){if(n){var r=nn(e,t);return hn.test(r)?Y(e).position()[t]+"px":r}}}})}),Y.expr&&Y.expr.filters&&(Y.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!Y.support.reliableHiddenOffsets&&(e.style&&e.style.display||nn(e,"display"))==="none"},Y.expr.filters.visible=function(e){return!Y.expr.filters.hidden(e)}),Y.each({margin:"",padding:"",border:"Width"},function(e,t){Y.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+gn[r]+t]=i[r]||i[r-2]||i[0];return s}},ln.test(e)||(Y.cssHooks[e+t].set=b)});var wn=/%20/g,En=/\[\]$/,Sn=/\r?\n/g,xn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Tn=/^(?:select|textarea)/i;Y.fn.extend({serialize:function(){return Y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Y.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Tn.test(this.nodeName)||xn.test(this.type))}).map(function(e,t){var n=Y(this).val();return n==null?null:Y.isArray(n)?Y.map(n,function(e,n){return{name:t.name,value:e.replace(Sn,"\r\n")}}):{name:t.name,value:n.replace(Sn,"\r\n")}}).get()}}),Y.param=function(e,n){var r,i=[],s=function(e,t){t=Y.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=Y.ajaxSettings&&Y.ajaxSettings.traditional);if(Y.isArray(e)||e.jquery&&!Y.isPlainObject(e))Y.each(e,function(){s(this.name,this.value)});else for(r in e)x(r,e[r],n,s);return i.join("&").replace(wn,"+")};var Nn,Cn,kn=/#.*$/,Ln=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,An=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,On=/^(?:GET|HEAD)$/,Mn=/^\/\//,_n=/\?/,Dn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Pn=/([?&])_=[^&]*/,Hn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Bn=Y.fn.load,jn={},Fn={},In=["*/"]+["*"];try{Cn=U.href}catch(qn){Cn=R.createElement("a"),Cn.href="",Cn=Cn.href}Nn=Hn.exec(Cn.toLowerCase())||[],Y.fn.load=function(e,n,r){if(typeof e!="string"&&Bn)return Bn.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),Y.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),Y.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?Y("<div>").append(e.replace(Dn,"")).find(i):e)}),this},Y.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Y.fn[t]=function(e){return this.on(t,e)}}),Y.each(["get","post"],function(e,n){Y[n]=function(e,r,i,s){return Y.isFunction(r)&&(s=s||i,i=r,r=t),Y.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),Y.extend({getScript:function(e,n){return Y.get(e,t,n,"script")},getJSON:function(e,t,n){return Y.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?C(e,Y.ajaxSettings):(t=e,e=Y.ajaxSettings),C(e,t),e},ajaxSettings:{url:Cn,isLocal:An.test(Nn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":In},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Y.parseJSON,"text xml":Y.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:T(jn),ajaxTransport:T(Fn),ajax:function(e,n){function r(e,n,r,o){var f,c,y,b,E,x=n;if(w===2)return;w=2,a&&clearTimeout(a),u=t,s=o||"",S.readyState=e>0?4:0,r&&(b=k(h,S,r));if(e>=200&&e<300||e===304)h.ifModified&&(E=S.getResponseHeader("Last-Modified"),E&&(Y.lastModified[i]=E),E=S.getResponseHeader("Etag"),E&&(Y.etag[i]=E)),e===304?(x="notmodified",f=!0):(f=L(h,b),x=f.state,c=f.data,y=f.error,f=!y);else{y=x;if(!x||e)x="error",e<0&&(e=0)}S.status=e,S.statusText=(n||x)+"",f?v.resolveWith(p,[c,x,S]):v.rejectWith(p,[S,x,y]),S.statusCode(g),g=t,l&&d.trigger("ajax"+(f?"Success":"Error"),[S,h,f?c:y]),m.fireWith(p,[S,x]),l&&(d.trigger("ajaxComplete",[S,h]),--Y.active||Y.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var i,s,o,u,a,f,l,c,h=Y.ajaxSetup({},n),p=h.context||h,d=p!==h&&(p.nodeType||p instanceof Y)?Y(p):Y.event,v=Y.Deferred(),m=Y.Callbacks("once memory"),g=h.statusCode||{},y={},b={},w=0,E="canceled",S={readyState:0,setRequestHeader:function(e,t){if(!w){var n=e.toLowerCase();e=b[n]=b[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return w===2?s:null},getResponseHeader:function(e){var n;if(w===2){if(!o){o={};while(n=Ln.exec(s))o[n[1].toLowerCase()]=n[2]}n=o[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return w||(h.mimeType=e),this},abort:function(e){return e=e||E,u&&u.abort(e),r(0,e),this}};v.promise(S),S.success=S.done,S.error=S.fail,S.complete=m.add,S.statusCode=function(e){if(e){var t;if(w<2)for(t in e)g[t]=[g[t],e[t]];else t=e[S.status],S.always(t)}return this},h.url=((e||h.url)+"").replace(kn,"").replace(Mn,Nn[1]+"//"),h.dataTypes=Y.trim(h.dataType||"*").toLowerCase().split(tt),h.crossDomain==null&&(f=Hn.exec(h.url.toLowerCase())||!1,h.crossDomain=f&&f.join(":")+(f[3]?"":f[1]==="http:"?80:443)!==Nn.join(":")+(Nn[3]?"":Nn[1]==="http:"?80:443)),h.data&&h.processData&&typeof h.data!="string"&&(h.data=Y.param(h.data,h.traditional)),N(jn,h,n,S);if(w===2)return S;l=h.global,h.type=h.type.toUpperCase(),h.hasContent=!On.test(h.type),l&&Y.active++===0&&Y.event.trigger("ajaxStart");if(!h.hasContent){h.data&&(h.url+=(_n.test(h.url)?"&":"?")+h.data,delete h.data),i=h.url;if(h.cache===!1){var x=Y.now(),T=h.url.replace(Pn,"$1_="+x);h.url=T+(T===h.url?(_n.test(h.url)?"&":"?")+"_="+x:"")}}(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(i=i||h.url,Y.lastModified[i]&&S.setRequestHeader("If-Modified-Since",Y.lastModified[i]),Y.etag[i]&&S.setRequestHeader("If-None-Match",Y.etag[i])),S.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+(h.dataTypes[0]!=="*"?", "+In+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)S.setRequestHeader(c,h.headers[c]);if(!h.beforeSend||h.beforeSend.call(p,S,h)!==!1&&w!==2){E="abort";for(c in{success:1,error:1,complete:1})S[c](h[c]);u=N(Fn,h,n,S);if(!u)r(-1,"No Transport");else{S.readyState=1,l&&d.trigger("ajaxSend",[S,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){S.abort("timeout")},h.timeout));try{w=1,u.send(y,r)}catch(C){if(!(w<2))throw C;r(-1,C)}}return S}return S.abort()},active:0,lastModified:{},etag:{}});var Rn=[],Un=/\?/,zn=/(=)\?(?=&|$)|\?\?/,Wn=Y.now();Y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rn.pop()||Y.expando+"_"+Wn++;return this[e]=!0,e}}),Y.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&zn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&zn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=Y.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(zn,"$1"+s):h?n.data=a.replace(zn,"$1"+s):l&&(n.url+=(Un.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||Y.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Rn.push(s)),u&&Y.isFunction(o)&&o(u[0]),u=o=t}),"script"}),Y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Y.globalEval(e),e}}}),Y.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Y.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=R.head||R.getElementsByTagName("head")[0]||R.documentElement;return{send:function(i,s){n=R.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||s(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Xn,Vn=e.ActiveXObject?function(){for(var e in Xn)Xn[e](0,1)}:!1,$n=0;Y.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&A()||O()}:A,function(e){Y.extend(Y.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Y.ajaxSettings.xhr()),Y.support.ajax&&Y.ajaxTransport(function(n){if(!n.crossDomain||Y.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=Y.noop,Vn&&delete Xn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(e){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++$n,Vn&&(Xn||(Xn={},Y(e).unload(Vn)),Xn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var Jn,Kn,Qn=/^(?:toggle|show|hide)$/,Gn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Yn=/queueHooks$/,Zn=[H],er={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=Gn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(Y.cssNumber[e]?"":"px");if(r!=="px"&&u){u=Y.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,Y.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};Y.Animation=Y.extend(D,{tweener:function(e,t){Y.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],er[n]=er[n]||[],er[n].unshift(t)},prefilter:function(e,t){t?Zn.unshift(e):Zn.push(e)}}),Y.Tween=B,B.prototype={constructor:B,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(Y.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.options.duration?this.pos=t=Y.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=Y.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){Y.fx.step[e.prop]?Y.fx.step[e.prop](e):e.elem.style&&(e.elem.style[Y.cssProps[e.prop]]!=null||Y.cssHooks[e.prop])?Y.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Y.each(["toggle","show","hide"],function(e,t){var n=Y.fn[t];Y.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&Y.isFunction(r)&&Y.isFunction(i)?n.apply(this,arguments):this.animate(j(t,!0),r,i,s)}}),Y.fn.extend({fadeTo:function(e,t,n,r){return this.filter(g).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Y.isEmptyObject(e),s=Y.speed(t,n,r),o=function(){var t=D(this,Y.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=Y.timers,o=Y._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Yn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&Y.dequeue(this,e)})}}),Y.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Y.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Y.speed=function(e,t,n){var r=e&&typeof e=="object"?Y.extend({},e):{complete:n||!n&&t||Y.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Y.isFunction(t)&&t};r.duration=Y.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in Y.fx.speeds?Y.fx.speeds[r.duration]:Y.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){Y.isFunction(r.old)&&r.old.call(this),r.queue&&Y.dequeue(this,r.queue)},r},Y.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Y.timers=[],Y.fx=B.prototype.init,Y.fx.tick=function(){var e,t=Y.timers,n=0;for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||Y.fx.stop()},Y.fx.timer=function(e){e()&&Y.timers.push(e)&&!Kn&&(Kn=setInterval(Y.fx.tick,Y.fx.interval))},Y.fx.interval=13,Y.fx.stop=function(){clearInterval(Kn),Kn=null},Y.fx.speeds={slow:600,fast:200,_default:400},Y.fx.step={},Y.expr&&Y.expr.filters&&(Y.expr.filters.animated=function(e){return Y.grep(Y.timers,function(t){return e===t.elem}).length});var tr=/^(?:body|html)$/i;Y.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Y.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?Y.offset.bodyOffset(l):(n=c.documentElement,Y.contains(n,l)?(typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect()),i=F(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},Y.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Y.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Y.css(e,"marginTop"))||0,n+=parseFloat(Y.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=Y.css(e,"position");r==="static"&&(e.style.position="relative");var i=Y(e),s=i.offset(),o=Y.css(e,"top"),u=Y.css(e,"left"),a=(r==="absolute"||r==="fixed")&&Y.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),Y.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},Y.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=tr.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Y.css(e,"marginTop"))||0,n.left-=parseFloat(Y.css(e,"marginLeft"))||0,r.top+=parseFloat(Y.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(Y.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||R.body;while(e&&!tr.test(e.nodeName)&&Y.css(e,"position")==="static")e=e.offsetParent;return e||R.body})}}),Y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);Y.fn[e]=function(i){return Y.access(this,function(e,i,s){var o=F(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?Y(o).scrollLeft():s,r?s:Y(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),Y.each({Height:"height",Width:"width"},function(e,n){Y.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){Y.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return Y.access(this,function(n,r,i){var s;return Y.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?Y.css(n,r,i,u):Y.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=Y,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Y})})(window),function(e){var t=function(){var e=function(){};return e.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(e,t,n,r){r||(this.context=t,this.buffer=[]);if(!this.includes("",e)){if(r)return e;this.send(e);return}e=this.render_pragmas(e);var i=this.render_section(e,t,n);if(r)return this.render_tags(i,t,n,r);this.render_tags(i,t,n,r)},send:function(e){e!=""&&this.buffer.push(e)},render_pragmas:function(e){if(!this.includes("%",e))return e;var t=this,n=new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag);return e.replace(n,function(e,n,r){if(!t.pragmas_implemented[n])throw{message:"This implementation of mustache doesn't understand the '"+n+"' pragma"};t.pragmas[n]={};if(r){var i=r.split("=");t.pragmas[n][i[0]]=i[1]}return""})},render_partial:function(e,t,n){e=this.trim(e);if(!n||n[e]===undefined)throw{message:"unknown_partial '"+e+"'"};return typeof t[e]!="object"?this.render(n[e],t,n,!0):this.render(n[e],t[e],n,!0)},render_section:function(e,t,n){if(!this.includes("#",e)&&!this.includes("^",e))return e;var r=this,i=new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg");return e.replace(i,function(e,i,s,o){var u=r.find(s,t);if(i=="^")return!u||r.is_array(u)&&u.length===0?r.render(o,t,n,!0):"";if(i=="#")return r.is_array(u)?r.map(u,function(e){return r.render(o,r.create_context(e),n,!0)}).join(""):r.is_object(u)?r.render(o,r.create_context(u),n,!0):typeof u=="function"?u.call(t,o,function(e){return r.render(e,t,n,!0)}):u?r.render(o,t,n,!0):""})},render_tags:function(e,t,n,r){var i=this,s=function(){return new RegExp(i.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+i.ctag+"+","g")},o=s(),u=function(e,r,u){switch(r){case"!":return"";case"=":return i.set_delimiters(u),o=s(),"";case">":return i.render_partial(u,t,n);case"{":return i.find(u,t);default:return i.escape(i.find(u,t))}},a=e.split("\n");for(var f=0;f<a.length;f++)a[f]=a[f].replace(o,u,this),r||this.send(a[f]);if(r)return a.join("\n")},set_delimiters:function(e){var t=e.split(" ");this.otag=this.escape_regex(t[0]),this.ctag=this.escape_regex(t[1])},escape_regex:function(e){if(!arguments.callee.sRE){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+t.join("|\\")+")","g")}return e.replace(arguments.callee.sRE,"\\$1")},find:function(e,t){function n(e){return e===!1||e===0||e}e=this.trim(e);var r;return n(t[e])?r=t[e]:n(this.context[e])&&(r=this.context[e]),typeof r=="function"?r.apply(t):r!==undefined?r:""},includes:function(e,t){return t.indexOf(this.otag+e)!=-1},escape:function(e){return e=String(e===null?"":e),e.replace(/&(?!\w+;)|["<>\\]/g,function(e){switch(e){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'"';case"<":return"&lt;";case">":return"&gt;";default:return e}})},create_context:function(e){if(this.is_object(e))return e;var t=".";this.pragmas["IMPLICIT-ITERATOR"]&&(t=this.pragmas["IMPLICIT-ITERATOR"].iterator);var n={};return n[t]=e,n},is_object:function(e){return e&&typeof e=="object"},is_array:function(e){return Object.prototype.toString.call(e)==="[object Array]"},trim:function(e){return e.replace(/^\s*|\s*$/g,"")},map:function(e,t){if(typeof e.map=="function")return e.map(t);var n=[],r=e.length;for(var i=0;i<r;i++)n.push(t(e[i]));return n}},{name:"mustache.js",version:"0.3.1-dev",to_html:function(t,n,r,i){var s=new e;i&&(s.send=i),s.render(t,n,r);if(!i)return s.buffer.join("\n")},escape:function(t){return(new e).escape(t)}}}();e.mustache=function(e,n,r){return t.to_html(e,n,r)},e.mustache.escape=function(e){return t.escape(e)}}(jQuery),function(e){e.fn.codemirror=function(t){var n=this,r=e.extend({mode:"javascript",lineNumbers:!1,runmode:!1},t);return r.runmode?this.each(function(){var t=e(this),n=[],i=[],s=0,o=function(e,t){e=="\n"?(n.push("<br>"),i.push("<pre>"+ ++s+"</pre>")):t?n.push('<span class="cm-'+CodeMirror.htmlEscape(t)+'">'+CodeMirror.htmlEscape(e)+"</span>"):n.push(CodeMirror.htmlEscape(e))};CodeMirror.runMode(t.val(),r.mode,o),e('<div class="CodeMirror">'+(r.lineNumbers?'<div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text">'+i.join("")+"</div></div>":"<!--gutter-->")+'<div class="CodeMirror-lines">'+(r.lineNumbers?'<div style="position: relative; margin-left: '+s.toString().length+'em;">':"<div>")+'<pre class="cm-s-default">'+n.join("")+"</pre></div></div></div>").insertAfter(t),t.hide()}):this.each(function(){n=CodeMirror.fromTextArea(this,r)}),n}}(jQuery),function(e,t){(function(n){typeof define=="function"&&define.amd?define("sammy",["jquery"],n):e.sammy=t.Sammy=n(e)})(function(e){var n,r="([^/]+)",i=/:([\w\d]+)/g,s=/\?([^#]*)?$/,o=function(e){return Array.prototype.slice.call(e)},u=function(e){return Object.prototype.toString.call(e)==="[object Function]"},a=function(e){return Object.prototype.toString.call(e)==="[object Array]"},f=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},l=function(e){return decodeURIComponent((e||"").replace(/\+/g," "))},c=encodeURIComponent,h=function(e){return String(e).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p=function(e){return function(){return this.route.apply(this,[e].concat(Array.prototype.slice.call(arguments)))}},d={},v=!!t.history&&!!history.pushState,m=[];return n=function(){var t=o(arguments),r,i;n.apps=n.apps||{};if(t.length===0||t[0]&&u(t[0]))return n.apply(n,["body"].concat(t));if(typeof (i=t.shift())=="string")return r=n.apps[i]||new n.Application,r.element_selector=i,t.length>0&&e.each(t,function(e,t){r.use(t)}),r.element_selector!=i&&delete n.apps[i],n.apps[r.element_selector]=r,r},n.VERSION="0.7.4",n.addLogger=function(e){m.push(e)},n.log=function(){var t=o(arguments);t.unshift("["+Date()+"]"),e.each(m,function(e,r){r.apply(n,t)})},typeof t.console!="undefined"?u(t.console.log.apply)?n.addLogger(function(){t.console.log.apply(t.console,arguments)}):n.addLogger(function(){t.console.log(arguments)}):typeof console!="undefined"&&n.addLogger(function(){console.log.apply(console,arguments)}),e.extend(n,{makeArray:o,isFunction:u,isArray:a}),n.Object=function(t){return e.extend(this,t||{})},e.extend(n.Object.prototype,{escapeHTML:h,h:h,toHash:function(){var t={};return e.each(this,function(e,n){u(n)||(t[e]=n)}),t},toHTML:function(){var t="";return e.each(this,function(e,n){u(n)||(t+="<strong>"+e+"</strong> "+n+"<br />")}),t},keys:function(e){var t=[];for(var n in this)(!u(this[n])||!e)&&t.push(n);return t},has:function(t){return this[t]&&e.trim(this[t].toString())!==""},join:function(){var e=o(arguments),t=e.shift();return e.join(t)},log:function(){n.log.apply(n,arguments)},toString:function(t){var n=[];return e.each(this,function(e,r){(!u(r)||t)&&n.push('"'+e+'": '+r.toString())}),"Sammy.Object: {"+n.join(",")+"}"}}),n.targetIsThisWindow=function(n){var r=e(n.target).attr("target");return!r||r===t.name||r==="_self"?!0:r==="_blank"?!1:r==="top"&&t===t.top?!0:!1},n.DefaultLocationProxy=function(e,t){this.app=e,this.is_native=!1,this.has_history=v,this._startPolling(t)},n.DefaultLocationProxy.fullPath=function(e){var t=e.toString().match(/^[^#]*(#.+)$/),n=t?t[1]:"";return[e.pathname,e.search,n].join("")},e.extend(n.DefaultLocationProxy.prototype,{bind:function(){var r=this,i=this.app,s=n.DefaultLocationProxy;e(t).bind("hashchange."+this.app.eventNamespace(),function(e,n){r.is_native===!1&&!n&&(r.is_native=!0,t.clearInterval(s._interval),s._interval=null),i.trigger("location-changed")}),v&&!i.disable_push_state&&(e(t).bind("popstate."+this.app.eventNamespace(),function(e){i.trigger("location-changed")}),e(document).delegate("a","click.history-"+this.app.eventNamespace(),function(e){if(e.isDefaultPrevented()||e.metaKey||e.ctrlKey)return;var o=s.fullPath(this);if(this.hostname==t.location.hostname&&i.lookupRoute("get",o)&&n.targetIsThisWindow(e))return e.preventDefault(),r.setLocation(o),!1})),s._bindings||(s._bindings=0),s._bindings++},unbind:function(){e(t).unbind("hashchange."+this.app.eventNamespace()),e(t).unbind("popstate."+this.app.eventNamespace()),e(document).undelegate("a","click.history-"+this.app.eventNamespace()),n.DefaultLocationProxy._bindings--,n.DefaultLocationProxy._bindings<=0&&(t.clearInterval(n.DefaultLocationProxy._interval),n.DefaultLocationProxy._interval=null)},getLocation:function(){return n.DefaultLocationProxy.fullPath(t.location)},setLocation:function(e){/^([^#\/]|$)/.test(e)&&(v&&!this.app.disable_push_state?e="/"+e:e="#!/"+e);if(e!=this.getLocation()){if(!(v&&!this.app.disable_push_state&&/^\//.test(e)))return t.location=e;history.pushState({path:e},t.title,e),this.app.trigger("location-changed")}},_startPolling:function(r){var i=this;if(!n.DefaultLocationProxy._interval){r||(r=10);var s=function(){var r=i.getLocation();(typeof n.DefaultLocationProxy._last_location=="undefined"||r!=n.DefaultLocationProxy._last_location)&&t.setTimeout(function(){e(t).trigger("hashchange",[!0])},0),n.DefaultLocationProxy._last_location=r};s(),n.DefaultLocationProxy._interval=t.setInterval(s,r)}}}),n.Application=function(e){var t=this;this.routes={},this.listeners=new n.Object({}),this.arounds=[],this.befores=[],this.namespace=(new Date).getTime()+"-"+parseInt(Math.random()*1e3,10),this.context_prototype=function(){n.EventContext.apply(this,arguments)},this.context_prototype.prototype=new n.EventContext,u(e)&&e.apply(this,[this]),this._location_proxy||this.setLocationProxy(new n.DefaultLocationProxy(this,this.run_interval_every)),this.debug&&this.bindToAllEvents(function(e,n){t.log(t.toString(),e.cleaned_type,n||{})})},n.Application.prototype=e.extend({},n.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect","location-changed"],_last_route:null,_location_proxy:null,_running:!1,element_selector:"body",debug:!1,raise_errors:!1,run_interval_every:50,disable_push_state:!1,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(t){return t?e(this.element_selector).find(t):e(this.element_selector)},use:function(){var e=o(arguments),t=e.shift(),r=t||"";try{e.unshift(this),typeof t=="string"&&(r="Sammy."+t,t=n[t]),t.apply(this,e)}catch(i){typeof t=="undefined"?this.error("Plugin Error: called use() but plugin ("+r.toString()+") is not defined",i):u(t)?this.error("Plugin Error",i):this.error("Plugin Error: called use() but '"+r.toString()+"' is not a function",i)}return this},setLocationProxy:function(e){var t=this._location_proxy;this._location_proxy=e,this.isRunning()&&(t&&t.unbind(),this._location_proxy.bind())},log:function(){n.log.apply(n,Array.prototype.concat.apply([this.element_selector],arguments))},route:function(t,n){var s=this,o=[],a,f,l=Array.prototype.slice.call(arguments,2);l.length===0&&u(n)&&(n=t,l=[n],t="any"),t=t.toLowerCase();if(n.constructor==String){i.lastIndex=0;while((f=i.exec(n))!==null)o.push(f[1]);n=new RegExp(n.replace(i,r)+"$")}return e.each(l,function(e,t){typeof t=="string"&&(l[e]=s[t])}),a=function(e){var t={verb:e,path:n,callback:l,param_names:o};s.routes[e]=s.routes[e]||[],s.routes[e].push(t)},t==="any"?e.each(this.ROUTE_VERBS,function(e,t){a(t)}):a(t),this},get:p("get"),post:p("post"),put:p("put"),del:p("delete"),any:p("any"),mapRoutes:function(t){var n=this;return e.each(t,function(e,t){n.route.apply(n,t)}),this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(e,t,n){var r=this;typeof n=="undefined"&&(n=t);var i=function(){var e,t,i;e=arguments[0],i=arguments[1],i&&i.context?(t=i.context,delete i.context):t=new r.context_prototype(r,"bind",e.type,i,e.target),e.cleaned_type=e.type.replace(r.eventNamespace(),""),n.apply(t,[e,i])};return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(i),this.isRunning()&&this._listen(e,i),this},trigger:function(e,t){return this.$element().trigger([e,this.eventNamespace()].join("."),[t]),this},refresh:function(){return this.last_location=null,this.trigger("location-changed"),this},before:function(e,t){return u(e)&&(t=e,e={}),this.befores.push([e,t]),this},after:function(e){return this.bind("event-context-after",e)},around:function(e){return this.arounds.push(e),this},onComplete:function(e){return this._onComplete=e,this},isRunning:function(){return this._running},helpers:function(t){return e.extend(this.context_prototype.prototype,t),this},helper:function(e,t){return this.context_prototype.prototype[e]=t,this},run:function(r){if(this.isRunning())return!1;var i=this;return e.each(this.listeners.toHash(),function(t,n){e.each(n,function(e,n){i._listen(t,n)})}),this.trigger("run",{start_url:r}),this._running=!0,this.last_location=null,!/\#(.+)/.test(this.getLocation())&&typeof r!="undefined"&&this.setLocation(r),this._checkLocation(),this._location_proxy.bind(),this.bind("location-changed",function(){i._checkLocation()}),this.bind("submit",function(t){if(!n.targetIsThisWindow(t))return!0;var r=i._checkFormSubmission(e(t.target).closest("form"));return r===!1?t.preventDefault():!1}),e(t).bind("unload",function(){i.unload()}),this.trigger("changed")},unload:function(){if(!this.isRunning())return!1;var t=this;return this.trigger("unload"),this._location_proxy.unbind(),this.$element().unbind("submit").removeClass(t.eventNamespace()),e.each(this.listeners.toHash(),function(n,r){e.each(r,function(e,r){t._unlisten(n,r)})}),this._running=!1,this},destroy:function(){return this.unload(),delete n.apps[this.element_selector],this},bindToAllEvents:function(t){var n=this;return e.each(this.APP_EVENTS,function(e,r){n.bind(r,t)}),e.each(this.listeners.keys(!0),function(r,i){e.inArray(i,n.APP_EVENTS)==-1&&n.bind(i,t)}),this},routablePath:function(e){return e.replace(s,"")},lookupRoute:function(e,t){var n=this,r=!1,i=0,s,o;if(typeof this.routes[e]!="undefined"){s=this.routes[e].length;for(;i<s;i++){o=this.routes[e][i];if(n.routablePath(t).match(o.path)){r=o;break}}}return r},runRoute:function(t,n,r,i){var s=this,o=this.lookupRoute(t,n),u,a,f,c,h,p,d,v,m;this.debug&&this.log("runRoute",[t,n].join(" ")),this.trigger("run-route",{verb:t,path:n,params:r}),typeof r=="undefined"&&(r={}),e.extend(r,this._parseQueryString(n));if(o){this.trigger("route-found",{route:o}),(v=o.path.exec(this.routablePath(n)))!==null&&(v.shift(),e.each(v,function(e,t){o.param_names[e]?r[o.param_names[e]]=l(t):(r.splat||(r.splat=[]),r.splat.push(l(t)))})),u=new this.context_prototype(this,t,n,r,i),f=this.arounds.slice(0),h=this.befores.slice(0),d=[u],r.splat&&(d=d.concat(r.splat)),a=function(){var e,t,n;while(h.length>0){p=h.shift();if(s.contextMatchesOptions(u,p[0])){e=p[1].apply(u,[u]);if(e===!1)return!1}}return s.last_route=o,u.trigger("event-context-before",{context:u}),typeof o.callback=="function"&&(o.callback=[o.callback]),o.callback&&o.callback.length&&(t=-1,n=function(){t++,o.callback[t]?e=o.callback[t].apply(u,d):s._onComplete&&typeof (s._onComplete==="function")&&s._onComplete(u)},d.push(n),n()),u.trigger("event-context-after",{context:u}),e},e.each(f.reverse(),function(e,t){var n=a;a=function(){return t.apply(u,[n])}});try{m=a()}catch(g){this.error(["500 Error",t,n].join(" "),g)}return m}return this.notFound(t,n)},contextMatchesOptions:function(t,n,r){var i=n;if(typeof i=="string"||f(i))i={path:i};typeof r=="undefined"&&(r=!0);if(e.isEmptyObject(i))return!0;if(a(i.path)){var s,o,u,l;s=[];for(o=0,l=i.path.length;o<l;o+=1)u=e.extend({},i,{path:i.path[o]}),s.push(this.contextMatchesOptions(t,u));var c=e.inArray(!0,s)>-1?!0:!1;return r?c:!c}if(i.only)return this.contextMatchesOptions(t,i.only,!0);if(i.except)return this.contextMatchesOptions(t,i.except,!1);var h=!0,p=!0;return i.path&&(f(i.path)||(i.path=new RegExp(i.path.toString()+"$")),h=i.path.test(t.path)),i.verb&&(typeof i.verb=="string"?p=i.verb===t.verb:p=i.verb.indexOf(t.verb)>-1),r?p&&h:!p||!h},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(e){return this._location_proxy.setLocation(e)},swap:function(e,t){var n=this.$element().html(e);return u(t)&&t(e),n},templateCache:function(e,t){return typeof t!="undefined"?d[e]=t:d[e]},clearTemplateCache:function(){return d={}},notFound:function(e,t){var n=this.error(["404 Not Found",e,t].join(" "));return e==="get"?n:!0},error:function(e,t){t||(t=new Error),t.message=[e,t.message].join(" "),this.trigger("error",{message:t.message,error:t});if(this.raise_errors)throw t;this.log(t.message,t)},_checkLocation:function(){var e,t;e=this.getLocation();if(!this.last_location||this.last_location[0]!="get"||this.last_location[1]!=e)this.last_location=["get",e],t=this.runRoute("get",e);return t},_getFormVerb:function(t){var n=e(t),r,i;i=n.find('input[name="_method"]'),i.length>0&&(r=i.val()),r||(r=n[0].getAttribute("method"));if(!r||r==="")r="get";return e.trim(r.toString().toLowerCase())},_checkFormSubmission:function(t){var n,r,i,s,o;return this.trigger("check-form-submission",{form:t}),n=e(t),r=n.attr("action")||"",i=this._getFormVerb(n),this.debug&&this.log("_checkFormSubmission",n,r,i),i==="get"?(s=this._serializeFormParams(n),s!==""&&(r+="?"+s),this.setLocation(r),o=!1):(s=e.extend({},this._parseFormParams(n)),o=this.runRoute(i,r,s,t.get(0))),typeof o=="undefined"?!1:o},_serializeFormParams:function(e){var t="",n=e.serializeArray(),r;if(n.length>0){t=this._encodeFormPair(n[0].name,n[0].value);for(r=1;r<n.length;r++)t=t+"&"+this._encodeFormPair(n[r].name,n[r].value)}return t},_encodeFormPair:function(e,t){return c(e)+"="+c(t)},_parseFormParams:function(e){var t={},n=e.serializeArray(),r;for(r=0;r<n.length;r++)t=this._parseParamPair(t,n[r].name,n[r].value);return t},_parseQueryString:function(e){var t={},n,r,i,o;n=e.match(s);if(n&&n[1]){r=n[1].split("&");for(o=0;o<r.length;o++)i=r[o].split("="),t=this._parseParamPair(t,l(i[0]),l(i[1]||""))}return t},_parseParamPair:function(e,t,n){return typeof e[t]!="undefined"?a(e[t])?e[t].push(n):e[t]=[e[t],n]:e[t]=n,e},_listen:function(e,t){return this.$element().bind([e,this.eventNamespace()].join("."),t)},_unlisten:function(e,t){return this.$element().unbind([e,this.eventNamespace()].join("."),t)}}),n.RenderContext=function(e){this.event_context=e,this.callbacks=[],this.previous_content=null,this.content=null,this.next_engine=!1,this.waiting=!1},n.RenderContext.prototype=e.extend({},n.Object.prototype,{then:function(e){if(!u(e)){if(!(typeof e=="string"&&e in this.event_context))return this;var n=this.event_context[e];e=function(e){return n.apply(this.event_context,[e])}}var r=this;return this.waiting?this.callbacks.push(e):(this.wait(),t.setTimeout(function(){var t=e.apply(r,[r.content,r.previous_content]);t!==!1&&r.next(t)},0)),this},wait:function(){this.waiting=!0},next:function(e){this.waiting=!1,typeof e!="undefined"&&(this.previous_content=this.content,this.content=e),this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(t,n,r){var i=this;return this.then(function(){var s,o,a,f;u(n)?(r=n,n={}):n=e.extend({},n),r&&this.then(r);if(typeof t=="string")return a=t.match(/\.json$/)||n.json,s=a?n.cache===!0:n.cache!==!1,i.next_engine=i.event_context.engineFor(t),delete n.cache,delete n.json,n.engine&&(i.next_engine=n.engine,delete n.engine),s&&(o=this.event_context.app.templateCache(t))?o:(this.wait(),e.ajax(e.extend({url:t,data:{},dataType:a?"json":"text",type:"get",success:function(e){s&&i.event_context.app.templateCache(t,e),i.next(e)}},n)),!1);if(t.nodeType)return t.innerHTML;if(t.selector)return i.next_engine=t.attr("data-engine"),n.clone===!1?t.remove()[0].innerHTML.toString():t[0].innerHTML.toString()})},loadPartials:function(e){var t;if(e){this.partials=this.partials||{};for(t in e)(function(t,n){t.load(e[n]).then(function(e){this.partials[n]=e})})(this,t)}return this},render:function(e,t,n,r){return u(e)&&!t?this.then(e):(u(t)?(r=n,n=t,t=null):n&&!u(n)&&(r=n,n=null),this.loadPartials(r).load(e).interpolate(t,e).then(n))},partial:function(e,t,n,r){return u(n)?this.render(e,t,r).swap(n):u(t)?this.render(e,{},n).swap(t):this.render(e,t,n).swap()},send:function(){var e=this,t=o(arguments),n=t.shift();return a(t[0])&&(t=t[0]),this.then(function(r){return t.push(function(t){e.next(t)}),e.wait(),n.apply(n,t),!1})},collect:function(t,n,r){var i=this,s=function(){u(t)&&(n=t,t=this.content);var r=[],s=!1;return e.each(t,function(e,t){var o=n.apply(i,[e,t]);return o.jquery&&o.length==1&&(o=o[0],s=!0),r.push(o),o}),s?r:r.join("")};return r?s():this.then(s)},renderEach:function(t,n,r,i){return a(n)&&(i=r,r=n,n=null),this.load(t).then(function(s){var o=this;r||(r=a(this.previous_content)?this.previous_content:[]);if(!i)return this.collect(r,function(e,r){var i={},o=this.next_engine||t;return n?i[n]=r:i=r,this.event_context.interpolate(s,i,o)},!0);e.each(r,function(e,r){var u={},a=this.next_engine||t;n?u[n]=r:u=r,i(r,o.event_context.interpolate(s,u,a))})})},interpolate:function(e,t,n){var r=this;return this.then(function(i,s){!e&&s&&(e=s),this.next_engine&&(t=this.next_engine,this.next_engine=!1);var o=r.event_context.interpolate(i,e,t,this.partials);return n?s+o:o})},swap:function(e){return this.then(function(t){return this.event_context.swap(t,e),t}).trigger("changed",{})},appendTo:function(t){return this.then(function(n){e(t).append(n)}).trigger("changed",{})},prependTo:function(t){return this.then(function(n){e(t).prepend(n)}).trigger("changed",{})},replace:function(t){return this.then(function(n){e(t).html(n)}).trigger("changed",{})},trigger:function(e,t){return this.then(function(n){return typeof t=="undefined"&&(t={content:n}),this.event_context.trigger(e,t),n})}}),n.EventContext=function(e,t,r,i,s){this.app=e,this.verb=t,this.path=r,this.params=new n.Object(i),this.target=s},n.EventContext.prototype=e.extend({},n.Object.prototype,{$element:function(){return this.app.$element(o(arguments).shift())},engineFor:function(e){var t=this,n;if(u(e))return e;e=(e||t.app.template_engine).toString();if(n=e.match(/\.([^\.\?\#]+)$/))e=n[1];return e&&u(t[e])?t[e]:t.app.template_engine?this.engineFor(t.app.template_engine):function(e,t){return e}},interpolate:function(e,t,n,r){return this.engineFor(n).apply(this,[e,t,r])},render:function(e,t,r,i){return(new n.RenderContext(this)).render(e,t,r,i)},renderEach:function(e,t,r,i){return(new n.RenderContext(this)).renderEach(e,t,r,i)},load:function(e,t,r){return(new n.RenderContext(this)).load(e,t,r)},loadPartials:function(e){return(new n.RenderContext(this)).loadPartials(e)},partial:function(e,t,r,i){return(new n.RenderContext(this)).partial(e,t,r,i)},send:function(){var e=new n.RenderContext(this);return e.send.apply(e,arguments)},redirect:function(){var t,n=o(arguments),r=this.app.getLocation(),i=n.length;if(i>1){var s=0,u=[],a=[],f={},l=!1;for(;s<i;s++)typeof n[s]=="string"?u.push(n[s]):(e.extend(f,n[s]),l=!0);t=u.join("/");if(l){for(var c in f)a.push(this.app._encodeFormPair(c,f[c]));t+="?"+a.join("&")}}else t=n[0];this.trigger("redirect",{to:t}),this.app.last_location=[this.verb,this.path],this.app.setLocation(t),(new RegExp(t)).test(r)&&this.app.trigger("location-changed")},trigger:function(e,t){return typeof t=="undefined"&&(t={}),t.context||(t.context=this),this.app.trigger(e,t)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(e,t){return this.app.swap(e,t)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(t){return e.parseJSON(t)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}}),n})}(jQuery,window);var Faye=typeof Faye=="object"?Faye:{};typeof window!="undefined"&&(window.Faye=Faye),Faye.extend=function(e,t,n){if(!t)return e;for(var r in t){if(!t.hasOwnProperty(r))continue;if(e.hasOwnProperty(r)&&n===!1)continue;e[r]!==t[r]&&(e[r]=t[r])}return e},Faye.extend(Faye,{VERSION:"0.8.2",BAYEUX_VERSION:"1.0",ID_LENGTH:128,JSONP_CALLBACK:"jsonpcallback",CONNECTION_TYPES:["long-polling","cross-origin-long-polling","callback-polling","websocket","eventsource","in-process"],MANDATORY_CONNECTION_TYPES:["long-polling","callback-polling","in-process"],ENV:function(){return this}(),random:function(e){e=e||this.ID_LENGTH;if(e>32){var t=Math.ceil(e/32),n="";while(t--)n+=this.random(32);return n}var r=Math.pow(2,e)-1,i=r.toString(36).length,n=Math.floor(Math.random()*r).toString(36);while(n.length<i)n="0"+n;return n},clientIdFromMessages:function(e){var t=[].concat(e)[0];return t&&t.clientId},copyObject:function(e){var t,n,r;if(e instanceof Array){t=[],n=e.length;while(n--)t[n]=Faye.copyObject(e[n]);return t}if(typeof e=="object"){t=e===null?null:{};for(r in e)t[r]=Faye.copyObject(e[r]);return t}return e},commonElement:function(e,t){for(var n=0,r=e.length;n<r;n++)if(this.indexOf(t,e[n])!==-1)return e[n];return null},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},map:function(e,t,n){if(e.map)return e.map(t,n);var r=[];if(e instanceof Array)for(var i=0,s=e.length;i<s;i++)r.push(t.call(n||null,e[i],i));else for(var o in e){if(!e.hasOwnProperty(o))continue;r.push(t.call(n||null,o,e[o]))}return r},filter:function(e,t,n){var r=[];for(var i=0,s=e.length;i<s;i++)t.call(n||null,e[i],i)&&r.push(e[i]);return r},asyncEach:function(e,t,n,r){var i=e.length,s=-1,o=0,u=!1,a=function(){o-=1,s+=1;if(s===i)return n&&n.call(r);t(e[s],l)},f=function(){if(u)return;u=!0;while(o>0)a();u=!1},l=function(){o+=1,f()};l()},toJSON:function(e){return this.stringify?this.stringify(e,function(e,t){return this[e]instanceof Array?this[e]:t}):JSON.stringify(e)},logger:function(e){typeof console!="undefined"&&console.log(e)},timestamp:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),i=e.getHours(),s=e.getMinutes(),o=e.getSeconds(),u=function(e){return e<10?"0"+e:String(e)};return u(t)+"-"+u(n)+"-"+u(r)+" "+u(i)+":"+u(s)+":"+u(o)}}),Faye.Class=function(e,t){typeof e!="function"&&(t=e,e=Object);var n=function(){return this.initialize?this.initialize.apply(this,arguments)||this:this},r=function(){};return r.prototype=e.prototype,n.prototype=new r,Faye.extend(n.prototype,t),n},Faye.Namespace=Faye.Class({initialize:function(){this._d={}},exists:function(e){return this._d.hasOwnProperty(e)},generate:function(){var e=Faye.random();while(this._d.hasOwnProperty(e))e=Faye.random();return this._d[e]=e},release:function(e){delete this._d[e]}}),Faye.Error=Faye.Class({initialize:function(e,t,n){this.code=e,this.params=Array.prototype.slice.call(t),this.message=n},toString:function(){return this.code+":"+this.params.join(",")+":"+this.message}}),Faye.Error.parse=function(e){e=e||"";if(!Faye.Grammar.ERROR.test(e))return new this(null,[],e);var t=e.split(":"),n=parseInt(t[0]),r=t[1].split(","),e=t[2];return new this(n,r,e)},Faye.Error.versionMismatch=function(){return(new this(300,arguments,"Version mismatch")).toString()},Faye.Error.conntypeMismatch=function(){return(new this(301,arguments,"Connection types not supported")).toString()},Faye.Error.extMismatch=function(){return(new this(302,arguments,"Extension mismatch")).toString()},Faye.Error.badRequest=function(){return(new this(400,arguments,"Bad request")).toString()},Faye.Error.clientUnknown=function(){return(new this(401,arguments,"Unknown client")).toString()},Faye.Error.parameterMissing=function(){return(new this(402,arguments,"Missing required parameter")).toString()},Faye.Error.channelForbidden=function(){return(new this(403,arguments,"Forbidden channel")).toString()},Faye.Error.channelUnknown=function(){return(new this(404,arguments,"Unknown channel")).toString()},Faye.Error.channelInvalid=function(){return(new this(405,arguments,"Invalid channel")).toString()},Faye.Error.extUnknown=function(){return(new this(406,arguments,"Unknown extension")).toString()},Faye.Error.publishFailed=function(){return(new this(407,arguments,"Failed to publish")).toString()},Faye.Error.serverError=function(){return(new this(500,arguments,"Internal server error")).toString()},Faye.Deferrable={callback:function(e,t){if(!e)return;if(this._v==="succeeded")return e.apply(t,this._j);this._k=this._k||[],this._k.push([e,t])},timeout:function(e,t){var n=this,r=Faye.ENV.setTimeout(function(){n.setDeferredStatus("failed",t)},e*1e3);this._w=r},errback:function(e,t){if(!e)return;if(this._v==="failed")return e.apply(t,this._j);this._l=this._l||[],this._l.push([e,t])},setDeferredStatus:function(){this._w&&Faye.ENV.clearTimeout(this._w);var e=Array.prototype.slice.call(arguments),t=e.shift(),n;this._v=t,this._j=e,t==="succeeded"?n=this._k:t==="failed"&&(n=this._l);if(!n)return;var r;while(r=n.shift())r[0].apply(r[1],this._j)}},Faye.Publisher={countListeners:function(e){return!this._3||!this._3[e]?0:this._3[e].length},bind:function(e,t,n){this._3=this._3||{};var r=this._3[e]=this._3[e]||[];r.push([t,n])},unbind:function(e,t,n){if(!this._3||!this._3[e])return;if(!t){delete this._3[e];return}var r=this._3[e],i=r.length;while(i--){if(t!==r[i][0])continue;if(n&&r[i][1]!==n)continue;r.splice(i,1)}},trigger:function(){var e=Array.prototype.slice.call(arguments),t=e.shift();if(!this._3||!this._3[t])return;var n=this._3[t].slice(),r;for(var i=0,s=n.length;i<s;i++)r=n[i],r[0].apply(r[1],e)}},Faye.Timeouts={addTimeout:function(e,t,n,r){this._5=this._5||{};if(this._5.hasOwnProperty(e))return;var i=this;this._5[e]=Faye.ENV.setTimeout(function(){delete i._5[e],n.call(r)},1e3*t)},removeTimeout:function(e){this._5=this._5||{};var t=this._5[e];if(!t)return;clearTimeout(t),delete this._5[e]}},Faye.Logging={LOG_LEVELS:{error:3,warn:2,info:1,debug:0},logLevel:"error",log:function(e,t){if(!Faye.logger)return;var n=Faye.Logging.LOG_LEVELS;if(n[Faye.Logging.logLevel]>n[t])return;var e=Array.prototype.slice.apply(e),r=" ["+t.toUpperCase()+"] [Faye",i=this.className,s=e.shift().replace(/\?/g,function(){try{return Faye.toJSON(e.shift())}catch(t){return"[Object]"}});for(var o in Faye){if(i)continue;if(typeof Faye[o]!="function")continue;this instanceof Faye[o]&&(i=o)}i&&(r+="."+i),r+="] ",Faye.logger(Faye.timestamp()+r+s)}},function(){for(var e in Faye.Logging.LOG_LEVELS)(function(e,t){Faye.Logging[e]=function(){this.log(arguments,e)}})(e,Faye.Logging.LOG_LEVELS[e])}(),Faye.Grammar={LOWALPHA:/^[a-z]$/,UPALPHA:/^[A-Z]$/,ALPHA:/^([a-z]|[A-Z])$/,DIGIT:/^[0-9]$/,ALPHANUM:/^(([a-z]|[A-Z])|[0-9])$/,MARK:/^(\-|\_|\!|\~|\(|\)|\$|\@)$/,STRING:/^(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*$/,TOKEN:/^(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+$/,INTEGER:/^([0-9])+$/,CHANNEL_SEGMENT:/^(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+$/,CHANNEL_SEGMENTS:/^(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*$/,CHANNEL_NAME:/^\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*$/,WILD_CARD:/^\*{1,2}$/,CHANNEL_PATTERN:/^(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*\/\*{1,2}$/,VERSION_ELEMENT:/^(([a-z]|[A-Z])|[0-9])(((([a-z]|[A-Z])|[0-9])|\-|\_))*$/,VERSION:/^([0-9])+(\.(([a-z]|[A-Z])|[0-9])(((([a-z]|[A-Z])|[0-9])|\-|\_))*)*$/,CLIENT_ID:/^((([a-z]|[A-Z])|[0-9]))+$/,ID:/^((([a-z]|[A-Z])|[0-9]))+$/,ERROR_MESSAGE:/^(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*$/,ERROR_ARGS:/^(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*(,(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)*$/,ERROR_CODE:/^[0-9][0-9][0-9]$/,ERROR:/^([0-9][0-9][0-9]:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*(,(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)*:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*|[0-9][0-9][0-9]::(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)$/},Faye.Extensible={addExtension:function(e){this._6=this._6||[],this._6.push(e),e.added&&e.added(this)},removeExtension:function(e){if(!this._6)return;var t=this._6.length;while(t--){if(this._6[t]!==e)continue;this._6.splice(t,1),e.removed&&e.removed(this)}},pipeThroughExtensions:function(e,t,n,r){this.debug("Passing through ? extensions: ?",e,t);if(!this._6)return n.call(r,t);var i=this._6.slice(),s=function(t){if(!t)return n.call(r,t);var o=i.shift();if(!o)return n.call(r,t);o[e]?o[e](t,s):s(t)};s(t)}},Faye.extend(Faye.Extensible,Faye.Logging),Faye.Channel=Faye.Class({initialize:function(e){this.id=this.name=e},push:function(e){this.trigger("message",e)},isUnused:function(){return this.countListeners("message")===0}}),Faye.extend(Faye.Channel.prototype,Faye.Publisher),Faye.extend(Faye.Channel,{HANDSHAKE:"/meta/handshake",CONNECT:"/meta/connect",SUBSCRIBE:"/meta/subscribe",UNSUBSCRIBE:"/meta/unsubscribe",DISCONNECT:"/meta/disconnect",META:"meta",SERVICE:"service",expand:function(e){var t=this.parse(e),n=["/**",e],r=t.slice();r[r.length-1]="*",n.push(this.unparse(r));for(var i=1,s=t.length;i<s;i++)r=t.slice(0,i),r.push("**"),n.push(this.unparse(r));return n},isValid:function(e){return Faye.Grammar.CHANNEL_NAME.test(e)||Faye.Grammar.CHANNEL_PATTERN.test(e)},parse:function(e){return this.isValid(e)?e.split("/").slice(1):null},unparse:function(e){return"/"+e.join("/")},isMeta:function(e){var t=this.parse(e);return t?t[0]===this.META:null},isService:function(e){var t=this.parse(e);return t?t[0]===this.SERVICE:null},isSubscribable:function(e){return this.isValid(e)?!this.isMeta(e)&&!this.isService(e):null},Set:Faye.Class({initialize:function(){this._2={}},getKeys:function(){var e=[];for(var t in this._2)e.push(t);return e},remove:function(e){delete this._2[e]},hasSubscription:function(e){return this._2.hasOwnProperty(e)},subscribe:function(e,t,n){if(!t)return;var r;for(var i=0,s=e.length;i<s;i++){r=e[i];var o=this._2[r]=this._2[r]||new Faye.Channel(r);o.bind("message",t,n)}},unsubscribe:function(e,t,n){var r=this._2[e];return r?(r.unbind("message",t,n),r.isUnused()?(this.remove(e),!0):!1):!1},distributeMessage:function(e){var t=Faye.Channel.expand(e.channel);for(var n=0,r=t.length;n<r;n++){var i=this._2[t[n]];i&&i.trigger("message",e.data)}}})}),Faye.Publication=Faye.Class(Faye.Deferrable),Faye.Subscription=Faye.Class({initialize:function(e,t,n,r){this._7=e,this._2=t,this._m=n,this._n=r,this._x=!1},cancel:function(){if(this._x)return;this._7.unsubscribe(this._2,this._m,this._n),this._x=!0},unsubscribe:function(){this.cancel()}}),Faye.extend(Faye.Subscription.prototype,Faye.Deferrable),Faye.Client=Faye.Class({UNCONNECTED:1,CONNECTING:2,CONNECTED:3,DISCONNECTED:4,HANDSHAKE:"handshake",RETRY:"retry",NONE:"none",CONNECTION_TIMEOUT:60,DEFAULT_RETRY:5,DEFAULT_ENDPOINT:"/bayeux",INTERVAL:0,initialize:function(e,t){this.info("New client created for ?",e),this.endpoint=e||this.DEFAULT_ENDPOINT,this._E=Faye.CookieJar&&new Faye.CookieJar,this._y={},this._o=t||{},this._p=[],this.retry=this._o.retry||this.DEFAULT_RETRY,this._z(Faye.MANDATORY_CONNECTION_TYPES),this._1=this.UNCONNECTED,this._2=new Faye.Channel.Set,this._e=0,this._q={},this._8={reconnect:this.RETRY,interval:1e3*(this._o.interval||this.INTERVAL),timeout:1e3*(this._o.timeout||this.CONNECTION_TIMEOUT)},Faye.Event&&Faye.Event.on(Faye.ENV,"beforeunload",function(){Faye.indexOf(this._p,"autodisconnect")<0&&this.disconnect()},this)},disable:function(e){this._p.push(e)},setHeader:function(e,t){this._y[e]=t},getClientId:function(){return this._0},getState:function(){switch(this._1){case this.UNCONNECTED:return"UNCONNECTED";case this.CONNECTING:return"CONNECTING";case this.CONNECTED:return"CONNECTED";case this.DISCONNECTED:return"DISCONNECTED"}},handshake:function(e,t){if(this._8.reconnect===this.NONE)return;if(this._1!==this.UNCONNECTED)return;this._1=this.CONNECTING;var n=this;this.info("Initiating handshake with ?",this.endpoint),this._9({channel:Faye.Channel.HANDSHAKE,version:Faye.BAYEUX_VERSION,supportedConnectionTypes:[this._a.connectionType]},function(r){if(r.successful){this._1=this.CONNECTED,this._0=r.clientId;var i=Faye.filter(r.supportedConnectionTypes,function(e){return Faye.indexOf(this._p,e)<0},this);this._z(i),this.info("Handshake successful: ?",this._0),this.subscribe(this._2.getKeys(),!0),e&&e.call(t)}else this.info("Handshake unsuccessful"),Faye.ENV.setTimeout(function(){n.handshake(e,t)},this._8.interval),this._1=this.UNCONNECTED},this)},connect:function(e,t){if(this._8.reconnect===this.NONE)return;if(this._1===this.DISCONNECTED)return;if(this._1===this.UNCONNECTED)return this.handshake(function(){this.connect(e,t)},this);this.callback(e,t);if(this._1!==this.CONNECTED)return;this.info("Calling deferred actions for ?",this._0),this.setDeferredStatus("succeeded"),this.setDeferredStatus("deferred");if(this._r)return;this._r=!0,this.info("Initiating connection for ?",this._0),this._9({channel:Faye.Channel.CONNECT,clientId:this._0,connectionType:this._a.connectionType},this._A,this)},disconnect:function(){if(this._1!==this.CONNECTED)return;this._1=this.DISCONNECTED,this.info("Disconnecting ?",this._0),this._9({channel:Faye.Channel.DISCONNECT,clientId:this._0},function(e){e.successful&&this._a.close()},this),this.info("Clearing channel listeners for ?",this._0),this._2=new Faye.Channel.Set},subscribe:function(e,t,n){if(e instanceof Array){for(var r=0,i=e.length;r<i;r++)this.subscribe(e[r],t,n);return}var s=new Faye.Subscription(this,e,t,n),o=t===!0,u=this._2.hasSubscription(e);return u&&!o?(this._2.subscribe([e],t,n),s.setDeferredStatus("succeeded"),s):(this.connect(function(){this.info("Client ? attempting to subscribe to ?",this._0,e),o||this._2.subscribe([e],t,n),this._9({channel:Faye.Channel.SUBSCRIBE,clientId:this._0,subscription:e},function(r){if(!r.successful)return s.setDeferredStatus("failed",Faye.Error.parse(r.error)),this._2.unsubscribe(e,t,n);var i=[].concat(r.subscription);this.info("Subscription acknowledged for ? to ?",this._0,i),s.setDeferredStatus("succeeded")},this)},this),s)},unsubscribe:function(e,t,n){if(e instanceof Array){for(var r=0,i=e.length;r<i;r++)this.unsubscribe(e[r],t,n);return}var s=this._2.unsubscribe(e,t,n);if(!s)return;this.connect(function(){this.info("Client ? attempting to unsubscribe from ?",this._0,e),this._9({channel:Faye.Channel.UNSUBSCRIBE,clientId:this._0,subscription:e},function(e){if(!e.successful)return;var t=[].concat(e.subscription);this.info("Unsubscription acknowledged for ? from ?",this._0,t)},this)},this)},publish:function(e,t){var n=new Faye.Publication;return this.connect(function(){this.info("Client ? queueing published message to ?: ?",this._0,e,t),this._9({channel:e,data:t,clientId:this._0},function(e){e.successful?n.setDeferredStatus("succeeded"):n.setDeferredStatus("failed",Faye.Error.parse(e.error))},this)},this),n},receiveMessage:function(e){this.pipeThroughExtensions("incoming",e,function(e){if(!e)return;e.advice&&this._F(e.advice),this._G(e);if(e.successful===undefined)return;var t=this._q[e.id];if(!t)return;delete this._q[e.id],t[0].call(t[1],e)},this)},_z:function(e){Faye.Transport.get(this,e,function(e){this._a=e,this._a.cookies=this._E,this._a.headers=this._y,e.bind("down",function(){if(this._c!==undefined&&!this._c)return;this._c=!1,this.trigger("transport:down")},this),e.bind("up",function(){if(this._c!==undefined&&this._c)return;this._c=!0,this.trigger("transport:up")},this)},this)},_9:function(e,t,n){e.id=this._H(),t&&(this._q[e.id]=[t,n]),this.pipeThroughExtensions("outgoing",e,function(e){if(!e)return;this._a.send(e,this._8.timeout/1e3)},this)},_H:function(){return this._e+=1,this._e>=Math.pow(2,32)&&(this._e=0),this._e.toString(36)},_F:function(e){Faye.extend(this._8,e),this._8.reconnect===this.HANDSHAKE&&this._1!==this.DISCONNECTED&&(this._1=this.UNCONNECTED,this._0=null,this._A())},_G:function(e){if(!e.channel||e.data===undefined)return;this.info("Client ? calling listeners for ? with ?",this._0,e.channel,e.data),this._2.distributeMessage(e)},_I:function(){if(!this._r)return;this._r=null,this.info("Closed connection for ?",this._0)},_A:function(){this._I();var e=this;Faye.ENV.setTimeout(function(){e.connect()},this._8.interval)}}),Faye.extend(Faye.Client.prototype,Faye.Deferrable),Faye.extend(Faye.Client.prototype,Faye.Publisher),Faye.extend(Faye.Client.prototype,Faye.Logging),Faye.extend(Faye.Client.prototype,Faye.Extensible),Faye.Transport=Faye.extend(Faye.Class({MAX_DELAY:0,batching:!0,initialize:function(e,t){this.debug("Created new ? transport for ?",this.connectionType,t),this._7=e,this._b=t,this._f=[]},close:function(){},send:function(e,t){this.debug("Client ? sending message to ?: ?",this._7._0,this._b,e);if(!this.batching)return this.request([e],t);this._f.push(e),this._J=t;if(e.channel===Faye.Channel.HANDSHAKE)return this.flush();e.channel===Faye.Channel.CONNECT&&(this._s=e),this.addTimeout("publish",this.MAX_DELAY,this.flush,this)},flush:function(){this.removeTimeout("publish"),this._f.length>1&&this._s&&(this._s.advice={timeout:0}),this.request(this._f,this._J),this._s=null,this._f=[]},receive:function(e){this.debug("Client ? received from ?: ?",this._7._0,this._b,e);for(var t=0,n=e.length;t<n;t++)this._7.receiveMessage(e[t])},retry:function(e,t){var n=!1,r=this._7.retry*1e3,i=this;return function(){if(n)return;n=!0,Faye.ENV.setTimeout(function(){i.request(e,t)},r)}}}),{get:function(e,t,n,r){var i=e.endpoint;t===undefined&&(t=this.supportedConnectionTypes()),Faye.asyncEach(this._t,function(s,o){var u=s[0],a=s[1];if(Faye.indexOf(t,u)<0)return o();a.isUsable(i,function(t){t?n.call(r,new a(e,i)):o()})},function(){throw new Error("Could not find a usable connection type for "+i)})},register:function(e,t){this._t.push([e,t]),t.prototype.connectionType=e},_t:[],supportedConnectionTypes:function(){return Faye.map(this._t,function(e){return e[0]})}}),Faye.extend(Faye.Transport.prototype,Faye.Logging),Faye.extend(Faye.Transport.prototype,Faye.Publisher),Faye.extend(Faye.Transport.prototype,Faye.Timeouts),Faye.Event={_g:[],on:function(e,t,n,r){var i=function(){n.call(r)};e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i),this._g.push({_h:e,_u:t,_m:n,_n:r,_B:i})},detach:function(e,t,n,r){var i=this._g.length,s;while(i--){s=this._g[i];if(e&&e!==s._h||t&&t!==s._u||n&&n!==s._m||r&&r!==s._n)continue;s._h.removeEventListener?s._h.removeEventListener(s._u,s._B,!1):s._h.detachEvent("on"+s._u,s._B),this._g.splice(i,1),s=null}}},Faye.Event.on(Faye.ENV,"unload",Faye.Event.detach,Faye.Event),Faye.URI=Faye.extend(Faye.Class({queryString:function(){var e=[];for(var t in this.params){if(!this.params.hasOwnProperty(t))continue;e.push(encodeURIComponent(t)+"="+encodeURIComponent(this.params[t]))}return e.join("&")},isLocal:function(){var e=Faye.URI.parse(Faye.ENV.location.href),t=e.hostname!==this.hostname||e.port!==this.port||e.protocol!==this.protocol;return!t},toURL:function(){var e=this.queryString();return this.protocol+this.hostname+":"+this.port+this.pathname+(e?"?"+e:"")}}),{parse:function(e,t){if(typeof e!="string")return e;var n=new this,r=function(t,r){e=e.replace(r,function(e){return e&&(n[t]=e),""})};r("protocol",/^https?\:\/+/),r("hostname",/^[^\/\:]+/),r("port",/^:[0-9]+/),Faye.extend(n,{protocol:Faye.ENV.location.protocol+"//",hostname:Faye.ENV.location.hostname,port:Faye.ENV.location.port},!1),n.port||(n.port=n.protocol==="https://"?"443":"80"),n.port=n.port.replace(/\D/g,"");var i=e.split("?"),s=i.shift(),o=i.join("?"),u=o?o.split("&"):[],a=u.length,f={};while(a--)i=u[a].split("="),f[decodeURIComponent(i[0]||"")]=decodeURIComponent(i[1]||"");return typeof t=="object"&&Faye.extend(f,t),n.pathname=s,n.params=f,n}}),this.JSON||(JSON={}),function(){function k(e){return e<10?"0"+e:e}function r(e){return n.lastIndex=0,n.test(e)?'"'+e.replace(n,function(e){var t=s[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function q(e,t){var n,i,s,u,a=l,f,c=t[e];c&&typeof c=="object"&&typeof c.toJSON=="function"&&(c=c.toJSON(e)),typeof o=="function"&&(c=o.call(t,e,c));switch(typeof c){case"string":return r(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";l+=p,f=[];if(Object.prototype.toString.apply(c)==="[object Array]"){u=c.length;for(n=0;n<u;n+=1)f[n]=q(n,c)||"null";return s=f.length===0?"[]":l?"[\n"+l+f.join(",\n"+l)+"\n"+a+"]":"["+f.join(",")+"]",l=a,s}if(o&&typeof o=="object"){u=o.length;for(n=0;n<u;n+=1)i=o[n],typeof i=="string"&&(s=q(i,c),s&&f.push(r(i)+(l?": ":":")+s))}else for(i in c)Object.hasOwnProperty.call(c,i)&&(s=q(i,c),s&&f.push(r(i)+(l?": ":":")+s));return s=f.length===0?"{}":l?"{\n"+l+f.join(",\n"+l)+"\n"+a+"}":"{"+f.join(",")+"}",l=a,s}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z"},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var m=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,p,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;Faye.stringify=function(e,t,n){var r;l="",p="";if(typeof n=="number")for(r=0;r<n;r+=1)p+=" ";else typeof n=="string"&&(p=n);o=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return q("",{"":e});throw new Error("JSON.stringify")},typeof JSON.stringify!="function"&&(JSON.stringify=Faye.stringify),typeof JSON.parse!="function"&&(JSON.parse=function(g,j){function h(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.hasOwnProperty.call(i,n)&&(r=h(i,n),r!==undefined?i[n]=r:delete i[n]);return j.call(e,t,i)}var i;m.lastIndex=0,m.test(g)&&(g=g.replace(m,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(g.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+g+")"),typeof j=="function"?h({"":i},""):i;throw new SyntaxError("JSON.parse")})}(),Faye.Transport.WebSocket=Faye.extend(Faye.Class(Faye.Transport,{UNCONNECTED:1,CONNECTING:2,CONNECTED:3,batching:!1,request:function(e,t){if(e.length===0)return;this._i=this._i||{};for(var n=0,r=e.length;n<r;n++)this._i[e[n].id]=e[n];this.withSocket(function(t){t.send(Faye.toJSON(e))})},withSocket:function(e,t){this.callback(e,t),this.connect()},close:function(){if(this._C)return;this._C=!0,this._4&&this._4.close()},connect:function(){if(this._C)return;this._1=this._1||this.UNCONNECTED;if(this._1!==this.UNCONNECTED)return;this._1=this.CONNECTING;var e=Faye.Transport.WebSocket.getClass();this._4=new e(Faye.Transport.WebSocket.getSocketUrl(this._b));var t=this;this._4.onopen=function(){t._1=t.CONNECTED,t.setDeferredStatus("succeeded",t._4),t.trigger("up")},this._4.onmessage=function(e){var n=[].concat(JSON.parse(e.data));for(var r=0,i=n.length;r<i;r++)delete t._i[n[r].id];t.receive(n)},this._4.onclose=function(){var e=t._1===t.CONNECTED;t.setDeferredStatus("deferred"),t._1=t.UNCONNECTED,delete t._4;if(e)return t.resend();var n=t._7.retry*1e3;Faye.ENV.setTimeout(function(){t.connect()},n),t.trigger("down")}},resend:function(){var e=Faye.map(this._i,function(e,t){return t});this.request(e)}}),{WEBSOCKET_TIMEOUT:1e3,getSocketUrl:function(e){return Faye.URI&&(e=Faye.URI.parse(e).toURL()),e.replace(/^http(s?):/ig,"ws$1:")},getClass:function(){return Faye.WebSocket&&Faye.WebSocket.Client||Faye.ENV.WebSocket||Faye.ENV.MozWebSocket},isUsable:function(e,t,n){var r=this.getClass();if(!r)return t.call(n,!1);var i=!1,s=!1,o=this.getSocketUrl(e),u=new r(o);u.onopen=function(){i=!0,u.close(),t.call(n,!0),s=!0,u=null};var a=function(){!s&&!i&&t.call(n,!1),s=!0};u.onclose=u.onerror=a,Faye.ENV.setTimeout(a,this.WEBSOCKET_TIMEOUT)}}),Faye.extend(Faye.Transport.WebSocket.prototype,Faye.Deferrable),Faye.Transport.register("websocket",Faye.Transport.WebSocket),Faye.Transport.EventSource=Faye.extend(Faye.Class(Faye.Transport,{initialize:function(e,t){Faye.Transport.prototype.initialize.call(this,e,t),this._K=new Faye.Transport.XHR(e,t);var n=new EventSource(t+"/"+e.getClientId()),r=this;n.onopen=function(){r.trigger("up")},n.onerror=function(){r.trigger("down")},n.onmessage=function(e){r.receive(JSON.parse(e.data))},this._4=n},request:function(e,t){this._K.request(e,t)},close:function(){this._4.close()}}),{isUsable:function(e,t,n){Faye.Transport.XHR.isUsable(e,function(e){t.call(n,e&&Faye.ENV.EventSource)})}}),Faye.Transport.register("eventsource",Faye.Transport.EventSource),Faye.Transport.XHR=Faye.extend(Faye.Class(Faye.Transport,{request:function(e,t){var n=this.retry(e,t),r=Faye.URI.parse(this._b).pathname,i=this,s=Faye.ENV.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;s.open("POST",r,!0),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("X-Requested-With","XMLHttpRequest");var o=this.headers;for(var u in o){if(!o.hasOwnProperty(u))continue;s.setRequestHeader(u,o[u])}var a=function(){s.abort()};Faye.Event.on(Faye.ENV,"beforeunload",a);var f=function(){Faye.Event.detach(Faye.ENV,"beforeunload",a),s.onreadystatechange=function(){},s=null};s.onreadystatechange=function(){if(s.readyState!==4)return;var e=null,t=s.status,r=t>=200&&t<300||t===304||t===1223;if(!r)return f(),n(),i.trigger("down");try{e=JSON.parse(s.responseText)}catch(o){}f(),e?(i.receive(e),i.trigger("up")):(n(),i.trigger("down"))},s.send(Faye.toJSON(e))}}),{isUsable:function(e,t,n){t.call(n,Faye.URI.parse(e).isLocal())}}),Faye.Transport.register("long-polling",Faye.Transport.XHR),Faye.Transport.CORS=Faye.extend(Faye.Class(Faye.Transport,{request:function(e,t){var n=Faye.ENV.XDomainRequest?XDomainRequest:XMLHttpRequest,r=new n,i=this.retry(e,t),s=this;r.open("POST",this._b,!0);var o=function(){return r?(r.onload=r.onerror=r.ontimeout=r.onprogress=null,r=null,Faye.ENV.clearTimeout(a),!0):!1};r.onload=function(){var e=null;try{e=JSON.parse(r.responseText)}catch(t){}o(),e?(s.receive(e),s.trigger("up")):(i(),s.trigger("down"))};var u=function(){o(),i(),s.trigger("down")},a=Faye.ENV.setTimeout(u,1500*t);r.onerror=u,r.ontimeout=u,r.onprogress=function(){},r.send("message="+encodeURIComponent(Faye.toJSON(e)))}}),{isUsable:function(e,t,n){if(Faye.URI.parse(e).isLocal())return t.call(n,!1);if(Faye.ENV.XDomainRequest)return t.call(n,!0);if(Faye.ENV.XMLHttpRequest){var r=new Faye.ENV.XMLHttpRequest;return t.call(n,r.withCredentials!==undefined)}return t.call(n,!1)}}),Faye.Transport.register("cross-origin-long-polling",Faye.Transport.CORS),Faye.Transport.JSONP=Faye.extend(Faye.Class(Faye.Transport,{request:function(e,t){var n={message:Faye.toJSON(e)},r=document.getElementsByTagName("head")[0],i=document.createElement("script"),s=Faye.Transport.JSONP.getCallbackName(),o=Faye.URI.parse(this._b,n),u=this.retry(e,t),a=this;Faye.ENV[s]=function(e){l(),a.receive(e),a.trigger("up")};var f=Faye.ENV.setTimeout(function(){l(),u(),a.trigger("down")},1500*t),l=function(){if(!Faye.ENV[s])return!1;Faye.ENV[s]=undefined;try{delete Faye.ENV[s]}catch(e){}return Faye.ENV.clearTimeout(f),i.parentNode.removeChild(i),!0};o.params.jsonp=s,i.type="text/javascript",i.src=o.toURL(),r.appendChild(i)}}),{_D:0,getCallbackName:function(){return this._D+=1,"__jsonp"+this._D+"__"},isUsable:function(e,t,n){t.call(n,!0)}}),Faye.Transport.register("callback-polling",Faye.Transport.JSONP),define("faye",function(){});var jsPDF=function(){function e(r,i,s,o){r="undefined"==typeof r?"p":r.toString().toLowerCase(),"undefined"==typeof i&&(i="mm"),"undefined"==typeof s&&(s="a4"),"undefined"==typeof o&&"undefined"==typeof zpipe&&(o=!1);var u=s.toString().toLowerCase(),a=[],f=0,l=o;o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224]};var c="0 g",h=0,p=[],v=2,g=!1,y=[],b={},w={},E=16,S,x,T,N,C={title:"",subject:"",author:"",keywords:"",creator:""},k=0,L=0,A={},O=new n(A),M,_=function(e){return e.toFixed(2)},D=function(e){var t=e.toFixed(0);return 10>e?"0"+t:t},P=function(e){g?p[h].push(e):(a.push(e),f+=e.length+1)},H=function(){return v++,y[v]=f,P(v+" 0 obj"),v},B=function(e){P("stream"),P(e),P("endstream")},j,F,I,q=function(e,t){var n;n=e;var r=t,i,s,o,u,a,f;void 0===r&&(r={}),i=r.sourceEncoding?i:"Unicode",o=r.outputEncoding;if((r.autoencode||o)&&b[S].metadata&&b[S].metadata[i]&&b[S].metadata[i].encoding&&(i=b[S].metadata[i].encoding,!o&&b[S].encoding&&(o=b[S].encoding),!o&&i.codePages&&(o=i.codePages[0]),"string"==typeof o&&(o=i[o]),o)){a=!1,u=[],i=0;for(s=n.length;i<s;i++)(f=o[n.charCodeAt(i)])?u.push(String.fromCharCode(f)):u.push(n[i]),u[i].charCodeAt(0)>>8&&(a=!0);n=u.join("")}for(i=n.length;void 0===a&&0!==i;)n.charCodeAt(i-1)>>8&&(a=!0),i--;if(a){u=r.noBOM?[]:[254,255],i=0;for(s=n.length;i<s;i++){f=n.charCodeAt(i),r=f>>8;if(r>>8)throw Error("Character at position "+i.toString(10)+" of string '"+n+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");u.push(r),u.push(f-(r<<8))}n=String.fromCharCode.apply(void 0,u)}return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},R=function(){h++,g=!0,p[h]=[],P(_(.200025*N)+" w"),P("0 G"),0!==k&&P(k.toString(10)+" J"),0!==L&&P(L.toString(10)+" j"),O.publish("addPage",{pageNumber:h})},U=function(e,t){var n;void 0===e&&(e=b[S].fontName),void 0===t&&(t=b[S].fontStyle);try{n=w[e][t]}catch(r){n=void 0}if(!n)throw Error("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts.");return n},z=function(){g=!1,a=[],y=[],P("%PDF-1.3"),j=T*N,F=x*N;var e,t,n,r,i;for(e=1;e<=h;e++){H(),P("<</Type /Page"),P("/Parent 1 0 R"),P("/Resources 2 0 R"),P("/Contents "+(v+1)+" 0 R>>"),P("endobj"),t=p[e].join("\n"),H();if(l){n=[];for(r=0;r<t.length;++r)n[r]=t.charCodeAt(r);i=adler32cs.from(t),t=new Deflater(6),t.append(new Uint8Array(n)),t=t.flush(),n=[new Uint8Array([120,156]),new Uint8Array(t),new Uint8Array([i&255,i>>8&255,i>>16&255,i>>24&255])],t="";for(r in n)n.hasOwnProperty(r)&&(t+=String.fromCharCode.apply(null,n[r]));P("<</Length "+t.length+" /Filter [/FlateDecode]>>")}else P("<</Length "+t.length+">>");B(t),P("endobj")}y[1]=f,P("1 0 obj"),P("<</Type /Pages"),I="/Kids [";for(r=0;r<h;r++)I+=3+2*r+" 0 R ";P(I+"]"),P("/Count "+h),P("/MediaBox [0 0 "+_(j)+" "+_(F)+"]"),P(">>"),P("endobj");for(var s in b)b.hasOwnProperty(s)&&(e=b[s],e.objectNumber=H(),P("<</BaseFont/"+e.PostScriptName+"/Type/Font"),"string"==typeof e.encoding&&P("/Encoding/"+e.encoding),P("/Subtype/Type1>>"),P("endobj"));O.publish("putResources"),y[2]=f,P("2 0 obj"),P("<<"),P("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),P("/Font <<");for(var o in b)b.hasOwnProperty(o)&&P("/"+o+" "+b[o].objectNumber+" 0 R");P(">>"),P("/XObject <<"),O.publish("putXobjectDict"),P(">>"),P(">>"),P("endobj"),O.publish("postPutResources"),H(),P("<<"),P("/Producer (jsPDF 0.9.0rc2)"),C.title&&P("/Title ("+q(C.title)+")"),C.subject&&P("/Subject ("+q(C.subject)+")"),C.author&&P("/Author ("+q(C.author)+")"),C.keywords&&P("/Keywords ("+q(C.keywords)+")"),C.creator&&P("/Creator ("+q(C.creator)+")"),s=new Date,P("/CreationDate (D:"+[s.getFullYear(),D(s.getMonth()+1),D(s.getDate()),D(s.getHours()),D(s.getMinutes()),D(s.getSeconds())].join("")+")"),P(">>"),P("endobj"),H(),P("<<"),P("/Type /Catalog"),P("/Pages 1 0 R"),P("/OpenAction [3 0 R /FitH null]"),P("/PageLayout /OneColumn"),O.publish("putCatalog"),P(">>"),P("endobj"),s=f,P("xref"),P("0 "+(v+1)),P("0000000000 65535 f ");for(o=1;o<=v;o++)e=y[o].toFixed(0),e=10>e.length?Array(11-e.length).join("0")+e:e,P(e+" 00000 n ");return P("trailer"),P("<<"),P("/Size "+(v+1)),P("/Root "+v+" 0 R"),P("/Info "+(v-1)+" 0 R"),P(">>"),P("startxref"),P(s),P("%%EOF"),g=!0,a.join("\n")},W=function(e){var t="S";if("F"===e)t="f";else if("FD"===e||"DF"===e)t="B";return t},X=function(e,t){var n,r,i,s;switch(e){case void 0:return z();case"save":if(navigator.getUserMedia&&(void 0===window.URL||void 0===window.URL.createObjectURL))return A.output("dataurlnewwindow");n=z(),r=n.length,i=new Uint8Array(new ArrayBuffer(r));for(s=0;s<r;s++)i[s]=n.charCodeAt(s);n=new Blob([i],{type:"application/pdf"}),saveAs(n,t);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(z());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(z());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(z()));break;default:throw Error('Output type "'+e+'" is not supported.')}};if("pt"===i)N=1;else if("mm"===i)N=72/25.4;else if("cm"===i)N=72/2.54;else{if("in"!==i)throw"Invalid unit: "+i;N=72}if(o.hasOwnProperty(u))x=o[u][1]/N,T=o[u][0]/N;else try{x=s[1],T=s[0]}catch(V){throw"Invalid format: "+s}if("p"===r||"portrait"===r)r="p",T>x&&(r=T,T=x,x=r);else{if("l"!==r&&"landscape"!==r)throw"Invalid orientation: "+r;r="l",x>T&&(r=T,T=x,x=r)}A.internal={pdfEscape:q,getStyle:W,getFont:function(){return b[U.apply(A,arguments)]},getFontSize:function(){return E},getLineHeight:function(){return 1.15*E},btoa:btoa,write:function(e,t,n,r){P(1===arguments.length?e:Array.prototype.join.call(arguments," "))},getCoordinateString:function(e){return _(e*N)},getVerticalCoordinateString:function(e){return _((x-e)*N)},collections:{},newObject:H,putStream:B,events:O,scaleFactor:N,pageSize:{width:T,height:x},output:function(e,t){return X(e,t)},getNumberOfPages:function(){return p.length-1},pages:p},A.addPage=function(){return R(),this},A.text=function(e,t,n,r){var i,s;"number"==typeof e&&(i=e,s=t,e=n,t=i,n=s),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),"undefined"==typeof r?r={noBOM:!0,autoencode:!0}:(void 0===r.noBOM&&(r.noBOM=!0),void 0===r.autoencode&&(r.autoencode=!0));if("string"==typeof e)r=q(e,r);else{if(!(e instanceof Array))throw Error('Type of text must be string or Array. "'+e+'" is not recognized.');e=e.concat();for(i=e.length-1;-1!==i;i--)e[i]=q(e[i],r);r=e.join(") Tj\nT* (")}return P("BT\n/"+S+" "+E+" Tf\n"+1.15*E+" TL\n"+c+"\n"+_(t*N)+" "+_((x-n)*N)+" Td\n("+r+") Tj\nET"),this},A.line=function(e,t,n,r){return P(_(e*N)+" "+_((x-t)*N)+" m "+_(n*N)+" "+_((x-r)*N)+" l S"),this},A.lines=function(e,t,n,r,i,s){var o,u,a,f,l,c,h,p;"number"==typeof e&&(o=e,u=t,e=n,t=o,n=u),i=W(i),r=void 0===r?[1,1]:r,P((t*N).toFixed(3)+" "+((x-n)*N).toFixed(3)+" m "),o=r[0],r=r[1],u=e.length,p=n;for(n=0;n<u;n++)a=e[n],2===a.length?(t=a[0]*o+t,p=a[1]*r+p,P((t*N).toFixed(3)+" "+((x-p)*N).toFixed(3)+" l")):(f=a[0]*o+t,l=a[1]*r+p,c=a[2]*o+t,h=a[3]*r+p,t=a[4]*o+t,p=a[5]*r+p,P((f*N).toFixed(3)+" "+((x-l)*N).toFixed(3)+" "+(c*N).toFixed(3)+" "+((x-h)*N).toFixed(3)+" "+(t*N).toFixed(3)+" "+((x-p)*N).toFixed(3)+" c"));return 1==s&&P(" h"),P(i),this},A.rect=function(e,t,n,r,i){return i=W(i),P([_(e*N),_((x-t)*N),_(n*N),_(-r*N),"re",i].join(" ")),this},A.triangle=function(e,t,n,r,i,s,o){return this.lines([[n-e,r-t],[i-n,s-r],[e-i,t-s]],e,t,[1,1],o,!0),this},A.roundedRect=function(e,t,n,r,i,s,o){var u=4/3*(Math.SQRT2-1);return this.lines([[n-2*i,0],[i*u,0,i,s-s*u,i,s],[0,r-2*s],[0,s*u,-(i*u),s,-i,s],[-n+2*i,0],[-(i*u),0,-i,-(s*u),-i,-s],[0,-r+2*s],[0,-(s*u),i*u,-s,i,-s]],e+i,t,[1,1],o),this},A.ellipse=function(e,t,n,r,i){i=W(i);var s=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*r;return P([_((e+n)*N),_((x-t)*N),"m",_((e+n)*N),_((x-(t-o))*N),_((e+s)*N),_((x-(t-r))*N),_(e*N),_((x-(t-r))*N),"c"].join(" ")),P([_((e-s)*N),_((x-(t-r))*N),_((e-n)*N),_((x-(t-o))*N),_((e-n)*N),_((x-t)*N),"c"].join(" ")),P([_((e-n)*N),_((x-(t+o))*N),_((e-s)*N),_((x-(t+r))*N),_(e*N),_((x-(t+r))*N),"c"].join(" ")),P([_((e+s)*N),_((x-(t+r))*N),_((e+n)*N),_((x-(t+o))*N),_((e+n)*N),_((x-t)*N),"c",i].join(" ")),this},A.circle=function(e,t,n,r){return this.ellipse(e,t,n,n,r)},A.setProperties=function(e){for(var t in C)C.hasOwnProperty(t)&&e[t]&&(C[t]=e[t]);return this},A.setFontSize=function(e){return E=e,this},A.setFont=function(e,t){return S=U(e,t),this},A.setFontStyle=A.setFontType=function(e){return S=U(void 0,e),this},A.getFontList=function(){var e={},t,n,r;for(t in w)if(w.hasOwnProperty(t))for(n in e[t]=r=[],w[t])w[t].hasOwnProperty(n)&&r.push(n);return e},A.setLineWidth=function(e){return P((e*N).toFixed(2)+" w"),this},A.setDrawColor=function(e,t,n,r){return e=void 0===t||void 0===r&&e===t===n?"string"==typeof e?e+" G":_(e/255)+" G":void 0===r?"string"==typeof e?[e,t,n,"RG"].join(" "):[_(e/255),_(t/255),_(n/255),"RG"].join(" "):"string"==typeof e?[e,t,n,r,"K"].join(" "):[_(e),_(t),_(n),_(r),"K"].join(" "),P(e),this},A.setFillColor=function(e,t,n,r){return e=void 0===t||void 0===r&&e===t===n?"string"==typeof e?e+" g":_(e/255)+" g":void 0===r?"string"==typeof e?[e,t,n,"rg"].join(" "):[_(e/255),_(t/255),_(n/255),"rg"].join(" "):"string"==typeof e?[e,t,n,r,"k"].join(" "):[_(e),_(t),_(n),_(r),"k"].join(" "),P(e),this},A.setTextColor=function(e,t,n){return c=0===e&&0===t&&0===n||"undefined"==typeof t?(e/255).toFixed(3)+" g":[(e/255).toFixed(3),(t/255).toFixed(3),(n/255).toFixed(3),"rg"].join(" "),this},A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.setLineCap=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return k=t,P(t.toString(10)+" J"),this},A.setLineJoin=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return L=t,P(t.toString(10)+" j"),this},A.output=X,A.save=function(e){A.output("save",e)};for(M in e.API)e.API.hasOwnProperty(M)&&("events"===M&&e.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(O,e.API.events):A[M]=e.API[M]);return function(){var e=[["Helvetica","helvetica","normal"],["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold","times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"]],n,r,i,s;n=0;for(r=e.length;n<r;n++){var o=e[n][0],u=e[n][1];i=e[n][2],s="F"+(t(b)+1).toString(10);var o=b[s]={id:s,PostScriptName:o,fontName:u,fontStyle:i,encoding:"StandardEncoding",metadata:{}},a=s;void 0===w[u]&&(w[u]={}),w[u][i]=a,O.publish("addFont",o),i=s,s=e[n][0].split("-"),o=s[0],s=s[1]||"",void 0===w[o]&&(w[o]={}),w[o][s]=i}O.publish("addFonts",{fonts:b,dictionary:w})}(),S="F1",R(),O.publish("initialized"),A}"undefined"==typeof btoa&&(window.btoa=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),n,r,i,s,o=0,u=0,a="",a=[];do n=e.charCodeAt(o++),r=e.charCodeAt(o++),i=e.charCodeAt(o++),s=n<<16|r<<8|i,n=s>>18&63,r=s>>12&63,i=s>>6&63,s&=63,a[u++]=t[n]+t[r]+t[i]+t[s];while(o<e.length);return a=a.join(""),e=e.length%3,(e?a.slice(0,e-3):a)+"===".slice(e||3)}),"undefined"==typeof atob&&(window.atob=function(e){var t,n,r,i,s,o=0,u=0;i="";var a=[];if(!e)return e;e+="";do t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(o++)),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(o++)),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(o++)),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(o++)),r=t<<18|n<<12|i<<6|s,t=r>>16&255,n=r>>8&255,r&=255,64===i?a[u++]=String.fromCharCode(t):64===s?a[u++]=String.fromCharCode(t,n):a[u++]=String.fromCharCode(t,n,r);while(o<e.length);return i=a.join("")});var t="function"==typeof Object.keys?function(e){return Object.keys(e).length}:function(e){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t},n=function(e){this.topics={},this.context=e,this.publish=function(e,t){if(this.topics[e]){var n=this.topics[e],r=[],i,s,o,u,a=function(){};t=Array.prototype.slice.call(arguments,1),s=0;for(o=n.length;s<o;s++)u=n[s],i=u[0],u[1]&&(u[0]=a,r.push(s)),i.apply(this.context,t);s=0;for(o=r.length;s<o;s++)n.splice(r[s],1)}},this.subscribe=function(e,t,n){return this.topics[e]?this.topics[e].push([t,n]):this.topics[e]=[[t,n]],{topic:e,callback:t}},this.unsubscribe=function(e){if(this.topics[e.topic]){var t=this.topics[e.topic],n,r;n=0;for(r=t.length;n<r;n++)t[n][0]===e.callback&&t.splice(n,1)}}};return e.API={events:[]},e}();(function(e){var t=function(){var e=this.internal.collections.addImage_images,t;for(t in e){var n=e[t],r=this.internal.newObject(),i=this.internal.write,s=this.internal.putStream;n.n=r,i("<</Type /XObject"),i("/Subtype /Image"),i("/Width "+n.w),i("/Height "+n.h),"Indexed"===n.cs?i("/ColorSpace [/Indexed /DeviceRGB "+(n.pal.length/3-1)+" "+(r+1)+" 0 R]"):(i("/ColorSpace /"+n.cs),"DeviceCMYK"===n.cs&&i("/Decode [1 0 1 0 1 0 1 0]")),i("/BitsPerComponent "+n.bpc),"f"in n&&i("/Filter /"+n.f),"dp"in n&&i("/DecodeParms <<"+n.dp+">>");if("trns"in n&&n.trns.constructor==Array)for(var o="",u=0;u<n.trns.length;u++)o+=n[o][u]+" "+n.trns[u]+" ",i("/Mask ["+o+"]");"smask"in n&&i("/SMask "+(r+1)+" 0 R"),i("/Length "+n.data.length+">>"),s(n.data),i("endobj")}},n=function(){var e=this.internal.collections.addImage_images,t=this.internal.write,n,r;for(r in e)n=e[r],t("/I"+n.i,n.n,"0","R")};e.addImage=function(e,r,i,s,o,u){if("object"==typeof e&&1===e.nodeType){r=document.createElement("canvas"),r.width=e.clientWidth,r.height=e.clientHeight;var a=r.getContext("2d");if(!a)throw"addImage requires canvas to be supported by browser.";a.drawImage(e,0,0,r.width,r.height),e=r.toDataURL("image/jpeg"),r="JPEG"}if("JPEG"!==r.toUpperCase())throw Error("addImage currently only supports format 'JPEG', not '"+r+"'");var f;r=this.internal.collections.addImage_images;var a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;"data:image/jpeg;base64,"===e.substring(0,23)&&(e=atob(e.replace("data:image/jpeg;base64,","")));if(r)if(Object.keys)f=Object.keys(r).length;else{var c=r,h=0;for(f in c)c.hasOwnProperty(f)&&h++;f=h}else f=0,this.internal.collections.addImage_images=r={},this.internal.events.subscribe("putResources",t),this.internal.events.subscribe("putXobjectDict",n);e:{var c=e,p;if(255===!c.charCodeAt(0)||216===!c.charCodeAt(1)||255===!c.charCodeAt(2)||224===!c.charCodeAt(3)||74===!c.charCodeAt(6)||70===!c.charCodeAt(7)||73===!c.charCodeAt(8)||70===!c.charCodeAt(9)||0===!c.charCodeAt(10))throw Error("getJpegSize requires a binary jpeg file");p=256*c.charCodeAt(4)+c.charCodeAt(5);for(var h=4,v=c.length;h<v;){h+=p;if(255!==c.charCodeAt(h))throw Error("getJpegSize could not find the size of the image");if(192===c.charCodeAt(h+1)||193===c.charCodeAt(h+1)||194===c.charCodeAt(h+1)||195===c.charCodeAt(h+1)||196===c.charCodeAt(h+1)||197===c.charCodeAt(h+1)||198===c.charCodeAt(h+1)||199===c.charCodeAt(h+1)){p=256*c.charCodeAt(h+5)+c.charCodeAt(h+6),c=256*c.charCodeAt(h+7)+c.charCodeAt(h+8),c=[c,p];break e}h+=2,p=256*c.charCodeAt(h)+c.charCodeAt(h+1)}c=void 0}return e={w:c[0],h:c[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:f,data:e},r[f]=e,o||u||(u=o=-96),0>o&&(o=-72*e.w/o/this.internal.scaleFactor),0>u&&(u=-72*e.h/u/this.internal.scaleFactor),0===o&&(o=u*e.w/e.h),0===u&&(u=o*e.h/e.w),this.internal.write("q",a(o),"0 0",a(u),a(i),l(s+u),"cm /I"+e.i,"Do Q"),this}})(jsPDF.API),function(e){function t(e,t,n,r){return this.pdf=e,this.x=t,this.y=n,this.settings=r,this.init(),this}function n(e){var t=u[e];return t?t:(t={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[e],void 0!==t||(t=parseFloat(e))?u[e]=t/16:(t=e.match(/([\d\.]+)(px)/),3===t.length?u[e]=parseFloat(t[1])/16:u[e]=1))}function r(e,t,u){var a=e.childNodes,f;f=$(e),e={};for(var h,p=f.css("font-family").split(","),d=p.shift();!h&&d;)h=i[d.trim().toLowerCase()],d=p.shift();e["font-family"]=h||"times",e["font-style"]=o[f.css("font-style")]||"normal",h=s[f.css("font-weight")]||"normal","bold"===h&&(e["font-style"]="normal"===e["font-style"]?h:h+e["font-style"]),e["font-size"]=n(f.css("font-size"))||1,e["line-height"]=n(f.css("line-height"))||1,e.display="inline"===f.css("display")?"inline":"block","block"===e.display&&(e["margin-top"]=n(f.css("margin-top"))||0,e["margin-bottom"]=n(f.css("margin-bottom"))||0,e["padding-top"]=n(f.css("padding-top"))||0,e["padding-bottom"]=n(f.css("padding-bottom"))||0);if(h="block"===e.display)t.setBlockBoundary(),t.setBlockStyle(e);p=0;for(d=a.length;p<d;p++)if(f=a[p],"object"==typeof f)if(1===f.nodeType&&"SCRIPT"!=f.nodeName){var v=f,y=t,b=u,w=!1,E=void 0,S=void 0,x=b["#"+v.id];if(x)if("function"==typeof x)w=x(v,y);else for(E=0,S=x.length;!w&&E!==S;)w=x[E](v,y),E++;x=b[v.nodeName];if(!w&&x)if("function"==typeof x)w=x(v,y);else for(E=0,S=x.length;!w&&E!==S;)w=x[E](v,y),E++;w||r(f,t,u)}else 3===f.nodeType&&t.addText(f.nodeValue,e);else"string"==typeof f&&t.addText(f,e);h&&t.setBlockBoundary()}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),t.prototype.init=function(){this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},t.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y}},t.prototype.splitFragmentsIntoLines=function(e,t){for(var n=this.pdf.internal.scaleFactor,r={},i,s,o,u,a,f=[],l=[f],c=0,h=this.settings.width;e.length;)if(u=e.shift(),a=t.shift(),u)if(i=a["font-family"],s=a["font-style"],o=r[i+s],o||(o=this.pdf.internal.getFont(i,s).metadata.Unicode,r[i+s]=o),i={widths:o.widths,kerning:o.kerning,fontSize:12*a["font-size"],textIndent:c},s=this.pdf.getStringUnitWidth(u,i)*i.fontSize/n,c+s>h){u=this.pdf.splitTextToSize(u,h,i);for(f.push([u.shift(),a]);u.length;)f=[[u.shift(),a]],l.push(f);c=this.pdf.getStringUnitWidth(f[0][0],i)*i.fontSize/n}else f.push([u,a]),c+=s;return l},t.prototype.RenderTextFragment=function(e,t){var n=this.pdf.internal.getFont(t["font-family"],t["font-style"]);this.pdf.internal.write("/"+n.id,(12*t["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(e)+") Tj")},t.prototype.renderParagraph=function(){for(var e=this.paragraph.text,t=0,n=e.length,r,i=!1,s=!1;!i&&t!==n;)(r=e[t]=e[t].trimLeft())&&(i=!0),t++;for(t=n-1;n&&!s&&-1!==t;)(r=e[t]=e[t].trimRight())&&(s=!0),t--;i=/\s+$/g,s=!0;for(t=0;t!==n;t++)r=e[t].replace(/\s+/g," "),s&&(r=r.trimLeft()),r&&(s=i.test(r)),e[t]=r;t=this.paragraph.style,r=(n=this.paragraph.blockstyle)||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:n};if(e.join("").trim()){e=this.splitFragmentsIntoLines(e,t),t=12/this.pdf.internal.scaleFactor,i=(Math.max((n["margin-top"]||0)-(r["margin-bottom"]||0),0)+(n["padding-top"]||0))*t,n=((n["margin-bottom"]||0)+(n["padding-bottom"]||0))*t,r=this.pdf.internal.write;var o,u;this.y+=i;for(r("q","BT",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");e.length;){i=e.shift(),o=s=0;for(u=i.length;o!==u;o++)i[o][0].trim()&&(s=Math.max(s,i[o][1]["line-height"],i[o][1]["font-size"]));r(0,(-12*s).toFixed(2),"Td"),o=0;for(u=i.length;o!==u;o++)i[o][0]&&this.RenderTextFragment(i[o][0],i[o][1]);this.y+=s*t}r("ET","Q"),this.y+=n}},t.prototype.setBlockBoundary=function(){this.renderParagraph()},t.prototype.setBlockStyle=function(e){this.paragraph.blockstyle=e},t.prototype.addText=function(e,t){this.paragraph.text.push(e),this.paragraph.style.push(t)};var i={helvetica:"helvetica","sans-serif":"helvetica",serif:"times",times:"times","times new roman":"times",monospace:"courier",courier:"courier"},s={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},o={normal:"normal",italic:"italic",oblique:"italic"},u={normal:1};e.fromHTML=function(e,n,i,s){if("string"==typeof e){var o="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0);$('<div style="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;"><iframe style="height:1px;width:1px" name="'+o+'" /></div>').appendTo(document.body),e=$(window.frames[o].document.body).html(e)[0]}return n=new t(this,n,i,s),r(e,n,s.elementHandlers),n.dispose()}}(jsPDF.API),function(e){e.addSVG=function(e,t,n,r,i){function s(e){for(var t=parseFloat(e[1]),n=parseFloat(e[2]),r=[],i=3,s=e.length;i<s;)"c"===e[i]?(r.push([parseFloat(e[i+1]),parseFloat(e[i+2]),parseFloat(e[i+3]),parseFloat(e[i+4]),parseFloat(e[i+5]),parseFloat(e[i+6])]),i+=7):"l"===e[i]?(r.push([parseFloat(e[i+1]),parseFloat(e[i+2])]),i+=3):i+=1;return[t,n,r]}if(void 0===t||void 0===t)throw Error("addSVG needs values for 'x' and 'y'");var o=function(e){var t=e.createElement("iframe"),n=e.createElement("style");return n.type="text/css",n.styleSheet?n.styleSheet.cssText=".jsPDF_sillysvg_iframe {display:none;position:absolute;}":n.appendChild(e.createTextNode(".jsPDF_sillysvg_iframe {display:none;position:absolute;}")),e.getElementsByTagName("head")[0].appendChild(n),t.name="childframe",t.setAttribute("width",0),t.setAttribute("height",0),t.setAttribute("frameborder","0"),t.setAttribute("scrolling","no"),t.setAttribute("seamless","seamless"),t.setAttribute("class","jsPDF_sillysvg_iframe"),e.body.appendChild(t),t}(document),o=function(e,t){var n=(t.contentWindow||t.contentDocument).document;return n.write(e),n.close(),n.getElementsByTagName("svg")[0]}(e,o);e=[1,1];var u=parseFloat(o.getAttribute("width")),a=parseFloat(o.getAttribute("height"));u&&a&&(r&&i?e=[r/u,i/a]:r?e=[r/u,r/u]:i&&(e=[i/a,i/a])),o=o.childNodes,r=0;for(i=o.length;r<i;r++)u=o[r],u.tagName&&"PATH"===u.tagName.toUpperCase()&&(u=s(u.getAttribute("d").split(" ")),u[0]=u[0]*e[0]+t,u[1]=u[1]*e[1]+n,this.lines.call(this,u[2],u[0],u[1],e));return this}}(jsPDF.API),function(e){var t=e.getCharWidthsArray=function(e,t){t||(t={});var n=t.widths?t.widths:this.internal.getFont().metadata.Unicode.widths,r=n.fof?n.fof:1,i=t.kerning?t.kerning:this.internal.getFont().metadata.Unicode.kerning,s=i.fof?i.fof:1,o,u,a,f=0,l=n[0]||r,c=[];o=0;for(u=e.length;o<u;o++)a=e.charCodeAt(o),c.push((n[a]||l)/r+(i[a]&&i[a][f]||0)/s),f=a;return c},n=function(e){for(var t=e.length,n=0;t;)t--,n+=e[t];return n};e.getStringUnitWidth=function(e,r){return n(t.call(this,e,r))};var r=function(e,r,i){i||(i={});var s=t(" ",i)[0],o=e.split(" "),u=[];e=[u];var a=i.textIndent||0,f=0,l=0,c,h,p,v;p=0;for(v=o.length;p<v;p++){c=o[p],h=t(c,i),l=n(h);if(a+f+l>r){if(l>r){for(var l=c,g=h,y=r,b=[],w=0,E=l.length,S=0;w!==E&&S+g[w]<r-(a+f);)S+=g[w],w++;b.push(l.slice(0,w)),a=w;for(S=0;w!==E;)S+g[w]>y&&(b.push(l.slice(a,w)),S=0,a=w),S+=g[w],w++;a!==w&&b.push(l.slice(a,w)),a=b,u.push(a.shift());for(u=[a.pop()];a.length;)e.push([a.shift()]);l=n(h.slice(c.length-u[0].length))}else u=[c];e.push(u),a=l}else u.push(c),a+=f+l;f=s}r=[],p=0;for(v=e.length;p<v;p++)r.push(e[p].join(" "));return r};e.splitTextToSize=function(e,t,n){n||(n={});var i=n.fontSize||this.internal.getFontSize(),s,o=n;s={0:1};var u={};o.widths&&o.kerning?s={widths:o.widths,kerning:o.kerning}:(o=this.internal.getFont(o.fontName,o.fontStyle),s=o.metadata.Unicode?{widths:o.metadata.Unicode.widths||s,kerning:o.metadata.Unicode.kerning||u}:{widths:s,kerning:u}),e=e.match(/[\n\r]/)?e.split(/\r\n|\r|\n/g):[e],t=1*this.internal.scaleFactor*t/i,s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,u=[],n=0;for(i=e.length;n<i;n++)u=u.concat(r(e[n],t,s));return u}}(jsPDF.API),function(e){var t=function(e){for(var t={},n=0;16>n;n++)t["klmnopqrstuvwxyz"[n]]="0123456789abcdef"[n];for(var r={},i=1,s,o=r,u=[],a,f="",l="",c,h=e.length-1,n=1;n!=h;)a=e[n],n+=1,"'"==a?s?(c=s.join(""),s=void 0):s=[]:s?s.push(a):"{"==a?(u.push([o,c]),o={},c=void 0):"}"==a?(a=u.pop(),a[0][a[1]]=o,c=void 0,o=a[0]):"-"==a?i=-1:void 0===c?t.hasOwnProperty(a)?(f+=t[a],c=parseInt(f,16)*i,i=1,f=""):f+=a:t.hasOwnProperty(a)?(l+=t[a],o[c]=parseInt(l,16)*i,i=1,c=void 0,l=""):l+=a;return r},n={codePages:["WinAnsiEncoding"],WinAnsiEncoding:t("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},r={Unicode:{Courier:n,"Courier-Bold":n,"Courier-BoldOblique":n,"Courier-Oblique":n,Helvetica:n,"Helvetica-Bold":n,"Helvetica-BoldOblique":n,"Helvetica-Oblique":n,"Times-Roman":n,"Times-Bold":n,"Times-BoldItalic":n,"Times-Italic":n}},i={Unicode:{"Courier-Oblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":t("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":t("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":t("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":t("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFonts",function(e){var t,n,s,o;for(n in e.fonts)if(e.fonts.hasOwnProperty(n)){t=e.fonts[n];if(s=i.Unicode[t.PostScriptName])o=t.metadata.Unicode?t.metadata.Unicode:t.metadata.Unicode={},o.widths=s.widths,o.kerning=s.kerning;if(s=r.Unicode[t.PostScriptName])o=t.metadata.Unicode?t.metadata.Unicode:t.metadata.Unicode={},o.encoding=s,s.codePages&&s.codePages.length&&(t.encoding=s.codePages[0])}}])}(jsPDF.API),function(e){var t,n,r,i,s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},o=1;e.setHeaderFunction=function(e){i=e},e.getTextDimensions=function(e){t=this.internal.getFont().fontName,n=this.internal.getFontSize(),r=this.internal.getFont().fontStyle;var i=19.049976/25.4,s;return s=document.createElement("font"),s.id="jsPDFCell",s.style.fontStyle=r,s.style.fontName=t,s.style.fontSize=n+"pt",s.innerText=e,document.body.appendChild(s),e={w:(s.offsetWidth+1)*i,h:(s.offsetHeight+1)*i},document.body.removeChild(s),e},e.cellAddPage=function(){this.addPage(),s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},o+=1},e.cellInitialize=function(){s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},o=1},e.cell=function(e,t,n,r,i,o,u){var a=s;void 0!==a.ln&&(a.ln===o?(e=a.x+a.w,t=a.y):(a.y+a.h+r+13>=this.internal.pageSize.height&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(o)),t=s.y+s.h));if(""!==i[0])if(this.printingHeaderRow?this.rect(e,t,n,r,"FD"):this.rect(e,t,n,r),"right"===u){if(i instanceof Array)for(u=0;u<i.length;u++){var a=i[u],f=this.getStringUnitWidth(a)*this.internal.getFontSize();this.text(a,e+n-f-3,t+this.internal.getLineHeight()*(u+1))}}else this.text(i,e+3,t+this.internal.getLineHeight());return s={x:e,y:t,w:n,h:r,ln:o},this},e.getKeys="function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t=[],n;for(n in e)e.hasOwnProperty(n)&&t.push(n);return t},e.arrayMax=function(e,t){var n=e[0],r,i,s;r=0;for(i=e.length;r<i;r+=1)s=e[r],t?-1===t(n,s)&&(n=s):s>n&&(n=s);return n},e.table=function(t,n,r){var i=[],s=[],o,u,a,f={},l={},c,h,p=[],d,v=[],m;this.lnMod=0,r&&(this.printHeaders=r.printHeaders||!0);if(!t)throw"No data for PDF table";if(void 0===n||null===n)i=this.getKeys(t[0]);else if(n[0]&&"string"!=typeof n[0])for(u=0,a=n.length;u<a;u+=1)o=n[u],i.push(o.name),s.push(o.prompt),l[o.name]=o.width;else i=n;if(r.autoSize)for(m=function(e){return e[o]},u=0,a=i.length;u<a;u+=1){o=i[u],f[o]=t.map(m),p.push(this.getTextDimensions(s[u]||o).w),h=f[o],d=0;for(a=h.length;d<a;d+=1)c=h[d],p.push(this.getTextDimensions(c).w);l[o]=e.arrayMax(p)}if(r.printHeaders){r=this.calculateLineHeight(i,l,s.length?s:i),u=0;for(a=i.length;u<a;u+=1)o=i[u],v.push([13,13,l[o],r,String(s.length?s[u]:o)]);this.setTableHeaderRow(v),this.printHeaderRow(1)}u=0;for(a=t.length;u<a;u+=1)for(s=t[u],r=this.calculateLineHeight(i,l,s),d=0,v=i.length;d<v;d+=1)o=i[d],this.cell(13,13,l[o],r,s[o],u+2,n[d].align);return this},e.calculateLineHeight=function(e,t,n){for(var r,i=0,s=0;s<e.length;s++)r=e[s],n[r]=this.splitTextToSize(String(n[r]),t[r]-3),r=this.internal.getLineHeight()*n[r].length+3,r>i&&(i=r);return i},e.setTableHeaderRow=function(e){this.tableHeaderRow=e},e.printHeaderRow=function(e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var t,n,r;this.printingHeaderRow=!0,void 0!==i&&(n=i(this,o),s={x:n[0],y:n[1],w:n[2],h:n[3],ln:-1}),this.setFontStyle("bold"),n=0;for(r=this.tableHeaderRow.length;n<r;n+=1)this.setFillColor(200,200,200),t=this.tableHeaderRow[n],t=[].concat(t),this.cell.apply(this,t.concat(e));this.setFontStyle("normal"),this.printingHeaderRow=!1}}(jsPDF.API),function(e){e.putTotalPages=function(e){e=RegExp(e,"g");for(var t=1;t<=this.internal.getNumberOfPages();t++)for(var n=0;n<this.internal.pages[t].length;n++)this.internal.pages[t][n]=this.internal.pages[t][n].replace(e,this.internal.getNumberOfPages());return this}}(jsPDF.API);var BlobBuilder=BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},i=n.prototype,s=r.prototype,o=e.FileReaderSync,u=function(e){this.code=this[this.name=e]},a="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),f=a.length,l=e.URL||e.webkitURL||e,c=l.createObjectURL,h=l.revokeObjectURL,p=l,d=e.btoa,v=e.atob,m=!1,g=function(e){m=!e},y=e.ArrayBuffer,b=e.Uint8Array;for(n.fake=s.fake=!0;f--;)u.prototype[a[f]]=f+1;try{b&&g.apply(0,new b(1))}catch(w){}return l.createObjectURL||(p=e.URL={}),p.createObjectURL=function(e){var t=e.type;null===t&&(t="application/octet-stream");if(e instanceof r)return t="data:"+t,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):d?t+";base64,"+d(e.data):t+","+encodeURIComponent(e.data);if(c)return c.call(l,e)},p.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&h&&h.call(l,e)},i.append=function(e){var n=this.data;if(b&&e instanceof y)if(m)n.push(String.fromCharCode.apply(String,new b(e)));else{n="",e=new b(e);for(var i=0,s=e.length;i<s;i++)n+=String.fromCharCode(e[i])}else if("Blob"===t(e)||"File"===t(e)){if(!o)throw new u("NOT_READABLE_ERR");i=new o,n.push(i.readAsBinaryString(e))}else e instanceof r?"base64"===e.encoding&&v?n.push(v(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},i.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},i.toString=function(){return"[object BlobBuilder]"},s.slice=function(e,t,n){var i=arguments.length;return 3>i&&(n=null),new r(this.data.slice(e,1<i?t:this.data.length),n,this.encoding)},s.toString=function(){return"[object Blob]"},n}(self),saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(e){var t=e.document,n=e.URL||e.webkitURL||e,r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,s=function(n){var r=t.createEvent("MouseEvents");return r.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)},o=e.webkitRequestFileSystem,u=e.requestFileSystem||o||e.mozRequestFileSystem,a=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},f=0,l=[],c=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(s){a(s)}}},h=function(t,n){var a=this,h=t.type,p=!1,d,v,m=function(){var n=(e.URL||e.webkitURL||e).createObjectURL(t);return l.push(n),n},y=function(){c(a,["writestart","progress","write","writeend"])},b=function(){if(p||!d)d=m(t);v&&(v.location.href=d),a.readyState=a.DONE,y()},w=function(e){return function(){if(a.readyState!==a.DONE)return e.apply(this,arguments)}},E={create:!0,exclusive:!1},S;a.readyState=a.INIT,n||(n="download");if(i&&(d=m(t),r.href=d,r.download=n,s(r))){a.readyState=a.DONE,y();return}e.chrome&&h&&"application/octet-stream"!==h&&(S=t.slice||t.webkitSlice,t=S.call(t,0,t.size,"application/octet-stream"),p=!0),o&&"download"!==n&&(n+=".download"),v="application/octet-stream"===h||o?e:e.open(),u?(f+=t.size,u(e.TEMPORARY,f,w(function(e){e.root.getDirectory("saved",E,w(function(e){var r=function(){e.getFile(n,E,w(function(e){e.createWriter(w(function(n){n.onwriteend=function(t){v.location.href=e.toURL(),l.push(e),a.readyState=a.DONE,c(a,"writeend",t)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&b()},["writestart","progress","write","abort"].forEach(function(e){n["on"+e]=a["on"+e]}),n.write(t),a.abort=function(){n.abort(),a.readyState=a.DONE},a.readyState=a.WRITING}),b)}),b)};e.getFile(n,{create:!1},w(function(e){e.remove(),r()}),w(function(e){e.code===e.NOT_FOUND_ERR?r():b()}))}),b)}),b)):b()},p=h.prototype;return p.abort=function(){this.readyState=this.DONE,c(this,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,e.addEventListener("unload",function(){for(var e=l.length;e--;){var t=l[e];"string"==typeof t?n.revokeObjectURL(t):t.remove()}l.length=0},!1),function(e,t){return new h(e,t)}}(self),MAX_BITS=15,D_CODES=30,BL_CODES=19,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,HEAP_SIZE=2*L_CODES+1,END_BLOCK=256,MAX_BL_BITS=7,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,Buf_size=16,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_DEFAULT_STRATEGY=0,Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,_dist_code=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];Tree._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],Tree.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],Tree.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],Tree.d_code=function(e){return 256>e?_dist_code[e]:_dist_code[256+(e>>>7)]},Tree.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Tree.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Tree.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Tree.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],StaticTree.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],StaticTree.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],StaticTree.static_l_desc=new StaticTree(StaticTree.static_ltree,Tree.extra_lbits,LITERALS+1,L_CODES,MAX_BITS),StaticTree.static_d_desc=new StaticTree(StaticTree.static_dtree,Tree.extra_dbits,0,D_CODES,MAX_BITS),StaticTree.static_bl_desc=new StaticTree(null,Tree.extra_blbits,0,BL_CODES,MAX_BL_BITS);var MAX_MEM_LEVEL=9,DEF_MEM_LEVEL=8,STORED=0,FAST=1,SLOW=2,config_table=[new Config(0,0,0,0,STORED),new Config(4,4,8,4,FAST),new Config(4,5,16,8,FAST),new Config(4,6,32,32,FAST),new Config(4,4,16,16,SLOW),new Config(8,16,32,32,SLOW),new Config(8,16,128,128,SLOW),new Config(8,32,128,256,SLOW),new Config(32,128,258,1024,SLOW),new Config(32,258,258,4096,SLOW)],z_errmsg="need dictionary;stream end;;;stream error;data error;;buffer error;;".split(";"),NeedMore=0,BlockDone=1,FinishStarted=2,FinishDone=3,PRESET_DICT=32,INIT_STATE=42,BUSY_STATE=113,FINISH_STATE=666,Z_DEFLATED=8,STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1;ZStream.prototype={deflateInit:function(e,t){return this.dstate=new Deflate,t||(t=MAX_BITS),this.dstate.deflateInit(this,e,t)},deflate:function(e){return this.dstate?this.dstate.deflate(this,e):Z_STREAM_ERROR},deflateEnd:function(){if(!this.dstate)return Z_STREAM_ERROR;var e=this.dstate.deflateEnd();return this.dstate=null,e},deflateParams:function(e,t){return this.dstate?this.dstate.deflateParams(this,e,t):Z_STREAM_ERROR},deflateSetDictionary:function(e,t){return this.dstate?this.dstate.deflateSetDictionary(this,e,t):Z_STREAM_ERROR},read_buf:function(e,t,n){var r=this.avail_in;return r>n&&(r=n),0===r?0:(this.avail_in-=r,e.set(this.next_in.subarray(this.next_in_index,this.next_in_index+r),t),this.next_in_index+=r,this.total_in+=r,r)},flush_pending:function(){var e=this.dstate.pending;e>this.avail_out&&(e=this.avail_out),0!==e&&(this.next_out.set(this.dstate.pending_buf.subarray(this.dstate.pending_out,this.dstate.pending_out+e),this.next_out_index),this.next_out_index+=e,this.dstate.pending_out+=e,this.total_out+=e,this.avail_out-=e,this.dstate.pending-=e,0===this.dstate.pending&&(this.dstate.pending_out=0))}},void function(e,t){"object"==typeof module?module.exports=t():"function"==typeof define?define("jspdf",t):e.adler32cs=t()}(this,function(){var e="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,t=null,n=function(){if(!e)return function(){return!1};try{var n=require("buffer");"function"==typeof n.Buffer&&(t=n.Buffer)}catch(r){}return function(e){return e instanceof ArrayBuffer||null!==t&&e instanceof t}}(),r=function(){return null!==t?function(e){return(new t(e,"utf8")).toString("binary")}:function(e){return unescape(encodeURIComponent(e))}}(),i=function(e,t){for(var n=e&65535,r=e>>>16,i=0,s=t.length;i<s;i++)n=(n+(t.charCodeAt(i)&255))%65521,r=(r+n)%65521;return(r<<16|n)>>>0},s=function(e,t){for(var n=e&65535,r=e>>>16,i=0,s=t.length;i<s;i++)n=(n+t[i])%65521,r=(r+n)%65521;return(r<<16|n)>>>0},o={},u=o.Adler32=function(){var t=function(e){if(!(this instanceof t))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(e=null==e?1:+e))throw Error("First arguments needs to be a finite number.");this.checksum=e>>>0},o=t.prototype={};return o.constructor=t,t.from=function(e){return e.prototype=o,e}(function(e){if(!(this instanceof t))throw new TypeError("Constructor cannot called be as a function.");if(null==e)throw Error("First argument needs to be a string.");this.checksum=i(1,e.toString())}),t.fromUtf8=function(e){return e.prototype=o,e}(function(e){if(!(this instanceof t))throw new TypeError("Constructor cannot called be as a function.");if(null==e)throw Error("First argument needs to be a string.");e=r(e.toString()),this.checksum=i(1,e)}),e&&(t.fromBuffer=function(e){return e.prototype=o,e}(function(e){if(this instanceof t){if(!n(e))throw Error("First argument needs to be ArrayBuffer.");return e=new Uint8Array(e),this.checksum=s(1,e)}throw new TypeError("Constructor cannot called be as a function.")})),o.update=function(e){if(null==e)throw Error("First argument needs to be a string.");return e=e.toString(),this.checksum=i(this.checksum,e)},o.updateUtf8=function(e){if(null==e)throw Error("First argument needs to be a string.");return e=r(e.toString()),this.checksum=i(this.checksum,e)},e&&(o.updateBuffer=function(e){if(!n(e))throw Error("First argument needs to be ArrayBuffer.");return e=new Uint8Array(e),this.checksum=s(this.checksum,e)}),o.clone=function(){return new u(this.checksum)},t}();return o.from=function(e){if(null==e)throw Error("First argument needs to be a string.");return i(1,e.toString())},o.fromUtf8=function(e){if(null==e)throw Error("First argument needs to be a string.");return e=r(e.toString()),i(1,e)},e&&(o.fromBuffer=function(e){if(!n(e))throw Error("First argument need to be ArrayBuffer.");return e=new Uint8Array(e),s(1,e)}),o}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var T=x.each=x.forEach=function(e,t,r){if(null!=e)if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;s>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return null==e?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)}),!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}if(T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)}),!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){return t.call(n,e,i,s)?(r=e,!0):void 0}),r},x.filter=x.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return null==e?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){return(i=i&&t.call(r,e,s,o))?void 0:n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return null==e?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){return i||(i=t.call(r,e,s,o))?n:void 0}),!!i)};x.contains=x.include=function(e,t){return null==e?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?null:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;r.computed>o&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(r>n||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=null==n?x.identity:k(n);for(var i=n.call(r,t),s=0,o=e.length;o>s;){var u=s+o>>>1;i>n.call(r,e[u])?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){(t?r&&o[o.length-1]===n:x.contains(o,n))||(o.push(n),s.push(e[r]))}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},x.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=Array(r);r>i;)s[i++]=e,e+=n;return s},x.bind=function(e,t){if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));var n=u.call(arguments,2);return function(){return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return 0===t.length&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,0>=f?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if("[object Array]"==i){if(o=e.length,u=o==t.length)for(;o--&&(u=O(e[o],t[o],n,r)););}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)&&(o++,!(u=x.has(t,c)&&O(e[c],t[c],n,r))))break;if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return O(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&1===e.nodeType},x.isArray=w||function(e){return"[object Array]"==f.call(e)},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),"function"!=typeof /./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=x.invert(M.escape);var _={escape:RegExp("["+x.keys(M.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(M.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(_[e],function(t){return M[e][t]})}}),x.result=function(e,t){if(null==e)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),j.call(this,n.apply(x,e))}})};var D=0;x.uniqueId=function(e){var t=++D+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(B,function(e){return"\\"+H[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var j=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],j.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}.call(this),this.Handlebars={},function(e){e.VERSION="1.0.0-rc.3",e.COMPILER_REVISION=2,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:">= 1.0.0-rc.3"},e.helpers={},e.partials={},e.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},e.registerPartial=function(e,t){this.partials[e]=t},e.registerHelper("helperMissing",function(e){if(arguments.length===2)return undefined;throw new Error("Could not find property '"+e+"'")});var t=Object.prototype.toString,n="[object Function]";e.registerHelper("blockHelperMissing",function(r,i){var s=i.inverse||function(){},o=i.fn,u="",a=t.call(r);return a===n&&(r=r.call(this)),r===!0?o(this):r===!1||r==null?s(this):a==="[object Array]"?r.length>0?e.helpers.each(r,i):s(this):o(r)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,n){if(e.logger.level<=t){var r=e.logger.methodMap[t];typeof console!="undefined"&&console[r]&&console[r].call(console,n)}}},e.log=function(t,n){e.logger.log(t,n)},e.registerHelper("each",function(t,n){var r=n.fn,i=n.inverse,s=0,o="",u;n.data&&(u=e.createFrame(n.data));if(t&&typeof t=="object")if(t instanceof Array)for(var a=t.length;s<a;s++)u&&(u.index=s),o+=r(t[s],{data:u});else for(var f in t)t.hasOwnProperty(f)&&(u&&(u.key=f),o+=r(t[f],{data:u}),s++);return s===0&&(o=i(this)),o}),e.registerHelper("if",function(r,i){var s=t.call(r);return s===n&&(r=r.call(this)),!r||e.Utils.isEmpty(r)?i.inverse(this):i.fn(this)}),e.registerHelper("unless",function(t,n){var r=n.fn,i=n.inverse;return n.fn=i,n.inverse=r,e.helpers["if"].call(this,t,n)}),e.registerHelper("with",function(e,t){return t.fn(e)}),e.registerHelper("log",function(t,n){var r=n.data&&n.data.level!=null?parseInt(n.data.level,10):1;e.log(r,t)})}(this.Handlebars);var handlebars=function(){function n(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,partialName:25,params:26,hash:27,DATA:28,param:29,STRING:30,INTEGER:31,BOOLEAN:32,hashSegments:33,hashSegment:34,ID:35,EQUALS:36,PARTIAL_NAME:37,pathSegments:38,SEP:39,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"DATA",30:"STRING",31:"INTEGER",32:"BOOLEAN",35:"ID",36:"EQUALS",37:"PARTIAL_NAME",39:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[26,2],[26,1],[29,1],[29,1],[29,1],[29,1],[29,1],[27,1],[33,2],[33,1],[34,3],[34,3],[34,3],[34,3],[34,3],[25,1],[21,1],[38,3],[38,1]],performAction:function(t,n,r,i,s,o,u){var a=o.length-1;switch(s){case 1:return o[a-1];case 2:this.$=new i.ProgramNode([],o[a]);break;case 3:this.$=new i.ProgramNode(o[a-2],o[a]);break;case 4:this.$=new i.ProgramNode(o[a-1],[]);break;case 5:this.$=new i.ProgramNode(o[a]);break;case 6:this.$=new i.ProgramNode([],[]);break;case 7:this.$=new i.ProgramNode([]);break;case 8:this.$=[o[a]];break;case 9:o[a-1].push(o[a]),this.$=o[a-1];break;case 10:this.$=new i.BlockNode(o[a-2],o[a-1].inverse,o[a-1],o[a]);break;case 11:this.$=new i.BlockNode(o[a-2],o[a-1],o[a-1].inverse,o[a]);break;case 12:this.$=o[a];break;case 13:this.$=o[a];break;case 14:this.$=new i.ContentNode(o[a]);break;case 15:this.$=new i.CommentNode(o[a]);break;case 16:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1]);break;case 17:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1]);break;case 18:this.$=o[a-1];break;case 19:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1]);break;case 20:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1],!0);break;case 21:this.$=new i.PartialNode(o[a-1]);break;case 22:this.$=new i.PartialNode(o[a-2],o[a-1]);break;case 23:break;case 24:this.$=[[o[a-2]].concat(o[a-1]),o[a]];break;case 25:this.$=[[o[a-1]].concat(o[a]),null];break;case 26:this.$=[[o[a-1]],o[a]];break;case 27:this.$=[[o[a]],null];break;case 28:this.$=[[new i.DataNode(o[a])],null];break;case 29:o[a-1].push(o[a]),this.$=o[a-1];break;case 30:this.$=[o[a]];break;case 31:this.$=o[a];break;case 32:this.$=new i.StringNode(o[a]);break;case 33:this.$=new i.IntegerNode(o[a]);break;case 34:this.$=new i.BooleanNode(o[a]);break;case 35:this.$=new i.DataNode(o[a]);break;case 36:this.$=new i.HashNode(o[a]);break;case 37:o[a-1].push(o[a]),this.$=o[a-1];break;case 38:this.$=[o[a]];break;case 39:this.$=[o[a-2],o[a]];break;case 40:this.$=[o[a-2],new i.StringNode(o[a])];break;case 41:this.$=[o[a-2],new i.IntegerNode(o[a])];break;case 42:this.$=[o[a-2],new i.BooleanNode(o[a])];break;case 43:this.$=[o[a-2],new i.DataNode(o[a])];break;case 44:this.$=new i.PartialNameNode(o[a]);break;case 45:this.$=new i.IdNode(o[a]);break;case 46:o[a-2].push(o[a]),this.$=o[a-2];break;case 47:this.$=[o[a]]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],24:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],24:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],24:[1,16]},{17:23,18:[1,22],21:24,28:[1,25],35:[1,27],38:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{4:28,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{17:30,21:24,28:[1,25],35:[1,27],38:26},{17:31,21:24,28:[1,25],35:[1,27],38:26},{17:32,21:24,28:[1,25],35:[1,27],38:26},{25:33,37:[1,34]},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],24:[1,16]},{17:23,21:24,28:[1,25],35:[1,27],38:26},{5:[2,4],7:35,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],24:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],24:[2,23]},{18:[1,36]},{18:[2,27],21:41,26:37,27:38,28:[1,45],29:39,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,28]},{18:[2,45],28:[2,45],30:[2,45],31:[2,45],32:[2,45],35:[2,45],39:[1,48]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],39:[2,47]},{10:49,20:[1,50]},{10:51,20:[1,50]},{18:[1,52]},{18:[1,53]},{18:[1,54]},{18:[1,55],21:56,35:[1,27],38:26},{18:[2,44],35:[2,44]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],24:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{18:[2,25],21:41,27:57,28:[1,45],29:58,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,26]},{18:[2,30],28:[2,30],30:[2,30],31:[2,30],32:[2,30],35:[2,30]},{18:[2,36],34:59,35:[1,60]},{18:[2,31],28:[2,31],30:[2,31],31:[2,31],32:[2,31],35:[2,31]},{18:[2,32],28:[2,32],30:[2,32],31:[2,32],32:[2,32],35:[2,32]},{18:[2,33],28:[2,33],30:[2,33],31:[2,33],32:[2,33],35:[2,33]},{18:[2,34],28:[2,34],30:[2,34],31:[2,34],32:[2,34],35:[2,34]},{18:[2,35],28:[2,35],30:[2,35],31:[2,35],32:[2,35],35:[2,35]},{18:[2,38],35:[2,38]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],36:[1,61],39:[2,47]},{35:[1,62]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{21:63,35:[1,27],38:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],24:[2,21]},{18:[1,64]},{18:[2,24]},{18:[2,29],28:[2,29],30:[2,29],31:[2,29],32:[2,29],35:[2,29]},{18:[2,37],35:[2,37]},{36:[1,61]},{21:65,28:[1,69],30:[1,66],31:[1,67],32:[1,68],35:[1,27],38:26},{18:[2,46],28:[2,46],30:[2,46],31:[2,46],32:[2,46],35:[2,46],39:[2,46]},{18:[1,70]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],24:[2,22]},{18:[2,39],35:[2,39]},{18:[2,40],35:[2,40]},{18:[2,41],35:[2,41]},{18:[2,42],35:[2,42]},{18:[2,43],35:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]}],defaultActions:{17:[2,1],25:[2,28],38:[2,26],57:[2,24]},parseError:function(t,n){throw new Error(t)},parse:function(t){function v(e){r.length=r.length-2*e,i.length=i.length-e,s.length=s.length-e}function m(){var e;return e=n.lexer.lex()||1,typeof e!="number"&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],s=[],o=this.table,u="",a=0,f=0,l=0,c=2,h=1;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var p=this.lexer.yylloc;s.push(p);var d=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var g,y,b,w,E,S,x={},T,N,C,k;for(;;){b=r[r.length-1];if(this.defaultActions[b])w=this.defaultActions[b];else{if(g===null||typeof g=="undefined")g=m();w=o[b]&&o[b][g]}if(typeof w=="undefined"||!w.length||!w[0]){var L="";if(!l){k=[];for(T in o[b])this.terminals_[T]&&T>2&&k.push("'"+this.terminals_[T]+"'");this.lexer.showPosition?L="Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[g]||g)+"'":L="Parse error on line "+(a+1)+": Unexpected "+(g==1?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(L,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:p,expected:k})}}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+g);switch(w[0]){case 1:r.push(g),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(w[1]),g=null,y?(g=y,y=null):(f=this.lexer.yyleng,u=this.lexer.yytext,a=this.lexer.yylineno,p=this.lexer.yylloc,l>0&&l--);break;case 2:N=this.productions_[w[1]][1],x.$=i[i.length-N],x._$={first_line:s[s.length-(N||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(N||1)].first_column,last_column:s[s.length-1].last_column},d&&(x._$.range=[s[s.length-(N||1)].range[0],s[s.length-1].range[1]]),S=this.performAction.call(x,u,f,a,this.yy,w[1],i,s);if(typeof S!="undefined")return S;N&&(r=r.slice(0,-1*N*2),i=i.slice(0,-1*N),s=s.slice(0,-1*N)),r.push(this.productions_[w[1]][0]),i.push(x.$),s.push(x._$),C=o[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(t,n){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,n)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=(new Array(e.length+1)).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r,i,s;this._more||(this.yytext="",this.match="");var o=this._currentRules();for(var u=0;u<o.length;u++){n=this._input.match(this.rules[o[u]]);if(n&&(!t||n[0].length>t[0].length)){t=n,r=u;if(!this.options.flex)break}}if(t){s=t[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1);if(e)return e;return}return this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return typeof t!="undefined"?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return e.options={},e.performAction=function(t,n,r,i){var s=i;switch(r){case 0:n.yytext.slice(-1)!=="\\"&&this.begin("mu"),n.yytext.slice(-1)==="\\"&&(n.yytext=n.yytext.substr(0,n.yyleng-1),this.begin("emu"));if(n.yytext)return 14;break;case 1:return 14;case 2:return n.yytext.slice(-1)!=="\\"&&this.popState(),n.yytext.slice(-1)==="\\"&&(n.yytext=n.yytext.substr(0,n.yyleng-1)),14;case 3:return n.yytext=n.yytext.substr(0,n.yyleng-4),this.popState(),15;case 4:return this.begin("par"),24;case 5:return 16;case 6:return 20;case 7:return 19;case 8:return 19;case 9:return 23;case 10:return 23;case 11:this.popState(),this.begin("com");break;case 12:return n.yytext=n.yytext.substr(3,n.yyleng-5),this.popState(),15;case 13:return 22;case 14:return 36;case 15:return 35;case 16:return 35;case 17:return 39;case 18:break;case 19:return this.popState(),18;case 20:return this.popState(),18;case 21:return n.yytext=n.yytext.substr(1,n.yyleng-2).replace(/\\"/g,'"'),30;case 22:return n.yytext=n.yytext.substr(1,n.yyleng-2).replace(/\\'/g,"'"),30;case 23:return n.yytext=n.yytext.substr(1),28;case 24:return 32;case 25:return 32;case 26:return 31;case 27:return 35;case 28:return n.yytext=n.yytext.substr(1,n.yyleng-2),35;case 29:return"INVALID";case 30:break;case 31:return this.popState(),37;case 32:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[} ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:\s+)/,/^(?:[a-zA-Z0-9_$-/]+)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},par:{rules:[30,31],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},e}();return e.lexer=t,n.prototype=e,e.Parser=n,new n}();Handlebars.Parser=handlebars,Handlebars.parse=function(e){return e.constructor===Handlebars.AST.ProgramNode?e:(Handlebars.Parser.yy=Handlebars.AST,Handlebars.Parser.parse(e))},Handlebars.print=function(e){return(new Handlebars.PrintVisitor).accept(e)},function(){Handlebars.AST={},Handlebars.AST.ProgramNode=function(e,t){this.type="program",this.statements=e,t&&(this.inverse=new Handlebars.AST.ProgramNode(t))},Handlebars.AST.MustacheNode=function(e,t,n){this.type="mustache",this.escaped=!n,this.hash=t;var r=this.id=e[0],i=this.params=e.slice(1),s=this.eligibleHelper=r.isSimple;this.isHelper=s&&(i.length||t)},Handlebars.AST.PartialNode=function(e,t){this.type="partial",this.partialName=e,this.context=t};var e=function(e,t){if(e.original!==t.original)throw new Handlebars.Exception(e.original+" doesn't match "+t.original)};Handlebars.AST.BlockNode=function(t,n,r,i){e(t.id,i),this.type="block",this.mustache=t,this.program=n,this.inverse=r,this.inverse&&!this.program&&(this.isInverse=!0)},Handlebars.AST.ContentNode=function(e){this.type="content",this.string=e},Handlebars.AST.HashNode=function(e){this.type="hash",this.pairs=e},Handlebars.AST.IdNode=function(e){this.type="ID",this.original=e.join(".");var t=[],n=0;for(var r=0,i=e.length;r<i;r++){var s=e[r];if(s===".."||s==="."||s==="this"){if(t.length>0)throw new Handlebars.Exception("Invalid path: "+this.original);s===".."?n++:this.isScoped=!0}else t.push(s)}this.parts=t,this.string=t.join("."),this.depth=n,this.isSimple=e.length===1&&!this.isScoped&&n===0,this.stringModeValue=this.string},Handlebars.AST.PartialNameNode=function(e){this.type="PARTIAL_NAME",this.name=e},Handlebars.AST.DataNode=function(e){this.type="DATA",this.id=e},Handlebars.AST.StringNode=function(e){this.type="STRING",this.string=e,this.stringModeValue=e},Handlebars.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e,this.stringModeValue=Number(e)},Handlebars.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e,this.stringModeValue=e==="true"},Handlebars.AST.CommentNode=function(e){this.type="comment",this.comment=e}}();var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Handlebars.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var n=0;n<errorProps.length;n++)this[errorProps[n]]=t[errorProps[n]]},Handlebars.Exception.prototype=new Error,Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return this.string.toString()},function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/[&<>"'`]/g,n=/[&<>"'`]/,r=function(t){return e[t]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){return e instanceof Handlebars.SafeString?e.toString():e==null||e===!1?"":n.test(e)?e.replace(t,r):e},isEmpty:function(e){return!e&&e!==0?!0:Object.prototype.toString.call(e)==="[object Array]"&&e.length===0?!0:!1}}}(),Handlebars.Compiler=function(){},Handlebars.JavaScriptCompiler=function(){},function(e,t){e.prototype={compiler:e,disassemble:function(){var e=this.opcodes,t,n=[],r,i;for(var s=0,o=e.length;s<o;s++){t=e[s];if(t.opcode==="DECLARE")n.push("DECLARE "+t.name+"="+t.value);else{r=[];for(var u=0;u<t.args.length;u++)i=t.args[u],typeof i=="string"&&(i='"'+i.replace("\n","\\n")+'"'),r.push(i);n.push(t.opcode+" "+r.join(" "))}}return n.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var r=this.opcodes[n],i=e.opcodes[n];if(r.opcode!==i.opcode||r.args.length!==i.args.length)return!1;for(var s=0;s<r.args.length;s++)if(r.args[s]!==i.args[s])return!1}return!0},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(n)for(var r in n)this.options.knownHelpers[r]=n[r];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t=e.statements,n;this.opcodes=[];for(var r=0,i=t.length;r<i;r++)n=t[r],this[n.type](n);return this.isSimple=i===1,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++,r;this.usePartial=this.usePartial||t.usePartial,this.children[n]=t;for(var i=0,s=t.depths.list.length;i<s;i++){r=t.depths.list[i];if(r<2)continue;this.addDepth(r-1)}return n},block:function(e){var t=e.mustache,n=e.program,r=e.inverse;n&&(n=this.compileProgram(n)),r&&(r=this.compileProgram(r));var i=this.classifyMustache(t);i==="helper"?this.helperMustache(t,n,r):i==="simple"?(this.simpleMustache(t),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(t,n,r),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t=e.pairs,n,r;this.opcode("pushHash");for(var i=0,s=t.length;i<s;i++)n=t[i],r=n[1],this.options.stringParams?this.opcode("pushStringParam",r.stringModeValue,r.type):this.accept(r),this.opcode("assignToHash",n[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,n=this.classifyMustache(e);n==="simple"?this.simpleMustache(e):n==="helper"?this.helperMustache(e):this.ambiguousMustache(e),e.escaped&&!t.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(e,t,n){var r=e.id,i=r.parts[0],s=t!=null||n!=null;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",i,s)},simpleMustache:function(e){var t=e.id;t.type==="DATA"?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,n){var r=this.setupFullMustacheParams(e,t,n),i=e.id.parts[0];if(this.options.knownHelpers[i])this.opcode("invokeKnownHelper",r.length,i);else{if(this.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+i);this.opcode("invokeHelper",r.length,i)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,r=e.parts.length;n<r;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){this.options.data=!0,this.opcode("lookupData",e.id)},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw new Error("EWOT");if(e===0)return;this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e))},classifyMustache:function(e){var t=e.isHelper,n=e.eligibleHelper,r=this.options;if(n&&!t){var i=e.id.parts[0];r.knownHelpers[i]?t=!0:r.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){var t=e.length,n;while(t--)n=e[t],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type)):this[n.type](n)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("emptyHash"),t},setupFullMustacheParams:function(e,t,n){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),r}};var n=function(e){this.value=e};t.prototype={nameLookup:function(e,n){return/^[0-9]+$/.test(n)?e+"["+n+"]":t.isValidJavaScriptVariableName(n)?e+"."+n:e+"['"+n+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,r){this.environment=e,this.options=t||{},Handlebars.log(Handlebars.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t);var i=e.opcodes,s;this.i=0;for(o=i.length;this.i<o;this.i++)s=i[this.i],s.opcode==="DECLARE"?this[s.name]=s.value:this[s.opcode].apply(this,s.args);return this.createFunctionContext(r)},nextOpcode:function(){var e=this.environment.opcodes;return e[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var e=[];if(!this.isChild){var t=this.namespace,n="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(n=n+" partials = partials || "+t+".partials;"),this.options.data&&(n+=" data = data || {};"),e.push(n)}else e.push("");this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", "));if(!this.isChild)for(var n in this.context.aliases)this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");var r=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var i=0,s=this.environment.depths.list.length;i<s;i++)r.push("depth"+this.environment.depths.list[i]);var o=this.mergeSource();if(!this.isChild){var u=Handlebars.COMPILER_REVISION,a=Handlebars.REVISION_CHANGES[u];o="this.compilerInfo = ["+u+",'"+a+"'];\n"+o}if(e)return r.push(o),Function.apply(this,r);var f="function "+(this.name||"")+"("+r.join(",")+") {\n  "+o+"}";return Handlebars.log(Handlebars.logger.DEBUG,f+"\n\n"),f},mergeSource:function(){var e="",t;for(var n=0,r=this.source.length;n<r;n++){var i=this.source[n];i.appendToBuffer?t?t=t+"\n    + "+i.content:t=i.content:(t&&(e+="buffer += "+t+";\n  ",t=undefined),e+=i+"\n  ")}return e},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),e[e.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){this.flushInline();var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(e){this.push(this.nameLookup("data",e,"data"))},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),typeof e=="string"?this.pushString(e):this.pushStackLiteral(e)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&this.register("hashTypes","{}")},pushHash:function(){this.hash={values:[],types:[]}},popHash:function(){var e=this.hash;this.hash=undefined,this.options.stringParams&&this.register("hashTypes","{"+e.types.join(",")+"}"),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){e!=null?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var n=this.lastHelper=this.setupHelper(e,t,!0);this.push(n.name),this.replaceStack(function(e){return e+" ? "+e+".call("+n.callParams+") "+": helperMissing.call("+n.helperMissingParams+")"})},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var n=this.setupHelper(0,e,t),r=this.lastHelper=this.nameLookup("helpers",e,"helper"),i=this.nameLookup("depth"+this.lastContext,e,"context"),s=this.nextStack();this.source.push("if ("+s+" = "+r+") { "+s+" = "+s+".call("+n.callParams+"); }"),this.source.push("else { "+s+" = "+i+"; "+s+" = typeof "+s+" === functionType ? "+s+".apply(depth0) : "+s+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t=this.popStack(),n;this.options.stringParams&&(n=this.popStack(),this.popStack());var r=this.hash;n&&r.types.push("'"+e+"': "+n),r.values.push("'"+e+"': ("+t+")")},compiler:t,compileChildren:function(e,t){var n=e.children,r,i;for(var s=0,o=n.length;s<o;s++){r=n[s],i=new this.compiler;var u=this.matchExistingProgram(r);u==null?(this.context.programs.push(""),u=this.context.programs.length,r.index=u,r.name="program"+u,this.context.programs[u]=i.compile(r,t,this.context),this.context.environments[u]=r):(r.index=u,r.name="program"+u)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var r=this.context.environments[t];if(r&&r.equals(e))return t}},programExpression:function(e){this.context.aliases.self="this";if(e==null)return"self.noop";var t=this.environment.children[e],n=t.depths.list,r,i=[t.index,t.name,"data"];for(var s=0,o=n.length;s<o;s++)r=n[s],r===1?i.push("depth0"):i.push("depth"+(r-1));return n.length===0?"self.program("+i.join(", ")+")":(i.shift(),"self.programWithDepth("+i.join(", ")+")")},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new n(e))},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.source.push(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t="",r=this.isInline(),i;if(r){var s=this.popStack(!0);if(s instanceof n)i=s.value;else{var o=this.stackSlot?this.topStackName():this.incrStack();t="("+this.push(o)+" = "+s+"),",i=this.topStack()}}else i=this.topStack();var u=e.call(this,i);return r?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+t+u+")")):(/^stack/.test(i)||(i=this.nextStack()),this.source.push(i+" = ("+t+u+");")),i},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,r=e.length;t<r;t++){var i=e[t];i instanceof n?this.compileStack.push(i):this.pushStack(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),r=(t?this.inlineStack:this.compileStack).pop();return!e&&r instanceof n?r.value:(t||this.stackSlot--,r)},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,r=t[t.length-1];return!e&&r instanceof n?r.value:r},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'},setupHelper:function(e,t,n){var r=[];this.setupParams(e,r,n);var i=this.nameLookup("helpers",t,"helper");return{params:r,name:i,callParams:["depth0"].concat(r).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(r).join(", ")}},setupParams:function(e,t,n){var r=[],i=[],s=[],o,u,a;r.push("hash:"+this.popStack()),u=this.popStack(),a=this.popStack();if(a||u)a||(this.context.aliases.self="this",a="self.noop"),u||(this.context.aliases.self="this",u="self.noop"),r.push("inverse:"+u),r.push("fn:"+a);for(var f=0;f<e;f++)o=this.popStack(),t.push(o),this.options.stringParams&&(s.push(this.popStack()),i.push(this.popStack()));return this.options.stringParams&&(r.push("contexts:["+i.join(",")+"]"),r.push("types:["+s.join(",")+"]"),r.push("hashTypes:hashTypes")),this.options.data&&r.push("data:data"),r="{"+r.join(",")+"}",n?(this.register("options",r),t.push("options")):t.push(r),t.join(", ")}};var r="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),i=t.RESERVED_WORDS={};for(var s=0,o=r.length;s<o;s++)i[r[s]]=!0;t.isValidJavaScriptVariableName=function(e){return!t.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1}}(Handlebars.Compiler,Handlebars.JavaScriptCompiler),Handlebars.precompile=function(e,t){if(!e||typeof e!="string"&&e.constructor!==Handlebars.AST.ProgramNode)throw new Handlebars.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var n=Handlebars.parse(e),r=(new Handlebars.Compiler).compile(n,t);return(new Handlebars.JavaScriptCompiler).compile(r,t)},Handlebars.compile=function(e,t){function r(){var n=Handlebars.parse(e),r=(new Handlebars.Compiler).compile(n,t),i=(new Handlebars.JavaScriptCompiler).compile(r,t,undefined,!0);return Handlebars.template(i)}if(!e||typeof e!="string"&&e.constructor!==Handlebars.AST.ProgramNode)throw new Handlebars.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var n;return function(e,t){return n||(n=r()),n.call(this,e,t)}},Handlebars.VM={template:function(e){var t={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(e,t,n){var r=this.programs[e];return n?Handlebars.VM.program(t,n):r?r:(r=this.programs[e]=Handlebars.VM.program(t),r)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop,compilerInfo:null};return function(n,r){r=r||{};var i=e.call(t,Handlebars,n,r.helpers,r.partials,r.data),s=t.compilerInfo||[],o=s[0]||1,u=Handlebars.COMPILER_REVISION;if(o!==u){if(o<u){var a=Handlebars.REVISION_CHANGES[u],f=Handlebars.REVISION_CHANGES[o];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+a+") or downgrade your runtime to an older version ("+f+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+s[1]+")."}return i}},programWithDepth:function(e,t,n){var r=Array.prototype.slice.call(arguments,2);return function(n,i){return i=i||{},e.apply(this,[n,i.data||t].concat(r))}},program:function(e,t){return function(n,r){return r=r||{},e(n,r.data||t)}},noop:function(){return""},invokePartial:function(e,t,n,r,i,s){var o={helpers:r,partials:i,data:s};if(e===undefined)throw new Handlebars.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(n,o);if(!Handlebars.compile)throw new Handlebars.Exception("The partial "+t+" could not be compiled when running in runtime-only mode");return i[t]=Handlebars.compile(e,{data:s!==undefined}),i[t](n,o)}},Handlebars.template=Handlebars.VM.template,define("handlebars",function(e){return function(){var t,n;return t||e.Handlebars}}(this)),function(e){function t(e,t){return function(n){return a(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function r(){}function i(e){o(this,e)}function s(e){var t=e.years||e.year||e.y||0,n=e.months||e.month||e.M||0,r=e.weeks||e.week||e.w||0,i=e.days||e.day||e.d||0,s=e.hours||e.hour||e.h||0,o=e.minutes||e.minute||e.m||0,u=e.seconds||e.second||e.s||0,a=e.milliseconds||e.millisecond||e.ms||0;this._input=e,this._milliseconds=+a+1e3*u+6e4*o+36e5*s,this._days=+i+7*r,this._months=+n+12*t,this._data={},this._bubble()}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function u(e){return 0>e?Math.ceil(e):Math.floor(e)}function a(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function f(e,t,n,r){var i,s,o=t._milliseconds,u=t._days,a=t._months;o&&e._d.setTime(+e._d+o*n),(u||a)&&(i=e.minute(),s=e.hour()),u&&e.date(e.date()+u*n),a&&e.month(e.month()+a*n),o&&!r&&j.updateOffset(e),(u||a)&&(e.minute(i),e.hour(s))}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e,t){var n,r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0;for(n=0;r>n;n++)~~e[n]!==~~t[n]&&s++;return s+i}function h(e){return e?at[e]||e.toLowerCase().replace(/(.)s$/,"$1"):e}function p(e,t){return t.abbr=e,R[e]||(R[e]=new r),R[e].set(t),R[e]}function d(e){delete R[e]}function v(e){if(!e)return j.fn._lang;if(!R[e]&&U)try{require("./lang/"+e)}catch(t){return j.fn._lang}return R[e]||j.fn._lang}function m(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function g(e){var t,n,r=e.match(X);for(t=0,n=r.length;n>t;t++)r[t]=ht[r[t]]?ht[r[t]]:m(r[t]);return function(i){var s="";for(t=0;n>t;t++)s+=r[t]instanceof Function?r[t].call(i,e):r[t];return s}}function y(e,t){return t=b(t,e.lang()),ft[t]||(ft[t]=g(t)),ft[t](e)}function b(e,t){function n(e){return t.longDateFormat(e)||e}for(var r=5;r--&&(V.lastIndex=0,V.test(e));)e=e.replace(V,n);return e}function w(e,t){switch(e){case"DDDD":return K;case"YYYY":return Q;case"YYYYY":return G;case"S":case"SS":case"SSS":case"DDD":return J;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Y;case"a":case"A":return v(t._l)._meridiemParse;case"X":return tt;case"Z":case"ZZ":return Z;case"T":return et;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return $;default:return new RegExp(e.replace("\\",""))}}function E(e){var t=(Z.exec(e)||[])[0],n=(t+"").match(st)||["-",0,0],r=+(60*n[1])+~~n[2];return"+"===n[0]?-r:r}function S(e,t,n){var r,i=n._a;switch(e){case"M":case"MM":null!=t&&(i[1]=~~t-1);break;case"MMM":case"MMMM":r=v(n._l).monthsParse(t),null!=r?i[1]=r:n._isValid=!1;break;case"D":case"DD":null!=t&&(i[2]=~~t);break;case"DDD":case"DDDD":null!=t&&(i[1]=0,i[2]=~~t);break;case"YY":i[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":i[0]=~~t;break;case"a":case"A":n._isPm=v(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[3]=~~t;break;case"m":case"mm":i[4]=~~t;break;case"s":case"ss":i[5]=~~t;break;case"S":case"SS":case"SSS":i[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=E(t)}null==t&&(n._isValid=!1)}function x(e){var t,n,r,i=[];if(!e._d){for(r=N(e),t=0;3>t&&null==e._a[t];++t)e._a[t]=i[t]=r[t];for(;7>t;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];i[3]+=~~((e._tzm||0)/60),i[4]+=~~((e._tzm||0)%60),n=new Date(0),e._useUTC?(n.setUTCFullYear(i[0],i[1],i[2]),n.setUTCHours(i[3],i[4],i[5],i[6])):(n.setFullYear(i[0],i[1],i[2]),n.setHours(i[3],i[4],i[5],i[6])),e._d=n}}function T(e){var t=e._i;e._d||(e._a=[t.years||t.year||t.y,t.months||t.month||t.M,t.days||t.day||t.d,t.hours||t.hour||t.h,t.minutes||t.minute||t.m,t.seconds||t.second||t.s,t.milliseconds||t.millisecond||t.ms],x(e))}function N(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function C(e){var t,n,r,i=v(e._l),s=""+e._i;for(r=b(e._f,i).match(X),e._a=[],t=0;t<r.length;t++)n=(w(r[t],e).exec(s)||[])[0],n&&(s=s.slice(s.indexOf(n)+n.length)),ht[r[t]]&&S(r[t],n,e);s&&(e._il=s),e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&12===e._a[3]&&(e._a[3]=0),x(e)}function k(e){var t,n,r,s,u,a=99;for(s=0;s<e._f.length;s++)t=o({},e),t._f=e._f[s],C(t),n=new i(t),u=c(t._a,n.toArray()),n._il&&(u+=n._il.length),a>u&&(a=u,r=n);o(e,r)}function L(e){var t,n=e._i,r=nt.exec(n);if(r){for(e._f="YYYY-MM-DD"+(r[2]||" "),t=0;4>t;t++)if(it[t][1].exec(n)){e._f+=it[t][0];break}Z.exec(n)&&(e._f+=" Z"),C(e)}else e._d=new Date(n)}function A(t){var n=t._i,r=z.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?L(t):l(n)?(t._a=n.slice(0),x(t)):n instanceof Date?t._d=new Date(+n):"object"==typeof n?T(t):t._d=new Date(n)}function O(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function M(e,t,n){var r=q(Math.abs(e)/1e3),i=q(r/60),s=q(i/60),o=q(s/24),u=q(o/365),a=45>r&&["s",r]||1===i&&["m"]||45>i&&["mm",i]||1===s&&["h"]||22>s&&["hh",s]||1===o&&["d"]||25>=o&&["dd",o]||45>=o&&["M"]||345>o&&["MM",q(o/30)]||1===u&&["y"]||["yy",u];return a[2]=t,a[3]=e>0,a[4]=n,O.apply({},a)}function _(e,t,n){var r,i=n-t,s=n-e.day();return s>i&&(s-=7),i-7>s&&(s+=7),r=j(e).add("d",s),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function D(e){var t=e._i,n=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=v().preparse(t)),j.isMoment(t)?(e=o({},t),e._d=new Date(+t._d)):n?l(n)?k(e):C(e):A(e),new i(e))}function P(e,t){j.fn[e]=j.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),j.updateOffset(this),this):this._d["get"+n+t]()}}function H(e){j.duration.fn[e]=function(){return this._data[e]}}function B(e,t){j.duration.fn["as"+e]=function(){return+this/t}}for(var j,F,I="2.2.1",q=Math.round,R={},U="undefined"!=typeof module&&module.exports,z=/^\/?Date\((\-?\d+)/i,W=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,X=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,$=/\d\d?/,J=/\d{1,3}/,K=/\d{3}/,Q=/\d{1,4}/,G=/[+\-]?\d{1,6}/,Y=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Z=/Z|[\+\-]\d\d:?\d\d/i,et=/T/i,tt=/[\+\-]?\d+(\.\d{1,3})?/,nt=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,rt="YYYY-MM-DDTHH:mm:ssZ",it=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],st=/([\+\-]|\d\d)/gi,ot="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ut={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},at={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},ft={},lt="DDD w W M D d".split(" "),ct="M D H h m s w W".split(" "),ht={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return a(this.year()%100,2)},YYYY:function(){return a(this.year(),4)},YYYYY:function(){return a(this.year(),5)},gg:function(){return a(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return a(this.weekYear(),5)},GG:function(){return a(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return a(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return a(~~(this.milliseconds()/10),2)},SSS:function(){return a(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+a(~~(e/60),2)+":"+a(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+a(~~(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};lt.length;)F=lt.pop(),ht[F+"o"]=n(ht[F],F);for(;ct.length;)F=ct.pop(),ht[F+F]=t(ht[F],2);for(ht.DDDD=t(ht.DDD,3),o(r.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=j.utc([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=j([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return _(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}}),j=function(e,t,n){return D({_i:e,_f:t,_l:n,_isUTC:!1})},j.utc=function(e,t,n){return D({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t}).utc()},j.unix=function(e){return j(1e3*e)},j.duration=function(e,t){var n,r,i=j.isDuration(e),o="number"==typeof e,u=i?e._input:o?{}:e,a=W.exec(e);return o?t?u[t]=e:u.milliseconds=e:a&&(n="-"===a[1]?-1:1,u={y:0,d:~~a[2]*n,h:~~a[3]*n,m:~~a[4]*n,s:~~a[5]*n,ms:~~a[6]*n}),r=new s(u),i&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},j.version=I,j.defaultFormat=rt,j.updateOffset=function(){},j.lang=function(e,t){return e?(e=e.toLowerCase(),e=e.replace("_","-"),t?p(e,t):null===t?(d(e),e="en"):R[e]||v(e),j.duration.fn._lang=j.fn._lang=v(e),void 0):j.fn._lang._abbr},j.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),v(e)},j.isMoment=function(e){return e instanceof i},j.isDuration=function(e){return e instanceof s},o(j.fn=i.prototype,{clone:function(){return j(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return y(j(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!c(this._a,(this._isUTC?j.utc(this._a):j(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},invalidAt:function(){var e,t=this._a,n=(this._isUTC?j.utc(this._a):j(this._a)).toArray();for(e=6;e>=0&&t[e]===n[e];--e);return e},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=y(this,e||j.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?j.duration(+t,e):j.duration(e,t),f(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?j.duration(+t,e):j.duration(e,t),f(this,n,-1),this},diff:function(e,t,n){var r,i,s=this._isUTC?j(e).zone(this._offset||0):j(e).local(),o=6e4*(this.zone()-s.zone());return t=h(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+s.daysInMonth()),i=12*(this.year()-s.year())+(this.month()-s.month()),i+=(this-j(this).startOf("month")-(s-j(s).startOf("month")))/r,i-=6e4*(this.zone()-j(this).startOf("month").zone()-(s.zone()-j(s).startOf("month").zone()))/r,"year"===t&&(i/=12)):(r=this-s,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?i:u(i)},from:function(e,t){return j.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(j(),e)},calendar:function(){var e=this.diff(j().zone(this.zone()).startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){var e=this.year();return 0===e%4&&0!==e%100||0===e%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?"string"==typeof e&&(e=this.lang().weekdaysParse(e),"number"!=typeof e)?this:this.add({d:e-t}):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),j.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=h(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoweek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=h(e),this.startOf(e).add("isoweek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+j(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+j(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+j(e).startOf(t)},min:function(e){return e=j.apply(null,arguments),this>e?this:e},max:function(e){return e=j.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=E(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&f(this,j.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},hasAlignedHourOffset:function(e){return e=e?j(e).zone():0,0===(this.zone()-e)%60},daysInMonth:function(){return j.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=q((j(this).startOf("day")-j(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=_(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=_(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=_(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=h(e),this[e.toLowerCase()]()},set:function(e,t){e=h(e),this[e.toLowerCase()](t)},lang:function(t){return t===e?this._lang:(this._lang=v(t),this)}}),F=0;F<ot.length;F++)P(ot[F].toLowerCase().replace(/s$/,""),ot[F]);P("year","FullYear"),j.fn.days=j.fn.day,j.fn.months=j.fn.month,j.fn.weeks=j.fn.week,j.fn.isoWeeks=j.fn.isoWeek,j.fn.toJSON=j.fn.toISOString,o(j.duration.fn=s.prototype,{_bubble:function(){var e,t,n,r,i=this._milliseconds,s=this._days,o=this._months,a=this._data;a.milliseconds=i%1e3,e=u(i/1e3),a.seconds=e%60,t=u(e/60),a.minutes=t%60,n=u(t/60),a.hours=n%24,s+=u(n/24),a.days=s%30,o+=u(s/30),a.months=o%12,r=u(o/12),a.years=r},weeks:function(){return u(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(e){var t=+this,n=M(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=j.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=j.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=h(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=h(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:j.fn.lang});for(F in ut)ut.hasOwnProperty(F)&&(B(F,ut[F]),H(F.toLowerCase()));B("Weeks",6048e5),j.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},j.lang("en",{ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),U&&(module.exports=j),"undefined"==typeof ender&&(this.moment=j),"function"==typeof define&&define.amd&&define("moment",[],function(){return j})}.call(this),function(e,t){typeof define=="function"&&define.amd?define("form2js",t):e.form2js=t()}(this,function(){function e(e,r,i,s,o){if(typeof i=="undefined"||i==null)i=!0;if(typeof r=="undefined"||r==null)r=".";arguments.length<5&&(o=!1),e=typeof e=="string"?document.getElementById(e):e;var u=[],a,f=0;if(e.constructor==Array||typeof NodeList!="undefined"&&e.constructor==NodeList)while(a=e[f++])u=u.concat(n(a,s,o));else u=n(e,s,o);return t(u,i,r)}function t(e,t,n){var r={},i={},s,o,u,a,f,l,c,h,p,d,v,m,g;for(s=0;s<e.length;s++){f=e[s].value;if(!(!t||f!==""&&f!==null))continue;m=e[s].name,g=m.split(n),l=[],c=r,h="";for(o=0;o<g.length;o++){v=g[o].split("][");if(v.length>1)for(u=0;u<v.length;u++){u==0?v[u]=v[u]+"]":u==v.length-1?v[u]="["+v[u]:v[u]="["+v[u]+"]",d=v[u].match(/([a-z_]+)?\[([a-z_][a-z0-9_]+?)\]/i);if(d)for(a=1;a<d.length;a++)d[a]&&l.push(d[a]);else l.push(v[u])}else l=l.concat(v)}for(o=0;o<l.length;o++)v=l[o],v.indexOf("[]")>-1&&o==l.length-1?(p=v.substr(0,v.indexOf("[")),h+=p,c[p]||(c[p]=[]),c[p].push(f)):v.indexOf("[")>-1?(p=v.substr(0,v.indexOf("[")),d=v.replace(/(^([a-z_]+)?\[)|(\]$)/gi,""),h+="_"+p+"_"+d,i[h]||(i[h]={}),p!=""&&!c[p]&&(c[p]=[]),o==l.length-1?p==""?(c.push(f),i[h][d]=c[c.length-1]):(c[p].push(f),i[h][d]=c[p][c[p].length-1]):i[h][d]||(/^[a-z_]+\[?/i.test(l[o+1])?c[p].push({}):c[p].push([]),i[h][d]=c[p][c[p].length-1]),c=i[h][d]):(h+=v,o<l.length-1?(c[v]||(c[v]={}),c=c[v]):c[v]=f)}return r}function n(e,t,n){var s=i(e,t,n);return s.length>0?s:r(e,t,n)}function r(e,t,n){var r=[],s=e.firstChild;while(s)r=r.concat(i(s,t,n)),s=s.nextSibling;return r}function i(e,t,n){var i,u,a,f=s(e,n);return i=t&&t(e),i&&i.name?a=[i]:f!=""&&e.nodeName.match(/INPUT|TEXTAREA/i)?(u=o(e),a=[{name:f,value:u}]):f!=""&&e.nodeName.match(/SELECT/i)?(u=o(e),a=[{name:f.replace(/\[\]$/,""),value:u}]):a=r(e,t,n),a}function s(e,t){return e.name&&e.name!=""?e.name:t&&e.id&&e.id!=""?e.id:""}function o(e){if(e.disabled)return null;switch(e.nodeName){case"INPUT":case"TEXTAREA":switch(e.type.toLowerCase()){case"radio":if(e.checked&&e.value==="false")return!1;case"checkbox":if(e.checked&&e.value==="true")return!0;if(!e.checked&&e.value==="true")return!1;if(e.checked)return e.value;break;case"button":case"reset":case"submit":case"image":return"";default:return e.value}break;case"SELECT":return u(e);default:}return null}function u(e){var t=e.multiple,n=[],r,i,s;if(!t)return e.value;for(r=e.getElementsByTagName("option"),i=0,s=r.length;i<s;i++)r[i].selected&&n.push(r[i].value);return n}return e}),function(e,t){typeof define=="function"&&define.amd?define("js2form",t):e.js2form=t()}(this,function(){function o(e,t,r,i,s){arguments.length<3&&(r="."),arguments.length<4&&(i=null),arguments.length<5&&(s=!1);var o,f;o=l(t),f=a(e,s,r,{},!0);for(var c=0;c<o.length;c++){var h=o[c].name,p=o[c].value;typeof f[h]!="undefined"?u(f[h],p):typeof f[h.replace(n,"[]")]!="undefined"&&u(f[h.replace(n,"[]")],p)}}function u(e,t){var n,r,i;if(e instanceof Array){for(r=0;r<e.length;r++)if(e[r].value==t||t===!0)e[r].checked=!0}else if(s.test(e.nodeName))e.value=t;else if(/SELECT/i.test(e.nodeName)){n=e.getElementsByTagName("option");for(r=0,i=n.length;r<i;r++)if(n[r].value==t){n[r].selected=!0;if(e.multiple)break}else e.multiple||(n[r].selected=!1)}}function a(e,t,r,i,s){arguments.length<4&&(i={});var o={},u=e.firstChild,l,c,h,p,d,v,m;while(u){l="",u.name&&u.name!=""?l=u.name:t&&u.id&&u.id!=""&&(l=u.id);if(l==""){var g=a(u,t,r,i,s);for(h in g)if(typeof o[h]=="undefined")o[h]=g[h];else for(p=0;p<g[h].length;p++)o[h].push(g[h][p])}else if(/SELECT/i.test(u.nodeName))for(d=0,m=u.getElementsByTagName("option"),v=m.length;d<v;d++)s&&(m[d].selected=!1),c=f(l,r,i),o[c]=u;else/INPUT/i.test(u.nodeName)&&/CHECKBOX|RADIO/i.test(u.type)?(s&&(u.checked=!1),c=f(l,r,i),c=c.replace(n,"[]"),o[c]||(o[c]=[]),o[c].push(u)):(s&&(u.value=""),c=f(l,r,i),o[c]=u);u=u.nextSibling}return o}function f(e,t,n){var s=[],o=e.split(t),u,a,f,l,c,h;e=e.replace(i,"[$1].[$2]");for(h=0;h<o.length;h++){u=o[h],s.push(u),a=u.match(r);if(a!=null){f=s.join(t),l=f.replace(r,"$3"),f=f.replace(r,"$1"),typeof n[f]=="undefined"&&(n[f]={lastIndex:-1,indexes:{}});if(l==""||typeof n[f].indexes[l]=="undefined")n[f].lastIndex++,n[f].indexes[l]=n[f].lastIndex;c=n[f].indexes[l],s[s.length-1]=u.replace(r,"$1$2"+c+"$4")}}return f=s.join(t),f=f.replace("].[","]["),f}function l(e,t){var n=[],r,i;arguments.length==1&&(t=0);if(e==null)n=[{name:"",value:null}];else if(typeof e=="string"||typeof e=="number"||typeof e=="date"||typeof e=="boolean")n=[{name:"",value:e}];else if(e instanceof Array)for(r=0;r<e.length;r++)i="["+r+"]",n=n.concat(c(e[r],i,t+1));else for(r in e)i=r,n=n.concat(c(e[r],i,t+1));return n}function c(n,r,i){var s,o=[],u=l(n,i+1),a,f;for(a=0;a<u.length;a++)s=r,e.test(u[a].name)?s+=u[a].name:t.test(u[a].name)&&(s+="."+u[a].name),f={name:s,value:u[a].value},o.push(f);return o}var e=/^\[\d+?\]/,t=/^[a-zA-Z_][a-zA-Z_0-9]+/,n=/\[[0-9]+?\]$/,r=/(.*)(\[)([0-9]*)(\])$/,i=/\[([0-9]+)\]\[([0-9]+)\]/g,s=/INPUT|TEXTAREA/i;return o});var CodeMirror=function(){function e(o,l){function y(e){return e>=0&&e<or.size}function E(e){return p(or,e)}function L(e,t){xr=!0;var n=t-e.height;for(var r=e;r;r=r.parent)r.height+=n}function A(e){var t={line:0,ch:0};vt(t,{line:or.size-1,ch:E(or.size-1).text.length},ut(e),t,t),gr=!0}function B(){var e=[];return or.iter(0,or.size,function(t){e.push(t.text)}),e.join("\n")}function U(e){function t(e){var n=Cn(e,!0);if(n&&!D(n,o)){ar||pt(),o=n,qt(i,n),gr=!1;var r=Dt();if(n.line>=r.to||n.line<r.from)u=setTimeout(jn(function(){t(e)}),150)}}function n(e){clearTimeout(u);var t=Cn(e);t&&qt(i,t),w(e),At(),gr=!0,f(),a()}It(N(e,"shiftKey"));for(var r=x(e);r!=Un;r=r.parentNode)if(r.parentNode==Vn&&r!=$n)return;for(var r=x(e);r!=Un;r=r.parentNode)if(r.parentNode==Kn)return In.onGutterClick&&In.onGutterClick(Br,F(Kn.childNodes,r)+Cr,e),w(e);var i=Cn(e);switch(T(e)){case 3:K&&!R&&kn(e);return;case 2:i&&zt(i.line,i.ch,!0);return}if(!i){x(e)==Xn&&w(e);return}ar||pt();var s=+(new Date);if(hr&&hr.time>s-400&&D(hr.pos,i))return w(e),setTimeout(At,20),Gt(i.line);if(cr&&cr.time>s-400&&D(cr.pos,i))return hr={time:s,pos:i},w(e),Qt(i);cr={time:s,pos:i};var o=i,u;if(In.dragDrop&&rt&&!In.readOnly&&!D(fr.from,fr.to)&&!P(i,fr.from)&&!P(fr.to,i)){Z&&(Qn.draggable=!0);var a=C(document,"mouseup",jn(function(t){Z&&(Qn.draggable=!1),dr=!1,a(),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(w(t),zt(i.line,i.ch,!0),At())}),!0);dr=!0,Qn.dragDrop&&Qn.dragDrop();return}w(e),zt(i.line,i.ch,!0);var f=C(document,"mousemove",jn(function(e){clearTimeout(u),w(e),!Q&&!T(e)?n(e):t(e)}),!0),a=C(document,"mouseup",jn(n),!0)}function z(e){for(var t=x(e);t!=Un;t=t.parentNode)if(t.parentNode==Kn)return w(e);var n=Cn(e);if(!n)return;hr={time:+(new Date),pos:n},w(e),Qt(n)}function W(e){if(In.onDragEvent&&In.onDragEvent(Br,b(e)))return;e.preventDefault();var t=Cn(e,!0),n=e.dataTransfer.files;if(!t||In.readOnly)return;if(n&&n.length&&window.FileReader&&window.File){function r(e,n){var r=new FileReader;r.onload=function(){s[n]=r.result,++o==i&&(t=Xt(t),jn(function(){var e=wt(s.join(""),t,t);qt(t,e)})())},r.readAsText(e)}var i=n.length,s=Array(i),o=0;for(var u=0;u<i;++u)r(n[u],u)}else try{var s=e.dataTransfer.getData("Text");s&&Fn(function(){var e=fr.from,n=fr.to;qt(t,t),dr&&wt("",e,n),Et(s),At()})}catch(e){}}function $(e){var t=Tt();e.dataTransfer.setData("Text",t);if(K||et){var n=document.createElement("img");n.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=",e.dataTransfer.setDragImage(n,0,0)}}function tt(e,t){if(typeof e=="string"){e=V[e];if(!e)return!1}var n=lr;try{In.readOnly&&(mr=!0),t&&(lr=null),e(Br)}catch(r){if(r!=J)throw r;return!1}finally{lr=n,mr=!1}return!0}function it(e){function i(){f=!0}var s=t(In.keyMap),o=s.auto;clearTimeout(Fr),o&&!r(e)&&(Fr=setTimeout(function(){t(In.keyMap)==s&&(In.keyMap=o.call?o.call(null,Br):o)},50));var u=ft[N(e,"keyCode")],a=!1;if(u==null||e.altGraphKey)return!1;N(e,"altKey")&&(u="Alt-"+u),N(e,"ctrlKey")&&(u="Ctrl-"+u),N(e,"metaKey")&&(u="Cmd-"+u);var f=!1;return N(e,"shiftKey")?a=n("Shift-"+u,In.extraKeys,In.keyMap,function(e){return tt(e,!0)},i)||n(u,In.extraKeys,In.keyMap,function(e){if(typeof e=="string"&&/^go[A-Z]/.test(e))return tt(e)},i):a=n(u,In.extraKeys,In.keyMap,tt,i),f&&(a=!1),a&&(w(e),Q&&(e.oldKeyCode=e.keyCode,e.keyCode=0)),a}function ot(e,t){var r=n("'"+t+"'",In.extraKeys,In.keyMap,function(e){return tt(e,!0)});return r&&w(e),r}function lt(e){ar||pt(),Q&&e.keyCode==27&&(e.returnValue=!1),Ir&&kt()&&(Ir=!1);if(In.onKeyEvent&&In.onKeyEvent(Br,b(e)))return;var t=N(e,"keyCode");It(t==16||N(e,"shiftKey"));var n=it(e);window.opera&&(jr=n?t:null,!n&&t==88&&N(e,R?"metaKey":"ctrlKey")&&Et(""))}function ct(e){Ir&&kt();if(In.onKeyEvent&&In.onKeyEvent(Br,b(e)))return;var t=N(e,"keyCode"),n=N(e,"charCode");if(window.opera&&t==jr){jr=null,w(e);return}if((window.opera&&!e.which||nt)&&it(e))return;var r=String.fromCharCode(n==null?t:n);In.electricChars&&sr.electricChars&&In.smartIndent&&!In.readOnly&&sr.electricChars.indexOf(r)>-1&&setTimeout(jn(function(){Zt(fr.to.line,"smart")}),75);if(ot(e,r))return;Ct()}function ht(e){if(In.onKeyEvent&&In.onKeyEvent(Br,b(e)))return;N(e,"keyCode")==16&&(lr=null)}function pt(){if(In.readOnly=="nocursor")return;ar||(In.onFocus&&In.onFocus(Br),ar=!0,Un.className.search(/\bCodeMirror-focused\b/)==-1&&(Un.className+=" CodeMirror-focused"),Sr||Lt(!0)),Nt(),Ln()}function dt(){ar&&(In.onBlur&&In.onBlur(Br),ar=!1,Ar&&jn(function(){Ar&&(Ar(),Ar=null)})(),Un.className=Un.className.replace(" CodeMirror-focused","")),clearInterval(ir),setTimeout(function(){ar||(lr=null)},150)}function vt(e,t,n,r,i){if(mr)return;if(Dr){var s=[];or.iter(e.line,t.line+1,function(e){s.push(e.text)}),Dr.addChange(e.line,n.length,s);while(Dr.done.length>In.undoDepth)Dr.done.shift()}bt(e,t,n,r,i)}function mt(e,t){if(!e.length)return;var n=e.pop(),r=[];for(var i=n.length-1;i>=0;i-=1){var s=n[i],o=[],u=s.start+s.added;or.iter(s.start,u,function(e){o.push(e.text)}),r.push({start:s.start,added:s.old.length,old:o});var a=Xt({line:s.start+s.old.length-1,ch:j(o[o.length-1],s.old[s.old.length-1])});bt({line:s.start,ch:0},{line:u-1,ch:E(u-1).text.length},s.old,a,a)}gr=!0,t.push(r)}function gt(){mt(Dr.done,Dr.undone)}function yt(){mt(Dr.undone,Dr.done)}function bt(e,t,n,r,i){function s(e){return e<=Math.min(t.line,t.line+y)?e:e+y}if(mr)return;var o=!1,u=Or.length;In.lineWrapping||or.iter(e.line,t.line+1,function(e){if(e.text.length==u)return o=!0,!0});if(e.line!=t.line||n.length>1)xr=!0;var a=t.line-e.line,l=E(e.line),c=E(t.line);if(e.ch==0&&t.ch==0&&n[n.length-1]==""){var h=[],p=null;e.line?(p=E(e.line-1),p.fixMarkEnds(c)):c.fixMarkStarts();for(var d=0,v=n.length-1;d<v;++d)h.push(f.inheritMarks(n[d],p));a&&or.remove(e.line,a,Tr),h.length&&or.insert(e.line,h)}else if(l==c)if(n.length==1)l.replace(e.ch,t.ch,n[0]);else{c=l.split(t.ch,n[n.length-1]),l.replace(e.ch,null,n[0]),l.fixMarkEnds(c);var h=[];for(var d=1,v=n.length-1;d<v;++d)h.push(f.inheritMarks(n[d],l));h.push(c),or.insert(e.line+1,h)}else if(n.length==1)l.replace(e.ch,null,n[0]),c.replace(null,t.ch,""),l.append(c),or.remove(e.line+1,a,Tr);else{var h=[];l.replace(e.ch,null,n[0]),c.replace(null,t.ch,n[n.length-1]),l.fixMarkEnds(c);for(var d=1,v=n.length-1;d<v;++d)h.push(f.inheritMarks(n[d],l));a>1&&or.remove(e.line+1,a-1,Tr),or.insert(e.line+1,h)}if(In.lineWrapping){var m=Math.max(5,Xn.clientWidth/xn()-3);or.iter(e.line,e.line+n.length,function(e){if(e.hidden)return;var t=Math.ceil(e.text.length/m)||1;t!=e.height&&L(e,t)})}else or.iter(e.line,d+n.length,function(e){var t=e.text;t.length>u&&(Or=t,u=t.length,Mr=null,o=!1)}),o&&(u=0,Or="",Mr=null,or.iter(0,or.size,function(e){var t=e.text;t.length>u&&(u=t.length,Or=t)}));var g=[],y=n.length-a-1;for(var d=0,b=ur.length;d<b;++d){var w=ur[d];w<e.line?g.push(w):w>t.line&&g.push(w+y)}var S=e.line+Math.min(n.length,500);_n(e.line,S),g.push(S),ur=g,Pn(100),br.push({from:e.line,to:t.line+1,diff:y});var x={from:e,to:t,text:n};if(wr){for(var T=wr;T.next;T=T.next);T.next=x}else wr=x;Rt(r,i,s(fr.from.line),s(fr.to.line)),Xn.clientHeight&&(Vn.style.height=or.height*Sn()+2*Tn()+"px")}function wt(e,t,n){function r(r){if(P(r,t))return r;if(!P(n,r))return i;var s=r.line+e.length-(n.line-t.line)-1,o=r.ch;return r.line==n.line&&(o+=e[e.length-1].length-(n.ch-(n.line==t.line?t.ch:0))),{line:s,ch:o}}t=Xt(t),n?n=Xt(n):n=t,e=ut(e);var i;return St(e,t,n,function(e){return i=e,{from:r(fr.from),to:r(fr.to)}}),i}function Et(e,t){St(ut(e),fr.from,fr.to,function(e){return t=="end"?{from:e,to:e}:t=="start"?{from:fr.from,to:fr.from}:{from:fr.from,to:e}})}function St(e,t,n,r){var i=e.length==1?e[0].length+t.ch:e[e.length-1].length,s=r({line:t.line+e.length-1,ch:i});vt(t,n,e,s.from,s.to)}function xt(e,t){var n=e.line,r=t.line;if(n==r)return E(n).text.slice(e.ch,t.ch);var i=[E(n).text.slice(e.ch)];return or.iter(n+1,r,function(e){i.push(e.text)}),i.push(E(r).text.slice(0,t.ch)),i.join("\n")}function Tt(){return xt(fr.from,fr.to)}function Nt(){if(Ir)return;nr.set(In.pollInterval,function(){Hn(),kt(),ar&&Nt(),Bn()})}function Ct(){function e(){Hn();var n=kt();!n&&!t?(t=!0,nr.set(60,e)):(Ir=!1,Nt()),Bn()}var t=!1;Ir=!0,nr.set(20,e)}function kt(){if(Sr||!ar||at(Wn)||In.readOnly)return!1;var e=Wn.value;if(e==qr)return!1;lr=null;var t=0,n=Math.min(qr.length,e.length);while(t<n&&qr[t]==e[t])++t;return t<qr.length?fr.from={line:fr.from.line,ch:fr.from.ch-(qr.length-t)}:vr&&D(fr.from,fr.to)&&(fr.to={line:fr.to.line,ch:Math.min(E(fr.to.line).text.length,fr.to.ch+(e.length-t))}),Et(e.slice(t),"end"),qr=e,!0}function Lt(e){D(fr.from,fr.to)?e&&(qr=Wn.value=""):(qr="",Wn.value=Tt(),_(Wn))}function At(){In.readOnly!="nocursor"&&Wn.focus()}function Ot(){if(!Yn.getBoundingClientRect)return;var e=Yn.getBoundingClientRect();if(Q&&e.top==e.bottom)return;var t=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(e.top<0||e.bottom>t)&&Yn.scrollIntoView()}function Mt(){var e=bn(fr.inverted?fr.from:fr.to),t=In.lineWrapping?Math.min(e.x,Qn.offsetWidth):e.x;return _t(t,e.y,t,e.yBot)}function _t(e,t,n,r){var i=Nn(),s=Tn();t+=s,r+=s,e+=i,n+=i;var o=Xn.clientHeight,u=Xn.scrollTop,a=!1,f=!0;t<u?(Xn.scrollTop=Math.max(0,t),a=!0):r>u+o&&(Xn.scrollTop=r-o,a=!0);var l=Xn.clientWidth,c=Xn.scrollLeft,h=In.fixedGutter?Jn.clientWidth:0,p=e<h+i+10;return e<c+h||p?(p&&(e=0),Xn.scrollLeft=Math.max(0,e-10-h),a=!0):n>l+c-3&&(Xn.scrollLeft=n+10-l,a=!0,n>Vn.clientWidth&&(f=!1)),a&&In.onScroll&&In.onScroll(Br),f}function Dt(){var e=Sn(),t=Xn.scrollTop-Tn(),n=Math.max(0,Math.floor(t/e)),r=Math.ceil((t+Xn.clientHeight)/e);return{from:v(or,n),to:v(or,r)}}function Pt(e,t){function n(){Mr=Xn.clientWidth;var e=er.firstChild,t=!1;return or.iter(Cr,kr,function(n){if(!n.hidden){var r=Math.round(e.offsetHeight/l)||1;n.height!=r&&(L(n,r),xr=t=!0)}e=e.nextSibling}),t&&(Vn.style.height=or.height*l+2*Tn()+"px"),t}if(!Xn.clientWidth){Cr=kr=Nr=0;return}var r=Dt();if(e!==!0&&e.length==0&&r.from>Cr&&r.to<kr)return;var i=Math.max(r.from-100,0),s=Math.min(or.size,r.to+100);Cr<i&&i-Cr<20&&(i=Cr),kr>s&&kr-s<20&&(s=Math.min(or.size,kr));var o=e===!0?[]:Ht([{from:Cr,to:kr,domStart:0}],e),u=0;for(var a=0;a<o.length;++a){var f=o[a];f.from<i&&(f.domStart+=i-f.from,f.from=i),f.to>s&&(f.to=s),f.from>=f.to?o.splice(a--,1):u+=f.to-f.from}if(u==s-i&&i==Cr&&s==kr)return;o.sort(function(e,t){return e.domStart-t.domStart});var l=Sn(),c=Jn.style.display;er.style.display="none",Bt(i,s,o),er.style.display=Jn.style.display="";var h=i!=Cr||s!=kr||Lr!=Xn.clientHeight+l;h&&(Lr=Xn.clientHeight+l),Cr=i,kr=s,Nr=m(or,i),$n.style.top=Nr*l+"px",Xn.clientHeight&&(Vn.style.height=or.height*l+2*Tn()+"px");if(er.childNodes.length!=kr-Cr)throw new Error("BAD PATCH! "+JSON.stringify(o)+" size="+(kr-Cr)+" nodes="+er.childNodes.length);return In.lineWrapping?n():(Mr==null&&(Mr=mn(Or)),Mr>Xn.clientWidth?(Qn.style.width=Mr+"px",Vn.style.width="",Vn.style.width=Xn.scrollWidth+"px"):Qn.style.width=Vn.style.width=""),Jn.style.display=c,(h||xr)&&jt()&&In.lineWrapping&&n()&&jt(),Ft(),!t&&In.onUpdate&&In.onUpdate(Br),!0}function Ht(e,t){for(var n=0,r=t.length||0;n<r;++n){var i=t[n],s=[],o=i.diff||0;for(var u=0,a=e.length;u<a;++u){var f=e[u];i.to<=f.from&&i.diff?s.push({from:f.from+o,to:f.to+o,domStart:f.domStart}):i.to<=f.from||i.from>=f.to?s.push(f):(i.from>f.from&&s.push({from:f.from,to:i.from,domStart:f.domStart}),i.to<f.to&&s.push({from:i.to+o,to:f.to+o,domStart:f.domStart+(i.to-f.from)}))}e=s}return e}function Bt(e,t,n){if(!n.length)er.innerHTML="";else{function r(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var i=0,s=er.firstChild,o;for(var u=0;u<n.length;++u){var a=n[u];while(a.domStart>i)s=r(s),i++;for(var f=0,l=a.to-a.from;f<l;++f)s=s.nextSibling,i++}while(s)s=r(s)}var c=n.shift(),s=er.firstChild,f=e,h=document.createElement("div");or.iter(e,t,function(e){c&&c.to==f&&(c=n.shift());if(!c||c.from>f){if(e.hidden)var t=h.innerHTML="<pre></pre>";else{var t="<pre"+(e.className?' class="'+e.className+'"':"")+">"+e.getHTML(rn)+"</pre>";e.bgClassName&&(t='<div style="position: relative"><pre class="'+e.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+t+"</div>")}h.innerHTML=t,er.insertBefore(h.firstChild,s)}else s=s.nextSibling;++f})}function jt(){if(!In.gutter&&!In.lineNumbers)return;var e=$n.offsetHeight,t=Xn.clientHeight;Jn.style.height=(e-t<2?t:e)+"px";var n=[],r=Cr,i;or.iter(Cr,Math.max(kr,Cr+1),function(e){if(e.hidden)n.push("<pre></pre>");else{var t=e.gutterMarker,s=In.lineNumbers?r+In.firstLineNumber:null;t&&t.text?s=t.text.replace("%N%",s!=null?s:""):s==null&&(s="Â "),n.push(t&&t.style?'<pre class="'+t.style+'">':"<pre>",s);for(var o=1;o<e.height;++o)n.push("<br/>&#160;");n.push("</pre>"),t||(i=r)}++r}),Jn.style.display="none",Kn.innerHTML=n.join("");if(i!=null){var s=Kn.childNodes[i-Cr],o=String(or.size).length,u=M(s),a="";while(u.length+a.length<o)a+="Â ";a&&s.insertBefore(document.createTextNode(a),s.firstChild)}Jn.style.display="";var f=Math.abs((parseInt(Qn.style.marginLeft)||0)-Jn.offsetWidth)>2;return Qn.style.marginLeft=Jn.offsetWidth+"px",xr=!1,f}function Ft(){var e=D(fr.from,fr.to),t=bn(fr.from,!0),n=e?t:bn(fr.to,!0),r=fr.inverted?t:n,i=Sn(),s=O(Un),o=O(er);zn.style.top=Math.max(0,Math.min(Xn.offsetHeight,r.y+o.top-s.top))+"px",zn.style.left=Math.max(0,Math.min(Xn.offsetWidth,r.x+o.left-s.left))+"px";if(e)Yn.style.top=r.y+"px",Yn.style.left=(In.lineWrapping?Math.min(r.x,Qn.offsetWidth):r.x)+"px",Yn.style.display="",Zn.style.display="none";else{var u=t.y==n.y,a="",f=Qn.clientWidth||Qn.offsetWidth,l=Qn.clientHeight||Qn.offsetHeight;function c(e,t,n,r){var i=Y?"width: "+(n?f-n-e:f)+"px":"right: "+n+"px";a+='<div class="CodeMirror-selected" style="position: absolute; left: '+e+"px; top: "+t+"px; "+i+"; height: "+r+'px"></div>'}if(fr.from.ch&&t.y>=0){var h=u?f-n.x:0;c(t.x,t.y,h,i)}var p=Math.max(0,t.y+(fr.from.ch?i:0)),d=Math.min(n.y,l)-p;d>.2*i&&c(0,p,0,d),(!u||!fr.from.ch)&&n.y<l-.5*i&&c(0,n.y,f-n.x,i),Zn.innerHTML=a,Yn.style.display="none",Zn.style.display=""}}function It(e){e?lr=lr||(fr.inverted?fr.to:fr.from):lr=null}function qt(e,t){var n=lr&&Xt(lr);n&&(P(n,e)?e=n:P(t,n)&&(t=n)),Rt(e,t),yr=!0}function Rt(e,t,n,r){Rr=null,n==null&&(n=fr.from.line,r=fr.to.line);if(D(fr.from,e)&&D(fr.to,t))return;if(P(t,e)){var i=t;t=e,e=i}if(e.line!=n){var s=Ut(e,n,fr.from.ch);s?e=s:dn(e.line,!1)}t.line!=r&&(t=Ut(t,r,fr.to.ch)),D(e,t)?fr.inverted=!1:D(e,fr.to)?fr.inverted=!1:D(t,fr.from)&&(fr.inverted=!0);if(In.autoClearEmptyLines&&D(fr.from,fr.to)){var o=fr.inverted?e:t;if(o.line!=fr.from.line&&fr.from.line<or.size){var u=E(fr.from.line);/^\s+$/.test(u.text)&&setTimeout(jn(function(){if(u.parent&&/^\s+$/.test(u.text)){var e=d(u);wt("",{line:e,ch:0},{line:e,ch:u.text.length})}},10))}}fr.from=e,fr.to=t,Er=!0}function Ut(e,t,n){function r(t){var r=e.line+t,i=t==1?or.size:-1;while(r!=i){var o=E(r);if(!o.hidden){var u=e.ch;if(s||u>n||u>o.text.length)u=o.text.length;return{line:r,ch:u}}r+=t}}var i=E(e.line),s=e.ch==i.text.length&&e.ch!=n;return i.hidden?e.line>=t?r(1)||r(-1):r(-1)||r(1):e}function zt(e,t,n){var r=Xt({line:e,ch:t||0});(n?qt:Rt)(r,r)}function Wt(e){return Math.max(0,Math.min(e,or.size-1))}function Xt(e){if(e.line<0)return{line:0,ch:0};if(e.line>=or.size)return{line:or.size-1,ch:E(or.size-1).text.length};var t=e.ch,n=E(e.line).text.length;return t==null||t>n?{line:e.line,ch:n}:t<0?{line:e.line,ch:0}:e}function Vt(e,t){function n(){for(var t=s+e,n=e<0?-1:or.size;t!=n;t+=e){var r=E(t);if(!r.hidden)return s=t,u=r,!0}}function r(t){if(o==(e<0?0:u.text.length)){if(!!t||!n())return!1;o=e<0?u.text.length:0}else o+=e;return!0}var i=fr.inverted?fr.from:fr.to,s=i.line,o=i.ch,u=E(s);if(t=="char")r();else if(t=="column")r(!0);else if(t=="word"){var a=!1;for(;;){if(e<0&&!r())break;if(I(u.text.charAt(o)))a=!0;else if(a){e<0&&(e=1,r());break}if(e>0&&!r())break}}return{line:s,ch:o}}function $t(e,t){var n=e<0?fr.from:fr.to;if(lr||D(fr.from,fr.to))n=Vt(e,t);zt(n.line,n.ch,!0)}function Jt(e,t){D(fr.from,fr.to)?e<0?wt("",Vt(e,t),fr.to):wt("",fr.from,Vt(e,t)):wt("",fr.from,fr.to),yr=!0}function Kt(e,t){var n=0,r=bn(fr.inverted?fr.from:fr.to,!0);Rr!=null&&(r.x=Rr),t=="page"?n=Math.min(Xn.clientHeight,window.innerHeight||document.documentElement.clientHeight):t=="line"&&(n=Sn());var i=wn(r.x,r.y+n*e+2);t=="page"&&(Xn.scrollTop+=bn(i,!0).y-r.y),zt(i.line,i.ch,!0),Rr=r.x}function Qt(e){var t=E(e.line).text,n=e.ch,r=e.ch;while(n>0&&I(t.charAt(n-1)))--n;while(r<t.length&&I(t.charAt(r)))++r;qt({line:e.line,ch:n},{line:e.line,ch:r})}function Gt(e){qt({line:e,ch:0},Xt({line:e+1,ch:0}))}function Yt(e){if(D(fr.from,fr.to))return Zt(fr.from.line,e);var t=fr.to.line-(fr.to.ch?0:1);for(var n=fr.from.line;n<=t;++n)Zt(n,e)}function Zt(e,t){t||(t="add");if(t=="smart")if(!sr.indent)t="prev";else var n=Mn(e);var r=E(e),i=r.indentation(In.tabSize),s=r.text.match(/^\s*/)[0],o;t=="prev"?e?o=E(e-1).indentation(In.tabSize):o=0:t=="smart"?o=sr.indent(n,r.text.slice(s.length),r.text):t=="add"?o=i+In.indentUnit:t=="subtract"&&(o=i-In.indentUnit),o=Math.max(0,o);var u=o-i;if(!u){if(fr.from.line!=e&&fr.to.line!=e)return;var a=s}else{var a="",f=0;if(In.indentWithTabs)for(var l=Math.floor(o/In.tabSize);l;--l)f+=In.tabSize,a+="	";while(f<o)++f,a+=" "}wt(a,{line:e,ch:0},{line:e,ch:s.length})}function en(){sr=e.getMode(In,In.mode),or.iter(0,or.size,function(e){e.stateAfter=null}),ur=[0],Pn()}function tn(){var e=In.gutter||In.lineNumbers;Jn.style.display=e?"":"none",e?xr=!0:er.parentNode.style.marginLeft=0}function nn(e,t){if(In.lineWrapping){Un.className+=" CodeMirror-wrap";var n=Xn.clientWidth/xn()-3;or.iter(0,or.size,function(e){if(e.hidden)return;var t=Math.ceil(e.text.length/n)||1;t!=1&&L(e,t)}),Qn.style.width=Vn.style.width=""}else Un.className=Un.className.replace(" CodeMirror-wrap",""),Mr=null,Or="",or.iter(0,or.size,function(e){e.height!=1&&!e.hidden&&L(e,1),e.text.length>Or.length&&(Or=e.text)});br.push({from:0,to:or.size})}function rn(e){var t=In.tabSize-e%In.tabSize,n=_r[t];if(n)return n;for(var r='<span class="cm-tab">',i=0;i<t;++i)r+=" ";return _r[t]={html:r+"</span>",width:t}}function sn(){Xn.className=Xn.className.replace(/\s*cm-s-\S+/g,"")+In.theme.replace(/(^|\s)\s*/g," cm-s-")}function on(){this.set=[]}function un(e,t,n){function r(e,t,n,r){E(e).addMark(new u(t,n,r,i))}e=Xt(e),t=Xt(t);var i=new on;if(!P(e,t))return i;if(e.line==t.line)r(e.line,e.ch,t.ch,n);else{r(e.line,e.ch,null,n);for(var s=e.line+1,o=t.line;s<o;++s)r(s,null,null,n);r(t.line,null,t.ch,n)}return br.push({from:e.line,to:t.line+1}),i}function an(e){e=Xt(e);var t=new a(e.ch);return E(e.line).addMark(t),t}function fn(e){e=Xt(e);var t=[],n=E(e.line).marked;if(!n)return t;for(var r=0,i=n.length;r<i;++r){var s=n[r];(s.from==null||s.from<=e.ch)&&(s.to==null||s.to>=e.ch)&&t.push(s.marker||s)}return t}function ln(e,t,n){return typeof e=="number"&&(e=E(Wt(e))),e.gutterMarker={text:t,style:n},xr=!0,e}function cn(e){typeof e=="number"&&(e=E(Wt(e))),e.gutterMarker=null,xr=!0}function hn(e,t){var n=e,r=e;return typeof e=="number"?r=E(Wt(e)):n=d(e),n==null?null:t(r,n)?(br.push({from:n,to:n+1}),r):null}function pn(e,t,n){return hn(e,function(e){if(e.className!=t||e.bgClassName!=n)return e.className=t,e.bgClassName=n,!0})}function dn(e,t){return hn(e,function(e,n){if(e.hidden!=t){e.hidden=t,L(e,t?0:1);var r=fr.from.line,i=fr.to.line;if(t&&(r==n||i==n)){var s=r==n?Ut({line:r,ch:0},r,0):fr.from,o=i==n?Ut({line:i,ch:0},i,0):fr.to;if(!o)return;Rt(s,o)}return xr=!0}})}function vn(e){if(typeof e=="number"){if(!y(e))return null;var t=e;e=E(e);if(!e)return null}else{var t=d(e);if(t==null)return null}var n=e.gutterMarker;return{line:t,handle:e,text:e.text,markerText:n&&n.text,markerClass:n&&n.style,lineClass:e.className,bgClass:e.bgClassName}}function mn(e){return Gn.innerHTML="<pre><span>x</span></pre>",Gn.firstChild.firstChild.firstChild.nodeValue=e,Gn.firstChild.firstChild.offsetWidth||10}function gn(e,t){function n(e){return yn(r,e).left}if(t<=0)return 0;var r=E(e),i=r.text,s=0,o=0,u=i.length,a,f=Math.min(u,Math.ceil(t/xn()));for(;;){var l=n(f);if(!(l<=t&&f<u)){a=l,u=f;break}f=Math.min(u,Math.ceil(f*1.2))}if(t>a)return u;f=Math.floor(u*.8),l=n(f),l<t&&(s=f,o=l);for(;;){if(u-s<=1)return a-t>t-o?s:u;var c=Math.ceil((s+u)/2),h=n(c);h>t?(u=c,a=h):(s=c,o=h)}}function yn(e,t){if(t==0)return{top:0,left:0};var n=In.lineWrapping&&t<e.text.length&&st.test(e.text.slice(t-1,t+1));Gn.innerHTML="<pre>"+e.getHTML(rn,t,Ur,n)+"</pre>";var r=document.getElementById(Ur),i=r.offsetTop,s=r.offsetLeft;if(Q&&i==0&&s==0){var o=document.createElement("span");o.innerHTML="x",r.parentNode.insertBefore(o,r.nextSibling),i=o.offsetTop}return{top:i,left:s}}function bn(e,t){var n,r=Sn(),i=r*(m(or,e.line)-(t?Nr:0));if(e.ch==0)n=0;else{var s=yn(E(e.line),e.ch);n=s.left,In.lineWrapping&&(i+=Math.max(0,s.top))}return{x:n,y:i,yBot:i+r}}function wn(e,t){function n(e){var t=yn(u,e);if(f){var n=Math.round(t.top/r);return Math.max(0,t.left+(n-l)*Xn.clientWidth)}return t.left}t<0&&(t=0);var r=Sn(),i=xn(),s=Nr+Math.floor(t/r),o=v(or,s);if(o>=or.size)return{line:or.size-1,ch:E(or.size-1).text.length};var u=E(o),a=u.text,f=In.lineWrapping,l=f?s-m(or,o):0;if(e<=0&&l==0)return{line:o,ch:0};var c=0,h=0,p=a.length,d,g=Math.min(p,Math.ceil((e+l*Xn.clientWidth*.9)/i));for(;;){var y=n(g);if(!(y<=e&&g<p)){d=y,p=g;break}g=Math.min(p,Math.ceil(g*1.2))}if(e>d)return{line:o,ch:p};g=Math.floor(p*.8),y=n(g),y<e&&(c=g,h=y);for(;;){if(p-c<=1)return{line:o,ch:d-e>e-h?c:p};var b=Math.ceil((c+p)/2),w=n(b);w>e?(p=b,d=w):(c=b,h=w)}}function En(e){var t=bn(e,!0),n=O(Qn);return{x:n.left+t.x,y:n.top+t.y,yBot:n.top+t.yBot}}function Sn(){if(Xr==null){Xr="<pre>";for(var e=0;e<49;++e)Xr+="x<br/>";Xr+="x</pre>"}var t=er.clientHeight;return t==Wr?zr:(Wr=t,Gn.innerHTML=Xr,zr=Gn.firstChild.offsetHeight/50||1,Gn.innerHTML="",zr)}function xn(){return Xn.clientWidth==$r?Vr:($r=Xn.clientWidth,Vr=mn("x"))}function Tn(){return Qn.offsetTop}function Nn(){return Qn.offsetLeft}function Cn(e,t){var n=O(Xn,!0),r,i;try{r=e.clientX,i=e.clientY}catch(e){return null}if(!t&&(r-n.left>Xn.clientWidth||i-n.top>Xn.clientHeight))return null;var s=O(Qn,!0);return wn(r-s.left,i-s.top)}function kn(e){function t(){var e=ut(Wn.value).join("\n");e!=s&&jn(Et)(e,"end"),zn.style.position="relative",Wn.style.cssText=i,G&&(Xn.scrollTop=r),Sr=!1,Lt(!0),Nt()}var n=Cn(e),r=Xn.scrollTop;if(!n||window.opera)return;(D(fr.from,fr.to)||P(n,fr.from)||!P(n,fr.to))&&jn(zt)(n.line,n.ch);var i=Wn.style.cssText;zn.style.position="absolute",Wn.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; "+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Sr=!0;var s=Wn.value=Tt();At(),_(Wn);if(K){S(e);var o=C(window,"mouseup",function(){o(),setTimeout(t,20)},!0)}else setTimeout(t,50)}function Ln(){clearInterval(ir);var e=!0;Yn.style.visibility="",ir=setInterval(function(){Yn.style.visibility=(e=!e)?"":"hidden"},650)}function An(e){function t(e,t,n){if(!e.text)return;var r=e.styles,i=u?0:e.text.length-1,s;for(var o=u?0:r.length-2,f=u?r.length:-2;o!=f;o+=2*a){var l=r[o];if(r[o+1]!=null&&r[o+1]!=p){i+=a*l.length;continue}for(var c=u?0:l.length-1,h=u?l.length:-1;c!=h;c+=a,i+=a)if(i>=t&&i<n&&v.test(s=l.charAt(c))){var m=Jr[s];if(m.charAt(1)==">"==u)d.push(s);else{if(d.pop()!=m.charAt(0))return{pos:i,match:!1};if(!d.length)return{pos:i,match:!0}}}}}var n=fr.inverted?fr.from:fr.to,r=E(n.line),i=n.ch-1,s=i>=0&&Jr[r.text.charAt(i)]||Jr[r.text.charAt(++i)];if(!s)return;var o=s.charAt(0),u=s.charAt(1)==">",a=u?1:-1,f=r.styles;for(var l=i+1,c=0,h=f.length;c<h;c+=2)if((l-=f[c].length)<=0){var p=f[c+1];break}var d=[r.text.charAt(i)],v=/[(){}[\]]/;for(var c=n.line,h=u?Math.min(c+100,or.size):Math.max(-1,c-100);c!=h;c+=a){var r=E(c),m=c==n.line,g=t(r,m&&u?i+1:0,m&&!u?i:r.text.length);if(g)break}g||(g={pos:null,match:!1});var p=g.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",y=un({line:n.line,ch:i},{line:n.line,ch:i+1},p),b=g.pos!=null&&un({line:c,ch:g.pos},{line:c,ch:g.pos+1},p),w=jn(function(){y.clear(),b&&b.clear()});e?setTimeout(w,800):Ar=w}function On(e){var t,n;for(var r=e,i=e-40;r>i;--r){if(r==0)return 0;var s=E(r-1);if(s.stateAfter)return r;var o=s.indentation(In.tabSize);if(n==null||t>o)n=r-1,t=o}return n}function Mn(e){var t=On(e),n=t&&E(t-1).stateAfter;return n?n=i(sr,n):n=s(sr),or.iter(t,e,function(e){e.highlight(sr,n,In.tabSize),e.stateAfter=i(sr,n)}),t<e&&br.push({from:t,to:e}),e<or.size&&!E(e).stateAfter&&ur.push(e),n}function _n(e,t){var n=Mn(e);or.iter(e,t,function(e){e.highlight(sr,n,In.tabSize),e.stateAfter=i(sr,n)})}function Dn(){var e=+(new Date)+In.workTime,t=ur.length;while(ur.length){if(!E(Cr).stateAfter)var n=Cr;else var n=ur.pop();if(n>=or.size)continue;var r=On(n),o=r&&E(r-1).stateAfter;o?o=i(sr,o):o=s(sr);var u=0,a=sr.compareStates,f=!1,l=r,c=!1;or.iter(l,or.size,function(t){var r=t.stateAfter;if(+(new Date)>e)return ur.push(l),Pn(In.workDelay),f&&br.push({from:n,to:l+1}),c=!0;var s=t.highlight(sr,o,In.tabSize);s&&(f=!0),t.stateAfter=i(sr,o);var h=null;if(a){var p=r&&a(r,o);p!=J&&(h=!!p)}h==null&&(s!==!1||!r?u=0:++u>3&&(!sr.indent||sr.indent(r,"")==sr.indent(o,""))&&(h=!0));if(h)return!0;++l});if(c)return;f&&br.push({from:n,to:l+1})}t&&In.onHighlightComplete&&In.onHighlightComplete(Br)}function Pn(e){if(!ur.length)return;rr.set(e,jn(Dn))}function Hn(){gr=yr=wr=null,br=[],Er=!1,Tr=[]}function Bn(){var e=!1,t;Er&&(e=!Mt()),br.length?t=Pt(br,!0):(Er&&Ft(),xr&&jt()),e&&Mt(),Er&&(Ot(),Ln()),ar&&!Sr&&(gr===!0||gr!==!1&&Er)&&Lt(yr),Er&&In.matchBrackets&&setTimeout(jn(function(){Ar&&(Ar(),Ar=null),D(fr.from,fr.to)&&An(!1)}),20);var n=wr,r=Tr;Er&&In.onCursorActivity&&In.onCursorActivity(Br),n&&In.onChange&&Br&&In.onChange(Br,n);for(var i=0;i<r.length;++i)r[i](Br);t&&In.onUpdate&&In.onUpdate(Br)}function jn(e){return function(){Kr++||Hn();try{var t=e.apply(this,arguments)}finally{--Kr||Bn()}return t}}function Fn(e){Dr.startCompound();try{return e()}finally{Dr.endCompound()}}var In={},qn=e.defaults;for(var Rn in qn)qn.hasOwnProperty(Rn)&&(In[Rn]=(l&&l.hasOwnProperty(Rn)?l:qn)[Rn]);var Un=document.createElement("div");Un.className="CodeMirror"+(In.lineWrapping?" CodeMirror-wrap":""),Un.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>',o.appendChild?o.appendChild(Un):o(Un);var zn=Un.firstChild,Wn=zn.firstChild,Xn=Un.lastChild,Vn=Xn.firstChild,$n=Vn.firstChild,Jn=$n.firstChild,Kn=Jn.firstChild,Qn=Jn.nextSibling.firstChild,Gn=Qn.firstChild,Yn=Gn.nextSibling,Zn=Yn.nextSibling,er=Zn.nextSibling;sn(),q&&(Wn.style.width="0px"),Z||(Qn.draggable=!0),Qn.style.outline="none",In.tabindex!=null&&(Wn.tabIndex=In.tabindex),In.autofocus&&At(),!In.gutter&&!In.lineNumbers&&(Jn.style.display="none"),nt&&(zn.style.height="1px",zn.style.position="absolute");try{mn("x")}catch(tr){throw tr.message.match(/runtime/i)&&(tr=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),tr}var nr=new k,rr=new k,ir,sr,or=new h([new c([new f("")])]),ur,ar;en();var fr={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},lr,cr,hr,pr=0,dr,vr=!1,mr=!1,gr,yr,br,wr,Er,Sr,xr,Tr,Nr=0,Cr=0,kr=0,Lr=0,Ar,Or="",Mr,_r={};jn(function(){A(In.value||""),gr=!1})();var Dr=new g;C(Xn,"mousedown",jn(U)),C(Xn,"dblclick",jn(z)),C(Qn,"selectstart",w),K||C(Xn,"contextmenu",kn),C(Xn,"scroll",function(){pr=Xn.scrollTop,Pt([]),In.fixedGutter&&(Jn.style.left=Xn.scrollLeft+"px"),In.onScroll&&In.onScroll(Br)}),C(window,"resize",function(){Pt(!0)}),C(Wn,"keyup",jn(ht)),C(Wn,"input",Ct),C(Wn,"keydown",jn(lt)),C(Wn,"keypress",jn(ct)),C(Wn,"focus",pt),C(Wn,"blur",dt);if(In.dragDrop){C(Qn,"dragstart",$);function Pr(e){if(In.onDragEvent&&In.onDragEvent(Br,b(e)))return;S(e)}C(Xn,"dragenter",Pr),C(Xn,"dragover",Pr),C(Xn,"drop",jn(W))}C(Xn,"paste",function(){At(),Ct()}),C(Wn,"paste",Ct),C(Wn,"cut",jn(function(){In.readOnly||Et("")})),nt&&C(Vn,"mouseup",function(){document.activeElement==Wn&&Wn.blur(),At()});var Hr;try{Hr=document.activeElement==Wn}catch(tr){}Hr||In.autofocus?setTimeout(pt,20):dt();var Br=Un.CodeMirror={getValue:B,setValue:jn(A),getSelection:Tt,replaceSelection:jn(Et),focus:function(){window.focus(),At(),pt(),Ct()},setOption:function(e,t){var n=In[e];In[e]=t,e=="mode"||e=="indentUnit"?en():e=="readOnly"&&t=="nocursor"?(dt(),Wn.blur()):e=="readOnly"&&!t?Lt(!0):e=="theme"?sn():e=="lineWrapping"&&n!=t?jn(nn)():e=="tabSize"&&Pt(!0);if(e=="lineNumbers"||e=="gutter"||e=="firstLineNumber"||e=="theme")tn(),Pt(!0)},getOption:function(e){return In[e]},undo:jn(gt),redo:jn(yt),indentLine:jn(function(e,t){typeof t!="string"&&(t==null?t=In.smartIndent?"smart":"prev":t=t?"add":"subtract"),y(e)&&Zt(e,t)}),indentSelection:jn(Yt),historySize:function(){return{undo:Dr.done.length,redo:Dr.undone.length}},clearHistory:function(){Dr=new g},matchBrackets:jn(function(){An(!0)}),getTokenAt:jn(function(e){return e=Xt(e),E(e.line).getTokenAt(sr,Mn(e.line),e.ch)}),getStateAfter:function(e){return e=Wt(e==null?or.size-1:e),Mn(e+1)},cursorCoords:function(e,t){return e==null&&(e=fr.inverted),this.charCoords(e?fr.from:fr.to,t)},charCoords:function(e,t){return e=Xt(e),t=="local"?bn(e,!1):t=="div"?bn(e,!0):En(e)},coordsChar:function(e){var t=O(Qn);return wn(e.x-t.left,e.y-t.top)},markText:jn(un),setBookmark:an,findMarksAt:fn,setMarker:jn(ln),clearMarker:jn(cn),setLineClass:jn(pn),hideLine:jn(function(e){return dn(e,!0)}),showLine:jn(function(e){return dn(e,!1)}),onDeleteLine:function(e,t){if(typeof e=="number"){if(!y(e))return null;e=E(e)}return(e.handlers||(e.handlers=[])).push(t),e},lineInfo:vn,addWidget:function(e,t,n,r,i){e=bn(Xt(e));var s=e.yBot,o=e.x;t.style.position="absolute",Vn.appendChild(t);if(r=="over")s=e.y;else if(r=="near"){var u=Math.max(Xn.offsetHeight,or.height*Sn()),a=Math.max(Vn.clientWidth,Qn.clientWidth)-Nn();e.yBot+t.offsetHeight>u&&e.y>t.offsetHeight&&(s=e.y-t.offsetHeight),o+t.offsetWidth>a&&(o=a-t.offsetWidth)}t.style.top=s+Tn()+"px",t.style.left=t.style.right="",i=="right"?(o=Vn.clientWidth-t.offsetWidth,t.style.right="0px"):(i=="left"?o=0:i=="middle"&&(o=(Vn.clientWidth-t.offsetWidth)/2),t.style.left=o+Nn()+"px"),n&&_t(o,s,o+t.offsetWidth,s+t.offsetHeight)},lineCount:function(){return or.size},clipPos:Xt,getCursor:function(e){return e==null&&(e=fr.inverted),H(e?fr.from:fr.to)},somethingSelected:function(){return!D(fr.from,fr.to)},setCursor:jn(function(e,t,n){t==null&&typeof e.line=="number"?zt(e.line,e.ch,n):zt(e,t,n)}),setSelection:jn(function(e,t,n){(n?qt:Rt)(Xt(e),Xt(t||e))}),getLine:function(e){if(y(e))return E(e).text},getLineHandle:function(e){if(y(e))return E(e)},setLine:jn(function(e,t){y(e)&&wt(t,{line:e,ch:0},{line:e,ch:E(e).text.length})}),removeLine:jn(function(e){y(e)&&wt("",{line:e,ch:0},Xt({line:e+1,ch:0}))}),replaceRange:jn(wt),getRange:function(e,t){return xt(Xt(e),Xt(t))},triggerOnKeyDown:jn(lt),execCommand:function(e){return V[e](Br)},moveH:jn($t),deleteH:jn(Jt),moveV:jn(Kt),toggleOverwrite:function(){vr?(vr=!1,Yn.className=Yn.className.replace(" CodeMirror-overwrite","")):(vr=!0,Yn.className+=" CodeMirror-overwrite")},posFromIndex:function(e){var t=0,n;return or.iter(0,or.size,function(r){var i=r.text.length+1;if(i>e)return n=e,!0;e-=i,++t}),Xt({line:t,ch:n})},indexFromPos:function(e){if(e.line<0||e.ch<0)return 0;var t=e.ch;return or.iter(0,e.line,function(e){t+=e.text.length+1}),t},scrollTo:function(e,t){e!=null&&(Xn.scrollLeft=e),t!=null&&(Xn.scrollTop=t),Pt([])},operation:function(e){return jn(e)()},compoundChange:function(e){return Fn(e)},refresh:function(){Pt(!0),Xn.scrollHeight>pr&&(Xn.scrollTop=pr)},getInputField:function(){return Wn},getWrapperElement:function(){return Un},getScrollerElement:function(){return Xn},getGutterElement:function(){return Jn}},jr=null,Fr,Ir=!1,qr="",Rr=null;on.prototype.clear=jn(function(){var e=Infinity,t=-Infinity;for(var n=0,r=this.set.length;n<r;++n){var i=this.set[n],s=i.marked;if(!s||!i.parent)continue;var o=d(i);e=Math.min(e,o),t=Math.max(t,o);for(var u=0;u<s.length;++u)s[u].marker==this&&s.splice(u--,1)}e!=Infinity&&br.push({from:e,to:t+1})}),on.prototype.find=function(){var e,t;for(var n=0,r=this.set.length;n<r;++n){var i=this.set[n],s=i.marked;for(var o=0;o<s.length;++o){var u=s[o];if(u.marker==this)if(u.from!=null||u.to!=null){var a=d(i);a!=null&&(u.from!=null&&(e={line:a,ch:u.from}),u.to!=null&&(t={line:a,ch:u.to}))}}}return{from:e,to:t}};var Ur="CodeMirror-temp-"+Math.floor(Math.random()*16777215).toString(16),zr,Wr,Xr,Vr,$r=0,Jr={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Kr=0;for(var Qr in X)X.propertyIsEnumerable(Qr)&&!Br.propertyIsEnumerable(Qr)&&(Br[Qr]=X[Qr]);return Br}function t(e){return typeof e=="string"?$[e]:e}function n(e,n,r,i,s){function o(n){n=t(n);var r=n[e];if(r!=null&&i(r))return!0;if(n.nofallthrough)return s&&s(),!0;var u=n.fallthrough;if(u==null)return!1;if(Object.prototype.toString.call(u)!="[object Array]")return o(u);for(var a=0,f=u.length;a<f;++a)if(o(u[a]))return!0;return!1}return n&&o(n)?!0:o(r)}function r(e){var t=ft[N(e,"keyCode")];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function i(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function s(e,t,n){return e.startState?e.startState(t,n):!0}function o(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8}function u(e,t,n,r){this.from=e,this.to=t,this.style=n,this.marker=r}function a(e){this.from=e,this.to=e,this.line=null}function f(e,t){this.styles=t||[e,null],this.text=e,this.height=1,this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null,this.stateAfter=this.parent=this.hidden=null}function l(e,t,n,r){for(var i=0,s=0,o=0;s<t;i+=2){var u=n[i],a=s+u.length;o==0?(a>e&&r.push(u.slice(e-s,Math.min(u.length,t-s)),n[i+1]),a>=e&&(o=1)):o==1&&(a>t?r.push(u.slice(0,t-s),n[i+1]):r.push(u,n[i+1])),s=a}}function c(e){this.lines=e,this.parent=null;for(var t=0,n=e.length,r=0;t<n;++t)e[t].parent=this,r+=e[t].height;this.height=r}function h(e){this.children=e;var t=0,n=0;for(var r=0,i=e.length;r<i;++r){var s=e[r];t+=s.chunkSize(),n+=s.height,s.parent=this}this.size=t,this.height=n,this.parent=null}function p(e,t){while(!e.lines)for(var n=0;;++n){var r=e.children[n],i=r.chunkSize();if(t<i){e=r;break}t-=i}return e.lines[t]}function d(e){if(e.parent==null)return null;var t=e.parent,n=F(t.lines,e);for(var r=t.parent;r;t=r,r=r.parent)for(var i=0,s=r.children.length;;++i){if(r.children[i]==t)break;n+=r.children[i].chunkSize()}return n}function v(e,t){var n=0;e:do{for(var r=0,i=e.children.length;r<i;++r){var s=e.children[r],o=s.height;if(t<o){e=s;continue e}t-=o,n+=s.chunkSize()}return n}while(!e.lines);for(var r=0,i=e.lines.length;r<i;++r){var u=e.lines[r],a=u.height;if(t<a)break;t-=a}return n+r}function m(e,t){var n=0;e:do{for(var r=0,i=e.children.length;r<i;++r){var s=e.children[r],o=s.chunkSize();if(t<o){e=s;continue e}t-=o,n+=s.height}return n}while(!e.lines);for(var r=0;r<t;++r)n+=e.lines[r].height;return n}function g(){this.time=0,this.done=[],this.undone=[],this.compound=0,this.closed=!1}function y(){S(this)}function b(e){return e.stop||(e.stop=y),e}function w(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function E(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function S(e){w(e),E(e)}function x(e){return e.target||e.srcElement}function T(e){if(e.which)return e.which;if(e.button&1)return 1;if(e.button&2)return 3;if(e.button&4)return 2}function N(e,t){var n=e.override&&e.override.hasOwnProperty(t);return n?e.override[t]:e[t]}function C(e,t,n,r){if(typeof e.addEventListener=="function"){e.addEventListener(t,n,!1);if(r)return function(){e.removeEventListener(t,n,!1)}}else{var i=function(e){n(e||window.event)};e.attachEvent("on"+t,i);if(r)return function(){e.detachEvent("on"+t,i)}}}function k(){this.id=null}function L(e,t,n){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var r=0,i=0;r<t;++r)e.charAt(r)=="	"?i+=n-i%n:++i;return i}function A(e){return e.currentStyle?e.currentStyle:window.getComputedStyle(e,null)}function O(e,t){var n=e.ownerDocument.body,r=0,i=0,s=!1;for(var o=e;o;o=o.offsetParent){var u=o.offsetLeft,a=o.offsetTop;o==n?(r+=Math.abs(u),i+=Math.abs(a)):(r+=u,i+=a),t&&A(o).position=="fixed"&&(s=!0)}var f=t&&!s?null:n;for(var o=e.parentNode;o!=f;o=o.parentNode)o.scrollLeft!=null&&(r-=o.scrollLeft,i-=o.scrollTop);return{left:r,top:i}}function M(e){return e.textContent||e.innerText||e.nodeValue||""}function _(e){q?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function D(e,t){return e.line==t.line&&e.ch==t.ch}function P(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function H(e){return{line:e.line,ch:e.ch}}function B(e){return ot.textContent=e,ot.innerHTML}function j(e,t){if(!t)return 0;if(!e)return t.length;for(var n=e.length,r=t.length;n>=0&&r>=0;--n,--r)if(e.charAt(n)!=t.charAt(r))break;return r+1}function F(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function I(e){return/\w/.test(e)||e.toUpperCase()!=e.toLowerCase()}e.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null};var q=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),R=q||/Mac/.test(navigator.platform),U=/Win/.test(navigator.platform),z=e.modes={},W=e.mimeModes={};e.defineMode=function(t,n){!e.defaults.mode&&t!="null"&&(e.defaults.mode=t);if(arguments.length>2){n.dependencies=[];for(var r=2;r<arguments.length;++r)n.dependencies.push(arguments[r])}z[t]=n},e.defineMIME=function(e,t){W[e]=t},e.resolveMode=function(t){if(typeof t=="string"&&W.hasOwnProperty(t))t=W[t];else if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return typeof t=="string"?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=z[n.name];return r?r(t,n):e.getMode(t,"text/plain")},e.listModes=function(){var e=[];for(var t in z)z.propertyIsEnumerable(t)&&e.push(t);return e},e.listMIMEs=function(){var e=[];for(var t in W)W.propertyIsEnumerable(t)&&e.push({mime:t,mode:W[t]});return e};var X=e.extensions={};e.defineExtension=function(e,t){X[e]=t};var V=e.commands={selectAll:function(e){e.setSelection({line:0,ch:0},{line:e.lineCount()-1})},killLine:function(e){var t=e.getCursor(!0),n=e.getCursor(!1),r=!D(t,n);!r&&e.getLine(t.line).length==t.ch?e.replaceRange("",t,{line:t.line+1,ch:0}):e.replaceRange("",t,r?n:{line:t.line})},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",{line:t,ch:0},{line:t})},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.setCursor(0,0,!0)},goDocEnd:function(e){e.setSelection({line:e.lineCount()-1},null,!0)},goLineStart:function(e){e.setCursor(e.getCursor().line,0,!0)},goLineStartSmart:function(e){var t=e.getCursor(),n=e.getLine(t.line),r=Math.max(0,n.search(/\S/));e.setCursor(t.line,t.ch<=r&&t.ch?0:r,!0)},goLineEnd:function(e){e.setSelection({line:e.getCursor().line},null,!0)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharLeft:function(e){e.deleteH(-1,"char")},delCharRight:function(e){e.deleteH(1,"char")},delWordLeft:function(e){e.deleteH(-1,"word")},delWordRight:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end")},transposeChars:function(e){var t=e.getCursor(),n=e.getLine(t.line);t.ch>0&&t.ch<n.length-1&&e.replaceRange(n.charAt(t.ch)+n.charAt(t.ch-1),{line:t.line,ch:t.ch-1},{line:t.line,ch:t.ch+1})},newlineAndIndent:function(e){e.replaceSelection("\n","end"),e.indentLine(e.getCursor().line)},toggleOverwrite:function(e){e.toggleOverwrite()}},$=e.keyMap={};$.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"insertTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},$.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},$.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},$["default"]=R?$.macDefault:$.pcDefault,$.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.fromTextArea=function(t,n){function r(){t.value=u.getValue()}n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),n.autofocus==null&&t.getAttribute("autofocus")!=null&&(n.autofocus=!0);if(t.form){var i=C(t.form,"submit",r,!0);if(typeof t.form.submit=="function"){var s=t.form.submit;function o(){r(),t.form.submit=s,t.form.submit(),t.form.submit=o}t.form.submit=o}}t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return u.save=r,u.getTextArea=function(){return t},u.toTextArea=function(){r(),t.parentNode.removeChild(u.getWrapperElement()),t.style.display="",t.form&&(i(),typeof t.form.submit=="function"&&(t.form.submit=s))},u},e.copyState=i,e.startState=s,o.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if(typeof e=="string")var n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){var t=this.pos;while(this.eat(e));return this.pos>t},eatSpace:function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return L(this.string,this.start,this.tabSize)},indentation:function(){return L(this.string,null,this.tabSize)},match:function(e,t,n){function i(e){return n?e.toLowerCase():e}if(typeof e!="string"){var r=this.string.slice(this.pos).match(e);return r&&t!==!1&&(this.pos+=r[0].length),r}if(i(this.string).indexOf(i(e),this.pos)==this.pos)return t!==!1&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=o,u.prototype={attach:function(e){this.marker.set.push(e)},detach:function(e){var t=F(this.marker.set,e);t>-1&&this.marker.set.splice(t,1)},split:function(e,t){if(this.to<=e&&this.to!=null)return null;var n=this.from<e||this.from==null?null:this.from-e+t,r=this.to==null?null:this.to-e+t;return new u(n,r,this.style,this.marker)},dup:function(){return new u(null,null,this.style,this.marker)},clipTo:function(e,t,n,r,i){e&&r>this.from&&(r<this.to||this.to==null)?this.from=null:this.from!=null&&this.from>=t&&(this.from=Math.max(r,this.from)+i),n&&(t<this.to||this.to==null)&&(t>this.from||this.from==null)?this.to=null:this.to!=null&&this.to>t&&(this.to=r<this.to?this.to+i:t)},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(e){return this.marker==e.marker}},a.prototype={attach:function(e){this.line=e},detach:function(e){this.line==e&&(this.line=null)},split:function(e,t){if(e<this.from)return this.from=this.to=this.from-e+t,this},isDead:function(){return this.from>this.to},clipTo:function(e,t,n,r,i){(e||t<this.from)&&(n||r>this.to)?(this.from=0,this.to=-1):this.from>t&&(this.from=this.to=Math.max(r,this.from)+i)},sameSet:function(e){return!1},find:function(){return!this.line||!this.line.parent?null:{line:d(this.line),ch:this.from}},clear:function(){if(this.line){var e=F(this.line.marked,this);e!=-1&&this.line.marked.splice(e,1),this.line=null}}},f.inheritMarks=function(e,t){var n=new f(e),r=t&&t.marked;if(r)for(var i=0;i<r.length;++i)if(r[i].to==null&&r[i].style){var s=n.marked||(n.marked=[]),o=r[i],u=o.dup();s.push(u),u.attach(n)}return n},f.prototype={replace:function(e,t,n){var r=[],i=this.marked,s=t==null?this.text.length:t;l(0,e,this.styles,r),n&&r.push(n,null),l(s,this.text.length,this.styles,r),this.styles=r,this.text=this.text.slice(0,e)+n+this.text.slice(s),this.stateAfter=null;if(i){var o=n.length-(s-e);for(var u=0;u<i.length;++u){var a=i[u];a.clipTo(e==null,e||0,t==null,s,o),a.isDead()&&(a.detach(this),i.splice(u--,1))}}},split:function(e,t){var n=[t,null],r=this.marked;l(e,this.text.length,this.styles,n);var i=new f(t+this.text.slice(e),n);if(r)for(var s=0;s<r.length;++s){var o=r[s],u=o.split(e,t.length);u&&(i.marked||(i.marked=[]),i.marked.push(u),u.attach(i),u==o&&r.splice(s--,1))}return i},append:function(e){var t=this.text.length,n=e.marked,r=this.marked;this.text+=e.text,l(0,e.text.length,e.styles,this.styles);if(r)for(var i=0;i<r.length;++i)r[i].to==null&&(r[i].to=t);if(n&&n.length){r||(this.marked=r=[]);e:for(var i=0;i<n.length;++i){var s=n[i];if(!s.from)for(var o=0;o<r.length;++o){var u=r[o];if(u.to==t&&u.sameSet(s)){u.to=s.to==null?null:s.to+t,u.isDead()&&(u.detach(this),n.splice(i--,1));continue e}}r.push(s),s.attach(this),s.from+=t,s.to!=null&&(s.to+=t)}}},fixMarkEnds:function(e){var t=this.marked,n=e.marked;if(!t)return;for(var r=0;r<t.length;++r){var i=t[r],s=i.to==null;if(s&&n)for(var o=0;o<n.length;++o)if(n[o].sameSet(i)){s=!1;break}s&&(i.to=this.text.length)}},fixMarkStarts:function(){var e=this.marked;if(!e)return;for(var t=0;t<e.length;++t)e[t].from==null&&(e[t].from=0)},addMark:function(e){e.attach(this),this.marked==null&&(this.marked=[]),this.marked.push(e),this.marked.sort(function(e,t){return(e.from||0)-(t.from||0)})},highlight:function(e,t,n){var r=new o(this.text,n),i=this.styles,s=0,u=!1,a=i[0],f;this.text==""&&e.blankLine&&e.blankLine(t);while(!r.eol()){var l=e.token(r,t),c=this.text.slice(r.start,r.pos);r.start=r.pos,s&&i[s-1]==l?i[s-2]+=c:c&&(!u&&(i[s+1]!=l||s&&i[s-2]!=f)&&(u=!0),i[s++]=c,i[s++]=l,f=a,a=i[s]);if(r.pos>5e3){i[s++]=this.text.slice(r.pos),i[s++]=null;break}}return i.length!=s&&(i.length=s,u=!0),s&&i[s-2]!=f&&(u=!0),u||(i.length<5&&this.text.length<10?null:!1)},getTokenAt:function(e,t,n){var r=this.text,i=new o(r);while(i.pos<n&&!i.eol()){i.start=i.pos;var s=e.token(i,t)}return{start:i.start,end:i.pos,string:i.current(),className:s||null,state:t}},indentation:function(e){return L(this.text,null,e)},getHTML:function(e,t,n,r){function i(t,n){if(!t)return;u&&Q&&t.charAt(0)==" "&&(t="Â "+t.slice(1)),u=!1;if(t.indexOf("	")==-1){a+=t.length;var r=B(t)}else{var r="";for(var i=0;;){var s=t.indexOf("	",i);if(s==-1){r+=B(t.slice(i)),a+=t.length-i;break}a+=s-i;var f=e(a);r+=B(t.slice(i,s))+f.html,a+=f.width,i=s+1}}n?o.push('<span class="',n,'">',r,"</span>"):o.push(r)}function s(e){return e?"cm-"+e.replace(/ +/g," cm-"):null}var o=[],u=!0,a=0,f=i;if(t!=null){var l=0,c='<span id="'+n+'">';f=function(e,n){var s=e.length;t>=l&&t<l+s?(t>l&&(i(e.slice(0,t-l),n),r&&o.push("<wbr>")),o.push(c),i(e.slice(t-l),n),o.push("</span>"),t--,l+=s):(l+=s,i(e,n),l==t&&l==v?o.push(c+"</span>"):l>t+10&&/\s/.test(e)&&(f=function(){}))}}var h=this.styles,p=this.text,d=this.marked,v=p.length;if(!p&&t==null)f(" ");else if(!d||!d.length)for(var m=0,g=0;g<v;m+=2){var y=h[m],b=h[m+1],w=y.length;g+w>v&&(y=y.slice(0,v-g)),g+=w,f(y,s(b))}else{var E=0,m=0,S="",b,x=0,T=d[0].from||0,N=[],C=0;function k(){var e;while(C<d.length&&((e=d[C]).from==E||e.from==null))e.style!=null&&N.push(e),++C;T=C<d.length?d[C].from:Infinity;for(var t=0;t<N.length;++t){var n=N[t].to||Infinity;n==E?N.splice(t--,1):T=Math.min(n,T)}}var L=0;while(E<v){T==E&&k();var A=Math.min(v,T);for(;;){if(S){var O=E+S.length,M=b;for(var _=0;_<N.length;++_)M=(M?M+" ":"")+N[_].style;f(O>A?S.slice(0,A-E):S,M);if(O>=A){S=S.slice(A-E),E=A;break}E=O}S=h[m++],b=s(h[m++])}}}return o.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var e=0,t=this.marked.length;e<t;++e)this.marked[e].detach(this)}},c.prototype={chunkSize:function(){return this.lines.length},remove:function(e,t,n){for(var r=e,i=e+t;r<i;++r){var s=this.lines[r];this.height-=s.height,s.cleanUp();if(s.handlers)for(var o=0;o<s.handlers.length;++o)n.push(s.handlers[o])}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertHeight:function(e,t,n){this.height+=n,Q?this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e)):this.lines.splice.apply(this.lines,[e,0].concat(t));for(var r=0,i=t.length;r<i;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},h.prototype={chunkSize:function(){return this.size},remove:function(e,t,n){this.size-=t;for(var r=0;r<this.children.length;++r){var i=this.children[r],s=i.chunkSize();if(e<s){var o=Math.min(t,s-e),u=i.height;i.remove(e,o,n),this.height-=u-i.height,s==o&&(this.children.splice(r--,1),i.parent=null);if((t-=o)==0)break;e=0}else e-=s}if(this.size-t<25){var a=[];this.collapse(a),this.children=[new c(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0,n=this.children.length;t<n;++t)this.children[t].collapse(e)},insert:function(e,t){var n=0;for(var r=0,i=t.length;r<i;++r)n+=t[r].height;this.insertHeight(e,t,n)},insertHeight:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0,i=this.children.length;r<i;++r){var s=this.children[r],o=s.chunkSize();if(e<=o){s.insertHeight(e,t,n);if(s.lines&&s.lines.length>50){while(s.lines.length>50){var u=s.lines.splice(s.lines.length-25,25),a=new c(u);s.height-=a.height,this.children.splice(r+1,0,a),a.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(this.children.length<=10)return;var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new h(t);if(!e.parent){var r=new h(e.children);r.parent=e,e.children=[r,n],e=r}else{e.size-=n.size,e.height-=n.height;var i=F(e.parent.children,e);e.parent.children.splice(i+1,0,n)}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iter:function(e,t,n){this.iterN(e,t-e,n)},iterN:function(e,t,n){for(var r=0,i=this.children.length;r<i;++r){var s=this.children[r],o=s.chunkSize();if(e<o){var u=Math.min(t,o-e);if(s.iterN(e,u,n))return!0;if((t-=u)==0)break;e=0}else e-=o}}},g.prototype={addChange:function(e,t,n){this.undone.length=0;var r=+(new Date),i=this.done[this.done.length-1],s=i&&i[i.length-1],o=r-this.time;if(this.compound&&i&&!this.closed)i.push({start:e,added:t,old:n});else if(o>400||!s||this.closed||s.start>e+n.length||s.start+s.added<e)this.done.push([{start:e,added:t,old:n}]),this.closed=!1;else{var u=Math.max(0,s.start-e),a=Math.max(0,e+n.length-(s.start+s.added));for(var f=u;f>0;--f)s.old.unshift(n[f-1]);for(var f=a;f>0;--f)s.old.push(n[n.length-f]);u&&(s.start=e),s.added+=t-(n.length-u-a)}this.time=r},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}},e.e_stop=S,e.e_preventDefault=w,e.e_stopPropagation=E,e.connect=C,k.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}};var J=e.Pass={toString:function(){return"CodeMirror.Pass"}},K=/gecko\/\d{7}/i.test(navigator.userAgent),Q=/MSIE \d/.test(navigator.userAgent),G=/MSIE [1-8]\b/.test(navigator.userAgent),Y=Q&&document.documentMode==5,Z=/WebKit\//.test(navigator.userAgent),et=/Chrome\//.test(navigator.userAgent),tt=/Apple Computer/.test(navigator.vendor),nt=/KHTML\//.test(navigator.userAgent),rt=function(){if(G)return!1;var e=document.createElement("div");return"draggable"in e||"dragDrop"in e}(),it=function(){var e=document.createElement("textarea");return e.value="foo\nbar",e.value.indexOf("\r")>-1?"\r\n":"\n"}(),st=/^$/;K?st=/$'/:tt?st=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:et&&(st=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/),document.documentElement.getBoundingClientRect!=null&&(O=function(e,t){try{var n=e.getBoundingClientRect();n={top:n.top,left:n.left}}catch(r){n={top:0,left:0}}if(!t)if(window.pageYOffset==null){var i=document.documentElement||document.body.parentNode;i.scrollTop==null&&(i=document.body),n.top+=i.scrollTop,n.left+=i.scrollLeft}else n.top+=window.pageYOffset,n.left+=window.pageXOffset;return n});var ot=document.createElement("pre");B("a")=="\na"?B=function(e){return ot.textContent=e,ot.innerHTML.slice(1)}:B("	")!="	"&&(B=function(e){return ot.innerHTML="",ot.appendChild(document.createTextNode(e)),ot.innerHTML}),e.htmlEscape=B;var ut="\n\nb".split(/\n/).length!=3?function(e){var t=0,n,r=[];while((n=e.indexOf("\n",t))>-1)r.push(e.slice(t,e.charAt(n-1)=="\r"?n-1:n)),t=n+1;return r.push(e.slice(t)),r}:function(e){return e.split(/\r?\n/)};e.splitLines=ut;var at=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0};e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var ft={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return e.keyNames=ft,function(){for(var e=0;e<10;e++)ft[e+48]=String(e);for(var e=65;e<=90;e++)ft[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)ft[e+111]=ft[e+63235]="F"+e}(),e}();CodeMirror.defineMode("htmlembedded",function(e,t){function n(e,t){return e.match(i,!1)?(t.token=r,o.token(e,t.scriptState)):u.token(e,t.htmlState)}function r(e,t){return e.match(s,!1)?(t.token=n,u.token(e,t.htmlState)):o.token(e,t.scriptState)}var i=t.scriptStartRegex||/^<%/i,s=t.scriptEndRegex||/^%>/i,o,u;return{startState:function(){return o=o||CodeMirror.getMode(e,t.scriptingModeSpec),u=u||CodeMirror.getMode(e,"htmlmixed"),{token:t.startOpen?r:n,htmlState:u.startState(),scriptState:o.startState()}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return e.token==n?u.indent(e.htmlState,t):o.indent(e.scriptState,t)},copyState:function(e){return{token:e.token,htmlState:CodeMirror.copyState(u,e.htmlState),scriptState:CodeMirror.copyState(o,e.scriptState)}},electricChars:"/{}:"}},"htmlmixed"),CodeMirror.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),CodeMirror.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),CodeMirror.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),CodeMirror.defineMode("htmlmixed",function(e,t){function n(e,t){var n=o.token(e,t.htmlState);return n=="tag"&&e.current()==">"&&t.htmlState.context&&(/^script$/i.test(t.htmlState.context.tagName)?(t.token=i,t.localState=u.startState(o.indent(t.htmlState,"")),t.mode="javascript"):/^style$/i.test(t.htmlState.context.tagName)&&(t.token=s,t.localState=a.startState(o.indent(t.htmlState,"")),t.mode="css")),n}function r(e,t,n){var r=e.current(),i=r.search(t);return i>-1&&e.backUp(r.length-i),n}function i(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=n,t.localState=null,t.mode="html",n(e,t)):r(e,/<\/\s*script\s*>/,u.token(e,t.localState))}function s(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=n,t.localState=null,t.mode="html",n(e,t)):r(e,/<\/\s*style\s*>/,a.token(e,t.localState))}var o=CodeMirror.getMode(e,{name:"xml",htmlMode:!0}),u=CodeMirror.getMode(e,"javascript"),a=CodeMirror.getMode(e,"css");return{startState:function(){var e=o.startState();return{token:n,localState:null,mode:"html",htmlState:e}},copyState:function(e){if(e.localState)var t=CodeMirror.copyState(e.token==s?a:u,e.localState);return{token:e.token,localState:t,mode:e.mode,htmlState:CodeMirror.copyState(o,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return e.token==n||/^\s*<\//.test(t)?o.indent(e.htmlState,t):e.token==i?u.indent(e.localState,t):a.indent(e.localState,t)},compareStates:function(e,t){return e.mode!=t.mode?!1:e.localState?CodeMirror.Pass:o.compareStates(e.htmlState,t.htmlState)},electricChars:"/{}:"}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed"),CodeMirror.defineMode("javascript",function(e,t){function n(e,t,n){return t.tokenize=n,n(e,t)}function r(e,t){var n=!1,r;while((r=e.next())!=null){if(r==t&&!n)return!1;n=!n&&r=="\\"}return n}function i(e,t,n){return q=e,R=n,t}function s(e,t){var s=e.next();if(s=='"'||s=="'")return n(e,t,o(s));if(/[\[\]{}\(\),;\:\.]/.test(s))return i(s);if(s=="0"&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(s))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if(s=="/")return e.eat("*")?n(e,t,u):e.eat("/")?(e.skipToEnd(),i("comment","comment")):t.reAllowed?(r(e,"/"),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(I),i("operator",null,e.current()));if(s=="#")return e.skipToEnd(),i("error","error");if(I.test(s))return e.eatWhile(I),i("operator",null,e.current());e.eatWhile(/[\w\$_]/);var a=e.current(),f=F.propertyIsEnumerable(a)&&F[a];return f&&t.kwAllowed?i(f.type,f.style,a):i("variable","variable",a)}function o(e){return function(t,n){return r(t,e)||(n.tokenize=s),i("string","string")}}function u(e,t){var n=!1,r;while(r=e.next()){if(r=="/"&&n){t.tokenize=s;break}n=r=="*"}return i("comment","comment")}function a(e,t,n,r,i,s){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=s,r!=null&&(this.align=r)}function f(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0}function l(e,t,n,r,i){var s=e.cc;z.state=e,z.stream=i,z.marked=null,z.cc=s,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;){var o=s.length?s.pop():j?w:b;if(o(n,r)){while(s.length&&s[s.length-1].lex)s.pop()();return z.marked?z.marked:n=="variable"&&f(e,r)?"variable-2":t}}}function c(){for(var e=arguments.length-1;e>=0;e--)z.cc.push(arguments[e])}function h(){return c.apply(null,arguments),!0}function p(e){var t=z.state;if(t.context){z.marked="def";for(var n=t.localVars;n;n=n.next)if(n.name==e)return;t.localVars={name:e,next:t.localVars}}}function d(){z.state.context||(z.state.localVars=W),z.state.context={prev:z.state.context,vars:z.state.localVars}}function v(){z.state.localVars=z.state.context.vars,z.state.context=z.state.context.prev}function m(e,t){var n=function(){var n=z.state;n.lexical=new a(n.indented,z.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function g(){var e=z.state;e.lexical.prev&&(e.lexical.type==")"&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function y(e){return function(t){return t==e?h():e==";"?c():h(arguments.callee)}}function b(e){return e=="var"?h(m("vardef"),L,y(";"),g):e=="keyword a"?h(m("form"),w,b,g):e=="keyword b"?h(m("form"),b,g):e=="{"?h(m("}"),k,g):e==";"?h():e=="function"?h(P):e=="for"?h(m("form"),y("("),m(")"),O,y(")"),g,b,g):e=="variable"?h(m("stat"),x):e=="switch"?h(m("form"),w,m("}","switch"),y("{"),k,g,g):e=="case"?h(w,y(":")):e=="default"?h(y(":")):e=="catch"?h(m("form"),d,y("("),H,y(")"),b,g,v):c(m("stat"),w,y(";"),g)}function w(e){return U.hasOwnProperty(e)?h(S):e=="function"?h(P):e=="keyword c"?h(E):e=="("?h(m(")"),E,y(")"),g,S):e=="operator"?h(w):e=="["?h(m("]"),C(w,"]"),g,S):e=="{"?h(m("}"),C(N,"}"),g,S):h()}function E(e){return e.match(/[;\}\)\],]/)?c():c(w)}function S(e,t){if(e=="operator"&&/\+\+|--/.test(t))return h(S);if(e=="operator"||e==":")return h(w);if(e==";")return;if(e=="(")return h(m(")"),C(w,")"),g,S);if(e==".")return h(T,S);if(e=="[")return h(m("]"),w,y("]"),g,S)}function x(e){return e==":"?h(g,b):c(S,y(";"),g)}function T(e){if(e=="variable")return z.marked="property",h()}function N(e){e=="variable"&&(z.marked="property");if(U.hasOwnProperty(e))return h(y(":"),w)}function C(e,t){function n(r){return r==","?h(e,n):r==t?h():h(y(t))}return function(r){return r==t?h():c(e,n)}}function k(e){return e=="}"?h():c(b,k)}function L(e,t){return e=="variable"?(p(t),h(A)):h()}function A(e,t){if(t=="=")return h(w,A);if(e==",")return h(L)}function O(e){return e=="var"?h(L,_):e==";"?c(_):e=="variable"?h(M):c(_)}function M(e,t){return t=="in"?h(w):h(S,_)}function _(e,t){return e==";"?h(D):t=="in"?h(w):h(w,y(";"),D)}function D(e){e!=")"&&h(w)}function P(e,t){if(e=="variable")return p(t),h(P);if(e=="(")return h(m(")"),d,C(H,")"),g,b,v)}function H(e,t){if(e=="variable")return p(t),h()}var B=e.indentUnit,j=t.json,F=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),s={type:"atom",style:"atom"};return{"if":t,"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":s,"false":s,"null":s,"undefined":s,NaN:s,Infinity:s}}(),I=/[+\-*&%=<>!?|]/,q,R,U={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},z={state:null,column:null,marked:null,cc:null},W={name:"this",next:{name:"arguments"}};return g.lex=!0,{startState:function(e){return{tokenize:s,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new a((e||0)-B,0,"block",!1),localVars:t.localVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation());if(e.eatSpace())return null;var n=t.tokenize(e,t);return q=="comment"?n:(t.reAllowed=q=="operator"||q=="keyword c"||!!q.match(/^[\[{}\(,;:]$/),t.kwAllowed=q!=".",l(t,n,q,R,e))},indent:function(e,t){if(e.tokenize!=s)return 0;var n=t&&t.charAt(0),r=e.lexical;r.type=="stat"&&n=="}"&&(r=r.prev);var i=r.type,o=n==i;return i=="vardef"?r.indented+4:i=="form"&&n=="{"?r.indented:i=="stat"||i=="form"?r.indented+B:r.info=="switch"&&!o?r.indented+(/^(?:case|default)\b/.test(t)?B:2*B):r.align?r.column+(o?0:1):r.indented+(o?0:B)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMode("markdown",function(e,t){function n(e,t,n){return t.f=t.inline=n,n(e,t)}function r(e,t,n){return t.f=t.block=n,n(e,t)}function i(e){return e.em=!1,e.strong=!1,null}function s(e,t){var r;if(t.indentationDiff>=4)return t.indentation-=t.indentationDiff,e.skipToEnd(),y;if(e.eatSpace())return null;if(e.peek()==="#"||e.match(O))t.header=!0;else if(e.eat(">"))t.indentation++,t.quote=!0;else{if(e.peek()==="[")return n(e,t,h);if(e.match(k,!0))return E;if(r=e.match(L,!0)||e.match(A,!0))return t.indentation+=r[0].length,w}return n(e,t,t.inline)}function o(e,t){var n=m.token(e,t.htmlState);return n==="tag"&&t.htmlState.type!=="openTag"&&!t.htmlState.context&&(t.f=f,t.block=s),n}function u(e){var t=[];return e.strong?t.push(e.em?C:N):e.em&&t.push(T),e.header&&t.push(g),e.quote&&t.push(b),t.length?t.join(" "):null}function a(e,t){return e.match(M,!0)?u(t):undefined}function f(e,t){var i=t.text(e,t);if(typeof i!="undefined")return i;var s=e.next();if(s==="\\")return e.next(),u(t);if(s==="`")return n(e,t,v(y,"`"));if(s==="[")return n(e,t,l);if(s==="<"&&e.match(/^\w/,!1))return e.backUp(1),r(e,t,o);var a=u(t);return s==="*"||s==="_"?e.eat(s)?(t.strong=!t.strong)?u(t):a:(t.em=!t.em)?u(t):a:u(t)}function l(e,t){while(!e.eol()){var n=e.next();n==="\\"&&e.next();if(n==="]")return t.inline=t.f=c,S}return S}function c(e,t){e.eatSpace();var r=e.next();return r==="("||r==="["?n(e,t,v(x,r==="("?")":"]")):"error"}function h(e,t){return e.match(/^[^\]]*\]:/,!0)?(t.f=p,S):n(e,t,f)}function p(e,t){return e.eatSpace(),e.match(/^[^\s]+/,!0),t.f=t.inline=f,x}function d(e){return d[e]||(d[e]=new RegExp("^(?:[^\\\\\\"+e+"]|\\\\.)*(?:\\"+e+"|$)")),d[e]}function v(e,t,n){return n=n||f,function(r,i){return r.match(d(t)),i.inline=i.f=n,e}}var m=CodeMirror.getMode(e,{name:"xml",htmlMode:!0}),g="header",y="comment",b="quote",w="string",E="hr",S="link",x="string",T="em",N="strong",C="emstrong",k=/^([*\-=_])(?:\s*\1){2,}\s*$/,L=/^[*\-+]\s+/,A=/^[0-9]+\.\s+/,O=/^(?:\={3,}|-{3,})$/,M=/^[^\[*_\\<>`]+/;return{startState:function(){return{f:s,block:s,htmlState:m.startState(),indentation:0,inline:f,text:a,em:!1,strong:!1,header:!1,quote:!1}},copyState:function(e){return{f:e.f,block:e.block,htmlState:CodeMirror.copyState(m,e.htmlState),indentation:e.indentation,inline:e.inline,text:e.text,em:e.em,strong:e.strong,header:e.header,quote:e.quote}},token:function(e,t){if(e.sol()){if(e.match(/^\s*$/,!0))return i(t);t.header=!1,t.quote=!1,t.f=t.block;var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;t.indentationDiff=n-t.indentation,t.indentation=n;if(n>0)return null}return t.f(e,t)},blankLine:i,getType:u}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown"),CodeMirror.defineMode("python",function(e,t){function n(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function r(e,t){if(e.sol()){var n=t.scopes[0].offset;if(e.eatSpace()){var r=e.indentation();return r>n?x="indent":r<n&&(x="dedent"),null}n>0&&o(e,t)}if(e.eatSpace())return null;var s=e.peek();if(s==="#")return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var u=!1;e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(u=!0),e.match(/^\d+\.\d*/)&&(u=!0),e.match(/^\.\d+/)&&(u=!0);if(u)return e.eat(/J/i),"number";var m=!1;e.match(/^0x[0-9a-f]+/i)&&(m=!0),e.match(/^0b[01]+/i)&&(m=!0),e.match(/^0o[0-7]+/i)&&(m=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),m=!0),e.match(/^0(?![\dx])/i)&&(m=!0);if(m)return e.eat(/L/i),"number"}return e.match(w)?(t.tokenize=i(e.current()),t.tokenize(e,t)):e.match(p)||e.match(h)?null:e.match(c)||e.match(f)||e.match(v)?"operator":e.match(l)?null:e.match(E)?"keyword":e.match(S)?"builtin":e.match(d)?"variable":(e.next(),a)}function i(e){while("rub".indexOf(e.charAt(0).toLowerCase())>=0)e=e.substr(1);var n=e.length==1,i="string";return function(s,o){while(!s.eol()){s.eatWhile(/[^'"\\]/);if(s.eat("\\")){s.next();if(n&&s.eol())return i}else{if(s.match(e))return o.tokenize=r,i;s.eat(/['"]/)}}if(n){if(t.singleLineStringErrors)return a;o.tokenize=r}return i}}function s(t,n,r){r=r||"py";var i=0;if(r==="py"){if(n.scopes[0].type!=="py"){n.scopes[0].offset=t.indentation();return}for(var s=0;s<n.scopes.length;++s)if(n.scopes[s].type==="py"){i=n.scopes[s].offset+e.indentUnit;break}}else i=t.column()+t.current().length;n.scopes.unshift({offset:i,type:r})}function o(e,t,n){n=n||"py";if(t.scopes.length==1)return;if(t.scopes[0].type==="py"){var r=e.indentation(),i=-1;for(var s=0;s<t.scopes.length;++s)if(r===t.scopes[s].offset){i=s;break}if(i===-1)return!0;while(t.scopes[0].offset!==r)t.scopes.shift();return!1}return n==="py"?(t.scopes[0].offset=e.indentation(),!1):t.scopes[0].type!=n?!0:(t.scopes.shift(),!1)}function u(e,t){x=null;var n=t.tokenize(e,t),r=e.current();if(r===".")return n=t.tokenize(e,t),r=e.current(),n==="variable"||n==="builtin"?"variable":a;if(r==="@")return n=t.tokenize(e,t),r=e.current(),n==="variable"||r==="@staticmethod"||r==="@classmethod"?"meta":a;if(r==="pass"||r==="return")t.dedent+=1;r==="lambda"&&(t.lambda=!0),(r===":"&&!t.lambda&&t.scopes[0].type=="py"||x==="indent")&&s(e,t);var i="[({".indexOf(r);return i!==-1&&s(e,t,"])}".slice(i,i+1)),x==="dedent"&&o(e,t)?a:(i="])}".indexOf(r),i!==-1&&o(e,t,r)?a:(t.dedent>0&&e.eol()&&t.scopes[0].type=="py"&&(t.scopes.length>1&&t.scopes.shift(),t.dedent-=1),n))}var a="error",f=new RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),l=new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),c=new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),h=new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),p=new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))"),d=new RegExp("^[_A-Za-z][_A-Za-z0-9]*"),v=n(["and","or","not","is","in"]),m=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield"],g=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],y={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},b={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None"]};if(!t.version||parseInt(t.version,10)!==3){m=m.concat(y.keywords),g=g.concat(y.builtins);var w=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}else{m=m.concat(b.keywords),g=g.concat(b.builtins);var w=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}var E=n(m),S=n(g),x=null,T={startState:function(e){return{tokenize:r,scopes:[{offset:e||0,type:"py"}],lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=u(e,t);return t.lastToken={style:n,content:e.current()},e.eol()&&e.lambda&&(t.lambda=!1),n},indent:function(e,t){return e.tokenize!=r?0:e.scopes[0].offset}};return T}),CodeMirror.defineMIME("text/x-python","python"),CodeMirror.defineMode("sparql",function(e){function t(e){return new RegExp("^(?:"+e.join("|")+")$","i")}function n(e,t){var n=e.next();u=null;if(n=="$"||n=="?")return e.match(/^[\w\d]*/),"variable-2";if(n=="<"&&!e.match(/^[\s\u00a0=]/,!1))return e.match(/^[^\s\u00a0>]*>?/),"atom";if(n=='"'||n=="'")return t.tokenize=r(n),t.tokenize(e,t);if(/[{}\(\),\.;\[\]]/.test(n))return u=n,null;if(n=="#")return e.skipToEnd(),"comment";if(l.test(n))return e.eatWhile(l),null;if(n==":")return e.eatWhile(/[\w\d\._\-]/),"atom";e.eatWhile(/[_\w\d]/);if(e.eat(":"))return e.eatWhile(/[\w\d_\-]/),"atom";var i=e.current(),s;return a.test(i)?null:f.test(i)?"keyword":"variable"}function r(e){return function(t,r){var i=!1,s;while((s=t.next())!=null){if(s==e&&!i){r.tokenize=n;break}i=!i&&s=="\\"}return"string"}}function i(e,t,n){e.context={prev:e.context,indent:e.indent,col:n,type:t}}function s(e){e.indent=e.context.indent,e.context=e.context.prev}var o=e.indentUnit,u,a=t(["str","lang","langmatches","datatype","bound","sameterm","isiri","isuri","isblank","isliteral","union","a"]),f=t(["base","prefix","select","distinct","reduced","construct","describe","ask","from","named","where","order","limit","offset","filter","optional","graph","by","asc","desc"]),l=/[*+\-<>=&|]/;return{startState:function(e){return{tokenize:n,context:null,indent:0,col:0}},token:function(e,t){e.sol()&&(t.context&&t.context.align==null&&(t.context.align=!1),t.indent=e.indentation());if(e.eatSpace())return null;var n=t.tokenize(e,t);n!="comment"&&t.context&&t.context.align==null&&t.context.type!="pattern"&&(t.context.align=!0);if(u=="(")i(t,")",e.column());else if(u=="[")i(t,"]",e.column());else if(u=="{")i(t,"}",e.column());else if(/[\]\}\)]/.test(u)){while(t.context&&t.context.type=="pattern")s(t);t.context&&u==t.context.type&&s(t)}else u=="."&&t.context&&t.context.type=="pattern"?s(t):/atom|string|variable/.test(n)&&t.context&&(/[\}\]]/.test(t.context.type)?i(t,"pattern",e.column()):t.context.type=="pattern"&&!t.context.align&&(t.context.align=!0,t.context.col=e.column()));return n},indent:function(e,t){var n=t&&t.charAt(0),r=e.context;if(/[\]\}]/.test(n))while(r&&r.type=="pattern")r=r.prev;var i=r&&n==r.type;return r?r.type=="pattern"?r.col:r.align?r.col+(i?0:1):r.indent+(i?0:o):0}}}),CodeMirror.defineMIME("application/x-sparql-query","sparql"),CodeMirror.defineMode("xml",function(e,t){function n(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if(i=="<"){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?n(s("atom","]]>")):null:e.match("--")?n(s("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(o(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=s("meta","?>"),"meta";x=e.eat("/")?"closeTag":"openTag",e.eatSpace(),S="";var u;while(u=e.eat(/[^\s\u00a0=<>\"\'\/?]/))S+=u;return t.tokenize=r,"tag"}if(i=="&"){var a;return e.eat("#")?e.eat("x")?a=e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):a=e.eatWhile(/[\d]/)&&e.eat(";"):a=e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),a?"atom":"error"}return e.eatWhile(/[^&<]/),null}function r(e,t){var r=e.next();return r==">"||r=="/"&&e.eat(">")?(t.tokenize=n,x=r==">"?"endTag":"selfcloseTag","tag"):r=="="?(x="equals",null):/[\'\"]/.test(r)?(t.tokenize=i(r),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function i(e){return function(t,n){while(!t.eol())if(t.next()==e){n.tokenize=r;break}return"string"}}function s(e,t){return function(r,i){while(!r.eol()){if(r.match(t)){i.tokenize=n;break}r.next()}return e}}function o(e){return function(t,r){var i;while((i=t.next())!=null){if(i=="<")return r.tokenize=o(e+1),r.tokenize(t,r);if(i==">"){if(e==1){r.tokenize=n;break}return r.tokenize=o(e-1),r.tokenize(t,r)}}return"meta"}}function u(){for(var e=arguments.length-1;e>=0;e--)T.cc.push(arguments[e])}function a(){return u.apply(null,arguments),!0}function f(e,t){var n=w.doNotIndent.hasOwnProperty(e)||T.context&&T.context.noIndent;T.context={prev:T.context,tagName:e,indent:T.indented,startOfLine:t,noIndent:n}}function l(){T.context&&(T.context=T.context.prev)}function c(e){if(e=="openTag")return T.tagName=S,a(v,h(T.startOfLine));if(e=="closeTag"){var t=!1;return T.context?T.context.tagName!=S&&(w.implicitlyClosed.hasOwnProperty(T.context.tagName.toLowerCase())&&l(),t=!T.context||T.context.tagName!=S):t=!0,t&&(N="error"),a(p(t))}return a()}function h(e){return function(t){return t=="selfcloseTag"||t=="endTag"&&w.autoSelfClosers.hasOwnProperty(T.tagName.toLowerCase())?(d(T.tagName.toLowerCase()),a()):t=="endTag"?(d(T.tagName.toLowerCase()),f(T.tagName,e),a()):a()}}function p(e){return function(t){return e&&(N="error"),t=="endTag"?(l(),a()):(N="error",a(arguments.callee))}}function d(e){var t;for(;;){if(!T.context)return;t=T.context.tagName.toLowerCase();if(!w.contextGrabbers.hasOwnProperty(t)||!w.contextGrabbers[t].hasOwnProperty(e))return;l()}}function v(e){return e=="word"?(N="attribute",a(m,v)):e=="endTag"||e=="selfcloseTag"?u():(N="error",a(v))}function m(e){return e=="equals"?a(g,v):(w.allowMissing||(N="error"),e=="endTag"||e=="selfcloseTag"?u():a())}function g(e){return e=="string"?a(y):e=="word"&&w.allowUnquoted?(N="string",a()):(N="error",e=="endTag"||e=="selfCloseTag"?u():a())}function y(e){return e=="string"?a(y):u()}var b=e.indentUnit,w=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!1}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},E=t.alignCDATA,S,x,T,N;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(e,t){e.sol()&&(t.startOfLine=!0,t.indented=e.indentation());if(e.eatSpace())return null;N=x=S=null;var n=t.tokenize(e,t);t.type=x;if((n||x)&&n!="comment"){T=t;for(;;){var r=t.cc.pop()||c;if(r(x||n))break}}return t.startOfLine=!1,N||n},indent:function(e,t,i){var s=e.context;if(e.tokenize!=r&&e.tokenize!=n||s&&s.noIndent)return i?i.match(/^(\s*)/)[0].length:0;if(E&&/<!\[CDATA\[/.test(t))return 0;s&&/^<\//.test(t)&&(s=s.prev);while(s&&!s.startOfLine)s=s.prev;return s?s.indent+b:0},compareStates:function(e,t){if(e.indented!=t.indented||e.tokenize!=t.tokenize)return!1;for(var n=e.context,r=t.context;;n=n.prev,r=r.prev){if(!n||!r)return n==r;if(n.tagName!=r.tagName)return!1}},electricChars:"/"}}),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),CodeMirror.tagRangeFinder=function(e,t,n){var r="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i=r+"-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",s=new RegExp("^["+r+"]["+i+"]*"),o=e.getLine(t),u=!1,a=null,f=0;while(!u){f=o.indexOf("<",f);if(-1==f)return;if(f+1<o.length&&o[f+1]=="/"){f++;continue}if(!o.substr(f+1).match(s)){f++;continue}var l=o.indexOf(">",f+1);if(-1==l){var c=t+1,h=!1,p=e.lineCount();while(c<p&&!h){var d=e.getLine(c),v=d.indexOf(">");if(-1!=v){h=!0;var m=d.lastIndexOf("/",v);if(-1!=m&&m<v){var g=o.substr(m,v-m+1);if(!g.match(/\/\s*\>/))return n===!0&&c++,c}}c++}u=!0}else{var y=o.lastIndexOf("/",l);if(-1==y)u=!0;else{var g=o.substr(y,l-y+1);g.match(/\/\s*\>/)||(u=!0)}}if(u){var b=o.substr(f+1);a=b.match(s),a?(a=a[0],-1!=o.indexOf("</"+a+">",f)&&(u=!1)):u=!1}u||f++}if(u){var w="(\\<\\/"+a+"\\>)|(\\<"+a+"\\>)|(\\<"+a+"\\s)|(\\<"+a+"$)",E=new RegExp(w,"g"),S="</"+a+">",x=1,c=t+1,p=e.lineCount();while(c<p){o=e.getLine(c);var T=o.match(E);if(T)for(var N=0;N<T.length;N++){T[N]==S?x--:x++;if(!x)return n===!0&&c++,c}c++}return}},CodeMirror.braceRangeFinder=function(e,t,n){var r=e.getLine(t),i=r.lastIndexOf("{");if(i<0||r.lastIndexOf("}")>i)return;var s=e.getTokenAt({line:t,ch:i}).className,o=1,u=e.lineCount(),a;e:for(var f=t+1;f<u;++f){var l=e.getLine(f),c=0;for(;;){var h=l.indexOf("{",c),p=l.indexOf("}",c);h<0&&(h=l.length),p<0&&(p=l.length),c=Math.min(h,p);if(c==l.length)break;if(e.getTokenAt({line:f,ch:c+1}).className==s)if(c==h)++o;else if(!--o){a=f;break e}++c}}if(a==null||a==t+1)return;return n===!0&&a++,a},CodeMirror.indentRangeFinder=function(e,t){var n=e.getOption("tabSize"),r=e.getLineHandle(t).indentation(n),i;for(var s=t+1,o=e.lineCount();s<o;++s){var u=e.getLineHandle(s);if(!/^\s*$/.test(u.text)){if(u.indentation(n)<=r)break;i=s}}return i?i+1:null},CodeMirror.newFoldFunction=function(e,t,n){function r(e,t){for(var n=0;n<s.length;++n){var r=e.lineInfo(s[n].start);if(!r)s.splice(n--,1);else if(r.line==t)return{pos:n,region:s[n]}}}function i(e,t){e.clearMarker(t.start);for(var n=0;n<t.hidden.length;++n)e.showLine(t.hidden[n])}var s=[];return t==null&&(t='<div style="position: absolute; left: 2px; color:#600">&#x25bc;</div>%N%'),function(o,u){o.operation(function(){var l=r(o,u);if(l)s.splice(l.pos,1),i(o,l.region);else{var p=e(o,u,n);if(p==null)return;var v=[];for(var m=u+1;m<p;++m){var y=o.hideLine(m);y&&v.push(y)}var w=o.setMarker(u,t),E={start:w,hidden:v};o.onDeleteLine(w,function(){i(o,E)}),s.push(E)}})}},define("codemirror",["jquery"],function(e){return function(){var t,n;return t||e.CodeMirror}}(this)),define("text",["module"],function(e){var t,n,r,i,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,a=typeof location!="undefined"&&location.href,f=a&&location.protocol&&location.protocol.replace(/\:/,""),l=a&&location.hostname,c=a&&(location.port||undefined),h={},p=e.config&&e.config()||{};t={version:"2.0.7",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(u);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:p.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=s[t];try{e=new ActiveXObject(n)}catch(r){}if(e){s=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,p.isBuild&&(h[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}p.isBuild=i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),h=p.useXhr||t.useXhr;!a||h(u,f,l,c)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(h.hasOwnProperty(n)){var s=t.jsEscape(h[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(p.env==="node"||!p.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node)n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("ï»¿")===0&&(i=i.substring(1)),t(i)}catch(s){r(s)}};else if(p.env==="xhr"||!p.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);p.onXhr&&p.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText),p.onXhrComplete&&p.onXhrComplete(s,e))},s.send(null)};else if(p.env==="rhino"||!p.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(p.env==="xpconnect"||!p.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),t.get=function(e,t){var n,s,o={},u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),s=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),s.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),o),s.close(),n.close(),t(o.value)}catch(a){throw new Error((u&&u.path||"")+": "+a)}};return t}),define("hbs",["text","handlebars"],function(e,t){var n={},r='define("{{pluginName}}!{{moduleName}}", ["handlebars"], function(handlebars) {return handlebars.template({{{fn}}})});',i,s=function(r,i,s,o){e.get(i.toUrl(r),function(e){o.isBuild?(n[r]=e,s()):s(t.compile(e))})},o=function(e,s,o){s in n&&(i||(i=t.compile(r)),o(i({pluginName:e,moduleName:s,fn:t.precompile(n[s])})))};return{load:s,write:o}}),define("hbs!tpl/tabs/devices.html",["handlebars"],function(e){return e.template(function(e,t,n,r,i){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,i=i||{},'<div class="map-container">\n  <div id="devices-map" class="map"></div>\n  <i class="map-top"></i>\n  <i class="map-right"></i>\n  <i class="map-bottom"></i>\n  <i class="map-left"></i>\n</div>\n\n<div class="left-panel">\n  <div id="device-header">\n      \n      <div class="suggestionGrouping">\n        \n      </div>\n      <div class="filterControls">\n        <h5 class="headerVisible">Select:</h5>\n        <ul class="chips">\n          <li class="chip"><span class="pure-button" action="selectAll">All</span></li>\n          <li class="chip"><span class="pure-button" action="selectNone">None</span></li>\n          <li class="chip"><span class="pure-button" action="selectAction">Take Action</span></li>\n        </ul>\n      </div>\n  </div>\n  <div class="device-list"><ul></li></div>\n</div>\n'})}),define("hbs!tpl/modals/app.new.html",["handlebars"],function(e){return e.template(function(e,t,n,r,i){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,i=i||{},'<div class="modal c1">\n	<div class="header">\n		<h3>Create a new app</h3>\n	</div>\n	<form id="form-c1" action="" class="pure-form">\n	  <fieldset>\n	    <div class="pure-control-group">\n          <label for="appid">App ID:</label>\n          <input type="text" name="appid" id="appid">\n      </div>\n    </fieldset>\n    <fieldset>\n	    <div class="pure-control-group">\n          <label for="name">App Name</label>\n          <input type="text" name="email" id="email">\n      </div>\n    </fieldset>\n    \n		<div class="clearfix" style="text-align: center;">\n      <button type="submit" class="pure-button pure-button-primary" data="submit-c1">Create App</button>\n    </div>\n	</form>\n</div>'})}),define("hbs!tpl/modals/devices.map.settings.html",["handlebars"],function(e){return e.template(function(e,t,n,r,i){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,i=i||{},'<div class="modal c3">\n	<div class="header">\n		<h3>Device Tracking Settings</h3>\n	</div>\n	<form id="form-c3" action="" class="pure-form pure-form-aligned">\n	  <fieldset>\n	    <div class="pure-control-group">\n          <label for="name">Idle Timeout (minutes)</label>\n          <input name="id" value="map" type="hidden">\n          <input name="idleTimeout" id="name" type="text" placeholder="Enter num of minutes">\n      </div>\n    </fieldset>\n    <div class="clearfix" style="text-align: center;">\n      <button type="submit" class="pure-button pure-button-primary" data="submit-c3">Submit</button>\n    </div>\n	</form>\n</div>'})}),define("hbs!tpl/modals/device.settings.html",["handlebars"],function(e){return e.template(function(e,t,n,r,i){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,i=i||{},'<div class="modal settings">\n	<div class="header">\n		<h3>Settings</h3>\n	</div>\n  \n  <div class="left" style="width:400px;float:left;">\n    <div style="width:400px;" class="tableview">\n      <ul>\n        <p>Filter Functions</p>\n        <li>&nbsp;</li>\n        <li>&nbsp;</li>\n        <li>&nbsp;</li>\n        <li>&nbsp;</li>\n        <li>&nbsp;</li>\n      </ul>\n    </div>\n    <div class="clearfix" style="text-align: center;">\n      <button type="submit" class="pure-button pure-button-primary" data="submit-c3">New Filter</button>\n    </div>\n  </div>\n  \n  <div class="right" style="display: block;float: left;margin-left: 10px;width: 550px;">\n      \n      <div class="pure-menu pure-menu-open pure-menu-horizontal">\n          <ul>\n            <li class="pure-menu-selected"><a href="#">Code</a></li>\n              <li><a href="#">Data</a></li>\n          </ul>\n      </div>\n      \n      <div class="container">\n        <div class="panel code">\n          <div style="border:1px solid #afafaf;height:290px;width:100%;background-image: url(\'/img/sparkdash/bg.ffedit.png\'); ">\n            <textarea class="expression-preview-code" id="code" name="code" style="height:290px;width:100%;"></textarea>\n          </div>\n        </div>\n        <div class="panel data" style="display:none;">\n          <div style="border:1px solid #afafaf;height:290px;width:100%;"></div>\n        </div>\n        \n        <div style="margin-top:5px;margin-bottom:5px;">\n          <button class="pure-button pure-button-warning" action="test_FFEdit">Test</button>\n          <button class="pure-button pure-button-disabled" action="save_FFEdit" style="float:right;">Save</button>\n        </div>\n        \n        <div class="preview" style="border:1px solid #336699;height:200px;width:100%;background-image:url(\'/img/sparkdash/device.settings.preview.map.png\');">\n          \n          <div class="device-preview" style="width:330px;margin:auto;">\n            <ul>\n              <li data="ffedit-preview-ef12155c-a286-3253-bfb1-24dbe403a1fa" class="device unselectable">\n                <div class="header">\n                  <div class="deviceIcon"></div>\n                  <div class="deviceTitle">Keverage</div>\n                  <div class="deviceCheckBox">\n                    <label class="styled-checkbox">\n                      <input type="checkbox" />\n                      <span></span>\n                    </label>\n                  </div>\n                </div>\n                \n                <div class="content">\n                  <div style="width:50px;height:50px;margin-top: 3px;float:left;">\n                    <img src="https://www.monosnap.com/image/6jaPgaE3d0i2wq3umYzixoz7y.png" width="50">\n                  </div>\n                  <div style="float:left;margin-left: 10px;">\n                    <div style="float:left;" class="row1">\n                      <a style="text-decoration:none;font-weight:bold;color:#336699;" href="#">S9822215</a>\n                    </div>\n                    <div style="float:left;" class="row2">1199 West 25th St, Joplin</div>\n                    <div style="float:left;" class="row3">\n                      <div class="label red">Turn Off</div>\n                    </div>\n                  </div>\n                </div>\n                <div class="footer">\n                  <div>\n                    <div class="led state2"></div>\n                    <div class="timestamp">Last updated: 3 hours ago</div>\n                    <div class="socket"></div>\n                  </div>\n                </div>\n              </li>\n            </ul>\n          </div>\n          \n        </div>\n      </div>\n      \n  </div> \n    \n</div>'})}),define("hbs!tpl/modals/action.sendmessage.html",["handlebars"],function(e){return e.template(function(e,t,n,r,i){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,i=i||{},'<div class="modal c4">\n	<div class="header">\n		<h3>Send a message:</h3>\n	</div>\n	<form id="form-c4" class="pure-form pure-form-aligned">\n	  <fieldset>\n	    <div class="pure-control-group">\n          <div id="title" style="font-size: 18px; text-align: center; margin-bottom: 12px;"></div>\n          <textarea name="message" id="message" style="width:100%;height:150px;"></textarea>\n      </div>\n    </fieldset>\n    <input name="id" value="message" type="hidden">\n    \n		<div class="clearfix" style="text-align: center;">\n      <button type="submit" class="pure-button pure-button-primary" data="submit-c4">Send Message</button>\n    </div>\n	</form>\n	<div class="loader" style="display:none;text-align:center;font-size:22px;padding:50px;">\n	  Please wait while we confirm receipt.\n	</div>\n</div>'})}),define("hbs!tpl/rows/device.html",["handlebars"],function(e){return e.template(function(e,t,n,r,i){this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='\n  <li class="device unselectable" data="',(o=n.clientID)?o=o.call(t,{hash:{},data:i}):(o=t.clientID,o=typeof o===u?o.apply(t):o),s+=a(o)+'">\n    <div class="header">\n      <div class="deviceIcon" />\n      <div class="deviceTitle ellipsis">',(o=n.userID)?o=o.call(t,{hash:{},data:i}):(o=t.userID,o=typeof o===u?o.apply(t):o),s+=a(o)+'</div>\n      <div class="deviceCheckBox">\n        <label class="styled-checkbox">\n          <input type="checkbox" id="check-',(o=n.clientID)?o=o.call(t,{hash:{},data:i}):(o=t.clientID,o=typeof o===u?o.apply(t):o),s+=a(o)+'" action="toggleDeviceMark">\n          <span></span>\n        </label>\n      </div>\n    </div>\n    <div class="content">\n      <span style="text-align:center;">Loading status..</span>\n    </div>\n    <div class="footer">\n      <div>\n        <div class="led"></div>\n        <div class="timestamp">Last updated: 3 hours ago</div>\n        <div class="socket">',(o=n.socketID)?o=o.call(t,{hash:{},data:i}):(o=t.socketID,o=typeof o===u?o.apply(t):o),s+=a(o)+"</div>\n      </div>\n    </div>\n  </li>",s})}),function(e){e.fn.codemirror=function(t){var n=this,r=e.extend({mode:"javascript",lineNumbers:!1,runmode:!1},t);return r.runmode?this.each(function(){var t=e(this),n=[],i=[],s=0,o=function(e,t){e=="\n"?(n.push("<br>"),i.push("<pre>"+ ++s+"</pre>")):t?n.push('<span class="cm-'+CodeMirror.htmlEscape(t)+'">'+CodeMirror.htmlEscape(e)+"</span>"):n.push(CodeMirror.htmlEscape(e))};CodeMirror.runMode(t.val(),r.mode,o),e('<div class="CodeMirror">'+(r.lineNumbers?'<div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text">'+i.join("")+"</div></div>":"<!--gutter-->")+'<div class="CodeMirror-lines">'+(r.lineNumbers?'<div style="position: relative; margin-left: '+s.toString().length+'em;">':"<div>")+'<pre class="cm-s-default">'+n.join("")+"</pre></div></div></div>").insertAfter(t),t.hide()}):this.each(function(){n=CodeMirror.fromTextArea(this,r)}),n}}(jQuery),define("jquery.codemirror",function(){}),define("views/devices",["jquery","underscore","handlebars","moment","form2js","js2form","codemirror","hbs!tpl/tabs/devices.html","hbs!tpl/modals/app.new.html","hbs!tpl/modals/devices.map.settings.html","hbs!tpl/modals/device.settings.html","hbs!tpl/modals/action.sendmessage.html","hbs!tpl/rows/device.html","jquery.codemirror"],function($,_,Handlebars,moment,form2js,js2form,codemirror,tmpl_DT,tpl_1,tpl_2,tpl_Settings,tpl_3,tpl_RowDevice){console.log("initializing app::devices");var $=$||$(function(e){e=e}),Markers=[];return SP.Tab.Devices={MAP:!1,Settings:{},mapShowOptions:function(){js2form(document.getElementById("form-c3"),SP.Tab.Devices.Settings),$(".modal.c3").trigger("openModal"),console.log(SP.Tab.Devices.Settings)},setMarkerIdleState:function(e){var t=1,n=Math.round((new Date).getTime()/1e3);return console.log((new Date).getTime()),console.log("elapsed: "+(n-e._timestamp)),console.log("idleTimeout is set to "+SP.Tab.Devices.Settings.idleTimeout*60+" seconds"),n-e._timestamp>=SP.Tab.Devices.Settings.idleTimeout*60&&(t=2),t},setDeviceIdleState:function(e,t){$(".device-list ul li.device").each(function(n){$(this).attr("data")==e&&(console.log("Changing idlestate to "+t+" for index: "+n),$(".device-list ul li.device").eq(n).find("div.led").first().removeClass("state state1 state2").addClass("state"+t))})}},Handlebars.registerHelper("key_value",function(e,t){var n="",r;for(r in e)e.hasOwnProperty(r)&&(n+=t.fn({key:r,value:e[r]}));return n}),Handlebars.registerHelper("json",function(e){return JSON.stringify(e)}),showOfflineBanner=function(){$("#main-container").append('<p style="text-align:center;margin-top:100px;"><h1 style="text-align:center;">You are offline.</h1><h3 style="text-align:center;">Refresh to try again</h3></p>')},openModal_SendMessage=function(e){$(".modal.c4 form").show(),$(".modal.c4 .header").show(),$(".modal.c4 .loader").hide().text("Please wait while we confirm receipt."),$(e).find("#title").html('<i style="background-color:#ffff33;padding:3px;border-radius:3px;">'+SP.DB.devices.countMarked()+"</i> devices selected")},closeModal_SendMessage=function(e){$(e).find("#title").text(""),$(e).find("textarea#message").val("")},openModal_EditFF=function(e){var t=Model("ffedit"),n=new t({longitude:"-94.486894",enabled:"true",userID:"TZMartin",clientID:"TZ-ef12155c-a286-3253-bfb1-24dbe403a1fa",latitude:"37.1122284",appPackage:"com.test.app",geohash:"9ysg1uhdruc3",device:"iPhone+4S",expires:"123456870",status:{id:100,title:"Service Trip",data:{image:"https://www.monosnap.com/image/6jaPgaE3d0i2wq3umYzixoz7y.png",jobNum:"S9822215",address:"1199 West 25th St, Joplin",labelText:"Turn Off",labelColor:"red"},timestamp:1384165084},timestamp:1380741478});n.save(),SP.UI.FFEditor=$(".expression-preview-code").codemirror({mode:"javascript",lineNumbers:!0,lineWrapping:!0,smartIndent:!1,fixedGutter:!1,onChange:function(e){var t=$(".device-preview li[data='ffedit-preview-ef12155c-a286-3253-bfb1-24dbe403a1fa']").find(".content"),r=evalFunction(e.getValue());if(!r.errorMessage)try{t.html(r.call(this,n.asJSON()))}catch(e){t.html(e+"")}else t.html(r.errorMessage)}}),SP.UI.FFEditor.setValue('function(device) {\n    return "HELLO WORLD";\n}')},closeModal_EditFF=function(e){SP.UI.FFEditor=null},logPusher=function(e){SP.Terminal.echo(e+"\n",{finalize:function(e){e.css("color","white")}})},createMarker=function(e){var t=new L.userMarker([e.latitude,e.longitude],{clientID:e.clientID,bounceOnAdd:!0,pulsing:!0,accuracy:10,smallIcon:!0,contextmenu:!0,contextmenuWidth:140,contextmenuItems:[{text:"Set Idle Filter",callback:function(){alert("hi")}},{separator:!0,index:1}]});t._timestamp=e.timestamp,t.addTo(SP.Tab.Devices.MAP);var n=SP.Tab.Devices.setMarkerIdleState(t);SP.Tab.Devices.setDeviceIdleState(t.options.clientID,n),n==2&&(t.setPulsing(!1),$(t._icon).toggleClass("idle"));var r=moment.unix(e.timestamp).format("MMM-Do hh:mm");return t.bindPopup('<div style="font-size:22px;">'+e.userID+'</div><div style="font-size:12px;">Device: '+e.device+'</div><div style="font-size:12px;">Last Active: '+r+"</div>"),t},createClient=function(e){var t=new SP.DB.devices(e);t.bind("set:status",setClientStatus);var n=!1;e.hasOwnProperty("data")&&e.data.hasOwnProperty("latitude")&&e.data.hasOwnProperty("longitude")&&(e.latitude=e.data.latitude,e.longitude=e.data.longitude),e.hasOwnProperty("latitude")&&e.hasOwnProperty("longitude")&&(n=createMarker(e),t.attr({_marker:n})),t.save(),SP.incrementTabIcon(1)},removeClient=function(e){console.log("Removing client: "+e.clientID);var t=$(".device-list li[data='"+e.clientID+"']"),n=SP.DB.devices.find_by_ID(e.clientID);n&&(n.attr("_marker")&&SP.Tab.Devices.MAP.removeLayer(n.attr("_marker")),SP.DB.devices.remove(n),SP.incrementTabIcon(1)),t.remove()},updateClient=function(e){var t=SP.DB.devices.find_by_ID(e.clientID);t?(e.hasOwnProperty("data")&&e.data.hasOwnProperty("latitude")&&e.data.hasOwnProperty("longitude")&&(e.latitude=e.data.latitude,e.longitude=e.data.longitude,delete e.data.latitude,delete e.data.longitude,t.attr("_marker")||(marker=createMarker(e),t.attr({_marker:marker}))),t.attr(e),t.trigger("set:status"),SP.incrementTabIcon(1),t.attr("_marker")&&t.updateMarker()):createClient(e)},messageEvt=function(e){e.data.nonce&&(console.log(e.data.nonce+" = "+$(".modal.c4 form").attr("nonce")),e.data.nonce==$(".modal.c4 form").attr("nonce")&&($(".modal.c4 .loader").text("Message successfully sent"),$(".modal.c4 form").attr("nonce",""),setTimeout(function(){$(".modal.c4").trigger("closeModal")},2e3),SP.incrementTabIcon(1)))},setClientStatus=function(){console.log("Updating device status for clientID: "+this.attr("clientID"));var e="Device "+this.attr("clientID"),t='<div style="padding:13px;">Current state: <span class="label green">'+this.getLifecycleState()+"</span></div>";if(this.attr("status")){t="<i>Unknown status filter</i>";var n=this.attr("status");n.id&&(console.log("Applying filter function"),typeof SP.UI.filter[n.id]=="function"&&(t=SP.UI.filter[n.id].call(this,this.asJSON()))),n.html&&(t=n.html)}this.attr("userID")&&(e="<b>"+this.attr("userID")+"</div>");var r=$(".device-list li[data='"+this.attr("clientID")+"']");r.find(".deviceTitle").html(e),r.find(".content").html(t)},evalFunction=function(funcString){try{eval("var editFunc = "+funcString+";")}catch(e){return{errorMessage:e+""}}return editFunc},doDocClick=function(e){var t=$(e.target).attr("action");switch(t){case"toggleDeviceMark":var n=$(e.target).closest("li"),r=$(e.target).closest("input").attr("checked")?!0:!1,i=SP.DB.devices.find_by_ID(n.attr("data"));i.attr("marked",r),n.removeClass("selected").toggleClass("checked");break;case"selectAll":SP.DB.devices.each(function(){this.attr("marked",!0),$("input#check-"+this.attr("clientID")).prop("checked",!0),$("li.device[data='"+this.attr("clientID")+"']").removeClass("selected").addClass("checked")});break;case"selectNone":SP.DB.devices.each(function(){this.attr("marked",!1),$("input#check-"+this.attr("clientID")).prop("checked",!1),$("li.device[data='"+this.attr("clientID")+"']").removeClass("selected").removeClass("checked")});break;case"selectAction":SP.DB.devices.countMarked()?$(".modal.c4").trigger("openModal",{foo:"bar"}):alert("Mark a device before taking action.");break;case"sendMessageToDevice":alert("Not implemented. Use the /api/messages endpoint instead");break;case"openSettings":$(".modal.settings").trigger("openModal",{foo:"bar"});break;case"test_FFEdit":console.log(evalFunction(SP.UI.FFEditor.getValue()))}},doFormSubmit=function(){if($(this).attr("data")=="submit-c3"){var e=form2js("form-c3",".",!0,function(e){});SP.Tab.Devices.Settings=e,SP.Network.http({url:"/_db",type:"POST",dataType:"json",data:e}).done(function(e){$(".modal.c3").trigger("closeModal"),console.log(SP.Tab.Devices.Settings)})}if($(this).attr("data")=="submit-c4"){var e=form2js("form-c4",".",!0,function(e){var t=!1;console.log(e);if(typeof e.querySelector=="function"){var e=e.querySelector('textarea[id="message"]');if(e)try{t={name:"message",value:JSON.parse(e.value)}}catch(n){t={name:"message",value:e.value}}}return t});e.nonce=(new Date).getTime()*Math.floor(Math.random()*3+1),e.devices=[],SP.DB.devices.getMarked().each(function(){e.devices.push({socketID:this.attr("socketID"),clientID:this.attr("clientID"),userID:this.attr("userID")})}),$(".modal.c4 form").attr("nonce",e.nonce),SP.Network.http({url:"/"+ID+"/messages",type:"POST",headers:{Authorization:"test","Content-Type":"application/json"},dataType:"json",data:JSON.stringify(e)}).done(function(e){e.status==200?($(".modal.c4 form").hide(),$(".modal.c4 .header").hide(),$(".modal.c4 .loader").show()):alert("["+e.status+"] "+e.message)})}},doDeviceClick=function(){$(".device-list ul li.device").each(function(){$(this).removeClass("selected")}),$(this).addClass("selected");var e=SP.DB.devices.find_by_ID($(this).attr("data"));if(e){var t=e.attr("_marker");t?(t.openPopup(),SP.Tab.Devices.MAP.panTo(new L.LatLng(t._latlng.lat,t._latlng.lng),{animate:!0})):console.log("This device does not have a marker")}},stopSubmit=function(e){return e.preventDefault(),!1},DB_addEvt=function(e){$(".left-panel .device-list ul").append(tpl_RowDevice(e.asJSON(),{partials:{}})),e.trigger("set:status")},setupMap=function(e){SP.Tab.Devices.Settings={id:"map",idleTimeout:"2"},SP.Tab.Devices.MAP=new L.Map("devices-map",{center:new L.LatLng(37.11,-94.48),zoom:14,scrollWheelZoom:!1,layers:[new L.TileLayer("http://{s}.mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.png",{maxZoom:18,subdomains:["otile1","otile2","otile3","otile4"],attribution:'SparkDash v1.0 - Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest</a>. Map data (c) <a href="http://www.openstreetmap.org/" target="_blank">OpenStreetMap</a> contributors, CC-BY-SA.'})],contextmenu:!0,contextmenuWidth:140,contextmenuItems:[{text:"Show coordinates",callback:function(){alert("hi")}}]}),L.Control.Command=L.Control.extend({options:{position:"topleft"},onAdd:function(e){var t=L.DomUtil.create("div","leaflet-control-command");L.DomEvent.addListener(t,"click",L.DomEvent.stopPropagation).addListener(t,"click",L.DomEvent.preventDefault).addListener(t,"click",function(){SP.Tab.Devices.mapShowOptions()});var n=L.DomUtil.create("div","leaflet-control-command-interior",t);return n.title="Map Commands",t}}),L.control.command=function(e){return new L.Control.Command(e)};var t=new L.Control.Command({});SP.Tab.Devices.MAP.addControl(t),SP.Tab.Devices.MAP.on("popupopen",function(e){var t=e.popup._source;$(".device-list ul li.device").each(function(){$(this).removeClass("selected");var e=$(this).attr("data");e==t.options.clientID&&($(this).addClass("selected"),$("html,body").animate({scrollTop:$(this).position().top-10},500))})}),SP.Network.http({url:"/"+ID+"/_devices"}).done(populateMap)},populateMap=function(e){if(e.status!=200){alert(e.message);return}_.each(e.message,createClient)},{render:function(){SP.DB.devices.bind("add",DB_addEvt),$("#modals:first").append(tpl_1({},{partials:{}})),$("#modals:first").append(tpl_2({},{partials:{}})),$("#modals:first").append(tpl_3({},{partials:{}})),$("#modals:first").append(tpl_Settings({},{partials:{}})),$(".modal.c1").easyModal({top:200,overlay:.2}),$(".modal.c3").easyModal({top:200,overlay:.2}),$(".modal.c4").easyModal({top:200,overlay:.2,onOpen:openModal_SendMessage,onClose:closeModal_SendMessage}),$(".modal.settings").easyModal({overlay:.2,onOpen:openModal_EditFF,onClose:closeModal_EditFF}),SP.render("#main-container",tmpl_DT({height:$(document).height()-$("body").offset().top-65+"px"},{partials:{}})),Pusher.log=logPusher;var e=new Pusher(SP.WS.key),t=e.subscribe(SP.WS.channel);t.bind("update_client@beacon",updateClient),t.bind("new_client@beacon",createClient),t.bind("startapp@beacon",updateClient),t.bind("stopapp@beacon",updateClient),t.bind("remove_client@beacon",removeClient),t.bind("message@main",messageEvt),t.bind("status@main",updateClient),$(document).on("click",doDocClick),$("form button").on("click",doFormSubmit),$(".device-list ul").on("click","li.device",doDeviceClick),$("form").submit(stopSubmit),SP.Network.http({url:"/_db?id=map",type:"GET",dataType:"json"}).done(setupMap)}}}),define("hbs!tpl/tabs/fsm.html",["handlebars"],function(e){return e.template(function(e,t,n,r,i){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,i=i||{},'<div class="left-panel">\n  <div style="width:100%;overflow-y: auto;height: 100%;">\n    <ul>\n      <li>\n        <div class="main-item device"></div>\n      </li>\n      <li>\n        <div class="main-item device"></div>\n      </li>\n      <li>\n        <div class="main-item device"></div>\n      </li>\n      <li>\n        <div class="main-item"></div>\n      </li>\n      <li>\n        <div class="main-item"></div>\n      </li>\n      <li>\n        <div class="main-item"></div>\n      </li>\n      <li>\n        <div class="main-item"></div>\n      </li>\n      <li>\n        <div class="main-item"></div>\n      </li>\n      <li>\n        <div class="main-item"></div>\n      </li>\n      <li>\n        <div class="main-item"></div>\n      </li>\n      <li>\n        <div class="main-item"></div>\n      </li>\n      <li>\n        <div class="main-item"></div>\n      </li>\n    </ul>\n  </div>\n</div>\n\n<div class="map-container">\n  <div id="map-container-1" class="map" style="height:100%;display: block;z-index: 1;"></div>\n  <i class="map-top"></i>\n  <i class="map-right"></i>\n  <i class="map-bottom"></i>\n  <i class="map-left"></i>\n</div>\n<div class="layer-buttons" style="position:relative;bottom:30;">\n    <div class="row layer-button-row"><a href="javascript:cartodb_sewer_line.setMap(map1);" class="btn success">Sewer Line On</a> <a href="javascript:cartodb_sewer_line.setMap(null);" class="btn danger">Sewer Line Off</a></div>\n</div>'})}),define("views/fsm",["jquery","underscore","handlebars","hbs!tpl/tabs/fsm.html"],function(e,t,n,r){function i(t,n){var i=r(n,{partials:{}});if(t instanceof jQuery)var s=t;else var s=e(t+":first");n.append?s.append(i):s.html(i)}if(e("body").attr("mm-controller")!="dash")return!1;console.log("initializing app::fsm");var e=e||e(function(e){e=e});return n.registerHelper("key_value",function(e,t){var n="",r;for(r in e)e.hasOwnProperty(r)&&(n+=t.fn({key:r,value:e[r]}));return n}),{render:function(){console.log("Rendering map.."),i("#main-container",{});var e=new L.Map("map-container-1",{center:new L.LatLng(35.05642206622684,-80.66948943389895),zoom:17,layers:[new L.TileLayer("http://{s}.mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.png",{maxZoom:18,subdomains:["otile1","otile2","otile3","otile4"],attribution:'SparkDash v1.0 - Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest</a>. Map data (c) <a href="http://www.openstreetmap.org/" target="_blank">OpenStreetMap</a> contributors, CC-BY-SA.'})]});cartodb_sewer_line=new lvector.CartoDB({user:"geojason",table:"sewer_line",scaleRange:[15,20],symbology:{type:"range",property:"pipe_dia",ranges:[{range:[0,8],vectorOptions:{weight:4,color:"#46461f",opacity:.8}},{range:[8.00001,100],vectorOptions:{weight:8,color:"#ff7800",opacity:.8}}]},popupTemplate:'<div class="iw-content"><h3>Sewer Line</h3><table class="condensed-table"><tr><th>Diameter</th><td>{pipe_dia} in.</td></tr><tr><th>Material</th><td>{pipe_mat}</td></tr><tr><th>Flows To</th><td>{wwtp} WWTP</td></tr></table></div>',singlePopup:!0}),setTimeout(function(){cartodb_sewer_line.setMap(e),console.log("done lvector")},500)}}}),define("hbs!tpl/tabs/tasks.html",["handlebars"],function(e){return e.template(function(e,t,n,r,i){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,i=i||{},'<div class="pure-u-1">\n  <ul>\n    <li>\n      <div class="main-item"></div>\n    </li>\n    <li>\n      <div class="main-item"></div>\n    </li>\n    <li>\n      <div class="main-item"></div>\n    </li>\n    <li>\n      <div class="main-item"></div>\n    </li>\n    <li>\n      <div class="main-item"></div>\n    </li>\n    <li>\n      <div class="main-item"></div>\n    </li>\n    <li>\n      <div class="main-item"></div>\n    </li>\n    <li>\n      <div class="main-item"></div>\n    </li>\n    <li>\n      <div class="main-item"></div>\n    </li>\n    <li>\n      <div class="main-item"></div>\n    </li>\n    <li>\n      <div class="main-item"></div>\n    </li>\n    <li>\n      <div class="main-item"></div>\n    </li>\n  </ul>\n</div>'})}),define("views/tasks",["jquery","underscore","handlebars","hbs!tpl/tabs/tasks.html"],function(e,t,n,r){function i(t,n){var i=r(n,{partials:{}});if(t instanceof jQuery)var s=t;else var s=e(t+":first");n.append?s.append(i):s.html(i)}if(e("body").attr("mm-controller")!="dash")return!1;console.log("initializing app::tasks");var e=e||e(function(e){e=e});return n.registerHelper("key_value",function(e,t){var n="",r;for(r in e)e.hasOwnProperty(r)&&(n+=t.fn({key:r,value:e[r]}));return n}),{render:function(e){i("#main-container",{rows:e.rows})}}}),define("hbs!tpl/main.menu.right.html",["handlebars"],function(e){return e.template(function(e,t,n,r,i){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,i=i||{},'<nav>\n  <ul>\n    <li class="beacon" action="showBeaconTabbadgeMenu">\n      <div class="tabbadge" action="showBeaconTabbadgeMenu">0</div>\n    </li>\n  </ul>\n</nav>\n<div class="beacon dropdown">\n  <ul>\n    <li class=""action="">\n      Line 1\n    </li>\n    <li class="" action="">\n      Line 2\n    </li>   \n    <li class="" action="">\n      Line 3\n    </li>\n  </ul>\n          \n</div>\n'})}),define("hbs!tpl/modals/alerts.html",["handlebars"],function(e){return e.template(function(e,t,n,r,i){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,i=i||{},'<div class="modal c0">\n	<div class="header">\n		<h3>Alerts</h3>\n	</div>\n  <div>\n      <div class="appPackage"></div>\n  </div>\n</div>'})}),define("hbs!tpl/tabs.html",["handlebars"],function(e){return e.template(function(e,t,n,r,i){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,i=i||{},'<nav>\n  <header class="devices">\n    <a href="#/devices" action="tab.devices"><div>Devices</div></a>\n  </header>\n</nav>\n\n<nav>\n  <header class="fsm">\n    <a href="#/fsm" action="tab.fsm"><div>FSM</div></a>\n  </header>\n</nav>\n\n<nav>\n  <header class="tasks">\n    <a href="#/tasks" action="tab.tasks"><div>Tasks</div></a>\n  </header>\n</nav>'})}),function(e){var t={init:function(t){var n={top:"auto",autoOpen:!1,overlayOpacity:.5,overlayColor:"#000",overlayClose:!0,overlayParent:"body",closeOnEscape:!0,closeButtonClass:".close",onOpen:!1,onClose:!1,zIndex:function(){return 1+Math.max.apply(Math,e("*").map(function(){return e(this).css("z-index")}).filter(function(){return e.isNumeric(this)}).map(function(){return parseInt(this,10)}))},updateZIndexOnOpen:!0};return t=e.extend(n,t),this.each(function(){var n=t,r=e('<div class="lean-overlay"></div>'),i=e(this);r.css({display:"none",position:"fixed","z-index":n.updateZIndexOnOpen?0:n.zIndex(),top:0,left:0,height:"100%",width:"100%",background:n.overlayColor,opacity:n.overlayOpacity,overflow:"auto"}).appendTo(n.overlayParent),i.css({display:"none",position:"fixed","z-index":n.updateZIndexOnOpen?0:n.zIndex()+1,left:"50%",top:parseInt(n.top,10)>-1?n.top+"px":"50%"}),i.bind("openModal",function(){var e=n.updateZIndexOnOpen?n.zIndex():parseInt(r.css("z-index"),10),t=e+1;i.css({display:"block","margin-left":-(i.outerWidth()/2)+"px","margin-top":(parseInt(n.top,10)>-1?0:-(i.outerHeight()/2))+"px","z-index":t}),r.css({"z-index":e,display:"block"}),n.onOpen&&typeof n.onOpen=="function"&&n.onOpen(i[0])}),i.bind("closeModal",function(){i.css("display","none"),r.css("display","none"),n.onClose&&typeof n.onClose=="function"&&n.onClose(i[0])}),r.click(function(){n.overlayClose&&i.trigger("closeModal")}),e(document).keydown(function(e){n.closeOnEscape&&e.keyCode===27&&i.trigger("closeModal")}),i.on("click",n.closeButtonClass,function(e){i.trigger("closeModal"),e.preventDefault()}),n.autoOpen&&i.trigger("openModal")})}};e.fn.easyModal=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.easyModal")}}(jQuery),define("jquery.easyModal",function(){}),function(e,t){function r(e,t){var n;if(typeof e=="string"&&typeof t=="string")return localStorage[e]=t,!0;if(typeof e=="object"&&typeof t=="undefined"){for(n in e)e.hasOwnProperty(n)&&(localStorage[n]=e[n]);return!0}return!1}function i(e,t){var n,r,i;n=new Date,n.setTime(n.getTime()+31536e6),r="; expires="+n.toGMTString();if(typeof e=="string"&&typeof t=="string")return document.cookie=e+"="+t+r+"; path=/",!0;if(typeof e=="object"&&typeof t=="undefined"){for(i in e)e.hasOwnProperty(i)&&(document.cookie=i+"="+e[i]+r+"; path=/");return!0}return!1}function s(e){return localStorage[e]}function o(e){var t,n,r,i;t=e+"=",n=document.cookie.split(";");for(r=0;r<n.length;r++){i=n[r];while(i.charAt(0)===" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null}function u(e){return delete localStorage[e]}function a(e){return i(e,"",-1)}function f(e,t){var n=[],r=e.length;if(r<t)return[e];for(var i=0;i<r;i+=t)n.push(e.substring(i,i+t));return n}function l(t){var n=t?[t]:[],r=0;e.extend(this,{get:function(){return n},rotate:function(){return n.length===1?n[0]:(r===n.length-1?r=0:++r,n[r])},length:function(){return n.length},set:function(e){for(var t=n.length;t--;)if(n[t]===e){r=t;return}this.append(e)},front:function(){return n[r]},append:function(e){n.push(e)}})}function c(t){var n=t?[t]:[];e.extend(this,{size:function(){return n.length},pop:function(){if(n.length===0)return null;var e=n[n.length-1];return n=n.slice(0,n.length-1),e},push:function(e){return n=n.concat([e]),e},top:function(){return n.length>0?n[n.length-1]:null}})}function h(t,n){var r=!0;typeof t=="string"&&t!==""&&(t+="_");var i=e.Storage.get(t+"commands");i=i?(new Function("return "+i+";"))():[];var s=i.length-1;e.extend(this,{append:function(o){r&&i[i.length-1]!==o&&(i.push(o),s=i.length-1,n&&i.length>n&&(i=i.slice(-n)),e.Storage.set(t+"commands",e.json_stringify(i)))},data:function(){return i},next:function(){s<i.length-1&&++s;if(s!==-1)return i[s]},reset:function(){s=i.length-1},last:function(){return i[length-1]},end:function(){return s===i.length-1},position:function(){return s},previous:function(){var e=s;s>0&&--s;if(e!==-1)return i[e]},clear:function(){i=[],this.purge()},enabled:function(){return r},enable:function(){r=!0},purge:function(){e.Storage.remove(t+"commands")},disable:function(){r=!1}})}function p(t){return e("<div>"+e.terminal.strip(t)+"</div>").text().length}function d(e){return e.length-p(e)}function v(e,t){var n=e.split(/(\s+)/);return{name:n[0],args:t(n.slice(2).join(""))}}function C(t){var n=e(window).scrollTop(),r=n+e(window).height(),i=e(t).offset().top,s=i+e(t).height();return s>=n&&i<=r}function k(t){var n=e('<div class="terminal"><span>&nbsp;</span></div>').appendTo("body"),r=n.find("span").width();n.remove();var i=Math.floor(t.width()/r);if(L(t)){var s=20,o=t.innerWidth()-t.width();i-=Math.ceil((s-o/2)/(r-1))}return i}function L(e){return e.get(0).scrollHeight>e.innerHeight()}e.omap=function(t,n){var r={};return e.each(t,function(e,i){r[e]=n.call(t,e,i)}),r};var n=typeof window.localStorage!="undefined";e.extend({Storage:{set:n?r:i,get:n?s:o,remove:n?u:a}}),jQuery.fn.extend({everyTime:function(e,t,n,r,i){return this.each(function(){jQuery.timer.add(this,e,t,n,r,i)})},oneTime:function(e,t,n){return this.each(function(){jQuery.timer.add(this,e,t,n,1)})},stopTime:function(e,t){return this.each(function(){jQuery.timer.remove(this,e,t)})}}),jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(e){if(e===t||e===null)return null;var n=this.regex.exec(jQuery.trim(e.toString()));if(n[2]){var r=parseInt(n[1],10),i=this.powers[n[2]]||1;return r*i}return e},add:function(e,t,n,r,i,s){var o=0;jQuery.isFunction(n)&&(i||(i=r),r=n,n=t),t=jQuery.timer.timeParse(t);if(typeof t!="number"||isNaN(t)||t<=0)return;i&&i.constructor!==Number&&(s=!!i,i=0),i=i||0,s=s||!1,e.$timers||(e.$timers={}),e.$timers[n]||(e.$timers[n]={}),r.$timerID=r.$timerID||this.guid++;var u=function(){if(s&&u.inProgress)return;u.inProgress=!0,(++o>i&&i!==0||r.call(e,o)===!1)&&jQuery.timer.remove(e,n,r),u.inProgress=!1};u.$timerID=r.$timerID,e.$timers[n][r.$timerID]||(e.$timers[n][r.$timerID]=window.setInterval(u,t)),this.global[n]||(this.global[n]=[]),this.global[n].push(e)},remove:function(e,t,n){var r=e.$timers,i;if(r){if(!t)for(var s in r)r.hasOwnProperty(s)&&this.remove(e,s,n);else if(r[t]){if(n)n.$timerID&&(window.clearInterval(r[t][n.$timerID]),delete r[t][n.$timerID]);else for(var o in r[t])r[t].hasOwnProperty(o)&&(window.clearInterval(r[t][o]),delete r[t][o]);for(i in r[t])if(r[t].hasOwnProperty(i))break;i||(i=null,delete r[t])}for(i in r)if(r.hasOwnProperty(i))break;i||(e.$timers=null)}}}}),(jQuery.browser&&jQuery.browser.msie||/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase()))&&jQuery(window).one("unload",function(){var e=jQuery.timer.global;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t],r=n.length;while(--r)jQuery.timer.remove(n[r],t)}}),function(e){if(!String.prototype.split.toString().match(/\[native/))return;var t=String.prototype.split,n=/()??/.exec("")[1]===e,r;return r=function(r,i,s){if(Object.prototype.toString.call(i)!=="[object RegExp]")return t.call(r,i,s);var o=[],u=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),a=0,f,l,c,h;i=new RegExp(i.source,u+"g"),r+="",n||(f=new RegExp("^"+i.source+"$(?!\\s)",u)),s=s===e?-1>>>0:s>>>0;while(l=i.exec(r)){c=l.index+l[0].length;if(c>a){o.push(r.slice(a,l.index)),!n&&l.length>1&&l[0].replace(f,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(l[t]=e)}),l.length>1&&l.index<r.length&&Array.prototype.push.apply(o,l.slice(1)),h=l[0].length,a=c;if(o.length>=s)break}i.lastIndex===l.index&&i.lastIndex++}return a===r.length?(h||!i.test(""))&&o.push(""):o.push(r.slice(a)),o.length>s?o.slice(0,s):o},String.prototype.split=function(e,t){return r(this,e,t)},r}(),e.json_stringify=function(n,r){var i="",s;r=r===t?1:r;var o=typeof n;switch(o){case"function":i+=n;break;case"boolean":i+=n?"true":"false";break;case"object":if(n===null)i+="null";else if(n instanceof Array){i+="[";var u=n.length;for(s=0;s<u-1;++s)i+=e.json_stringify(n[s],r+1);i+=e.json_stringify(n[u-1],r+1)+"]"}else{i+="{";for(var a in n)n.hasOwnProperty(a)&&(i+='"'+a+'":'+e.json_stringify(n[a],r+1));i+="}"}break;case"string":var f=n,l={"\\\\":"\\\\",'"':'\\"',"/":"\\/","\\n":"\\n","\\r":"\\r","\\t":"\\t"};for(s in l)l.hasOwnProperty(s)&&(f=f.replace(new RegExp(s,"g"),l[s]));i+='"'+f+'"';break;case"number":i+=String(n)}return i+=r>1?",":"",r===1&&(i=i.replace(/,([\]}])/g,"$1")),i.replace(/([\[{]),/g,"$1")},e.fn.cmd=function(n){function T(e){x.toggleClass("inverted")}function N(){y="(reverse-i-search)`"+l+"': ",D()}function C(){y=d,a=!1,c=null,l=""}function k(e){var t=S.data(),n,i=t.length;e&&c>0&&(i-=c);if(l.length>0)for(var s=l.length;s>0;s--){n=new RegExp("^"+l.substring(0,s));for(var o=i;o--;)if(n.test(t[o])){c=t.length-o,g=0,r.set(t[o],!0),M(),l.length!==s&&(l=l.substring(0,s),N());return}}}function L(){var e=r.width(),t=x.innerWidth();o=Math.floor(e/t)}function A(e,t){var n="";for(var r=t;r--;)n+=e;return n}function O(e){var t=e.substring(0,o-u),n=e.substring(o-u);return[t].concat(f(n,o))}function P(){s.focus(),r.oneTime(1,function(){r.insert(s.val()),s.blur().val("")})}function B(e){var i,s,o;if(typeof n.keydown=="function"){i=n.keydown(e);if(i!==t)return i}if(b){e.which!==38&&(e.which!==80||!e.ctrlKey)&&(H=!0);if(!a||e.which!==35&&e.which!==36&&e.which!==37&&e.which!==38&&e.which!==39&&e.which!==40&&e.which!==13&&e.which!==27){if(e.altKey)return e.which===68?(r.set(m.slice(0,g)+m.slice(g).replace(/[^ ]+ |[^ ]+$/,""),!0),!1):!0;if(e.keyCode===13){S&&m&&(n.historyFilter&&n.historyFilter(m)||!n.historyFilter)&&S.append(m);var u=m;S.reset(),r.set(""),n.commands&&n.commands(u),typeof y=="function"&&D()}else if(e.which===8)a?(l=l.slice(0,-1),N()):m!==""&&g>0&&(m=m.slice(0,g-1)+m.slice(g,m.length),--g,M());else if(e.which===9&&!e.ctrlKey&&!e.altKey)r.insert("	");else{if(e.which===46)return m!==""&&g<m.length&&(m=m.slice(0,g)+m.slice(g+1,m.length),M()),!0;if(S&&e.which===38||e.which===80&&e.ctrlKey)H&&(_=m),H=!1,r.set(S.previous());else if(S&&e.which===40||e.which===78&&e.ctrlKey)r.set(S.end()?_:S.next());else if(e.which===37||e.which===66&&e.ctrlKey)if(e.ctrlKey&&e.which!==66){o=g-1,s=0,m[o]===" "&&--o;for(var f=o;f>0;--f){if(m[f]===" "&&m[f+1]!==" "){s=f+1;break}if(m[f]==="\n"&&m[f+1]!=="\n"){s=f;break}}r.position(s)}else g>0&&(--g,M());else if(e.which===82&&e.ctrlKey)a?k(!0):(d=y,N(),_=m,m="",M(),a=!0);else if(e.which==71&&e.ctrlKey)a&&(y=d,D(),m=_,M(),a=!1);else if(e.which===39||e.which===70&&e.ctrlKey)if(e.ctrlKey&&e.which!==70){m[g]===" "&&++g;var c=m.slice(g).match(/\S[\n\s]{2,}|[\n\s]+\S?/);!c||c[0].match(/^\s+$/)?g=m.length:c[0][0]!==" "?g+=c.index+1:(g+=c.index+c[0].length-1,c[0][c[0].length-1]!==" "&&--g),M()}else g<m.length&&(++g,M());else{if(e.which===123)return!0;if(e.which===36)r.position(0);else if(e.which===35)r.position(m.length);else{if(e.shiftKey&&e.which==45)return P(),!0;if(!e.ctrlKey&&!e.metaKey)return!0;if(e.which===192)return!0;if(e.metaKey){if(e.which===82)return!0;if(e.which===76)return!0}if(e.shiftKey){if(e.which===84)return!0}else{if(e.which===87){if(m!==""){var h=m.slice(0,g),p=m.slice(g+1),v=h.match(/([^ ]+ *$)/);g=h.length-v[0].length,m=h.slice(0,g)+p,M()}return!1}if(e.which===72)return m!==""&&g>0&&(m=m.slice(0,--g),g<m.length-1&&(m+=m.slice(g)),M()),!1;if(e.which===65)r.position(0);else if(e.which===69)r.position(m.length);else{if(e.which===88||e.which===67||e.which===84)return!0;if(e.which===86)return P(),!0;if(e.which===75)g===0?r.set(""):g!==m.length&&r.set(m.slice(0,g));else if(e.which===85)r.set(m.slice(g,m.length)),r.position(0);else if(e.which===17)return!1}}}}}}else C(),D(),e.which===27&&(m=""),M(),B.call(this,e);return!1}}var r=this,i=r.data("cmd");if(i)return i;r.addClass("cmd"),r.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>');var s=e("<textarea/>").addClass("clipboard").appendTo(r);n.width&&r.width(n.width);var o,u,a=!1,l="",c=null,d,v=n.mask||!1,m="",g=0,y,b=n.enabled,w=n.historySize||60,E,S,x=r.find(".cursor"),M=function(t){function i(t,i){var s=t.length;if(i===s)n.html(e.terminal.encode(t,!0)),x.html("&nbsp;"),r.html("");else if(i===0)n.html(""),x.html(e.terminal.encode(t.slice(0,1),!0)),r.html(e.terminal.encode(t.slice(1),!0));else{var o=e.terminal.encode(t.slice(0,i),!0);n.html(o);var u=t.slice(i,i+1);x.html(u===" "?"&nbsp;":e.terminal.encode(u,!0)),i===t.length-1?r.html(""):r.html(e.terminal.encode(t.slice(i+1),!0))}}function s(t){return"<div>"+e.terminal.encode(t,!0)+"</div>"}function a(t){var n=r;e.each(t,function(t,r){n=e(s(r)).insertAfter(n).addClass("clear")})}function l(t){e.each(t,function(e,t){n.before(s(t))})}var n=x.prev(),r=x.next(),c=0;return function(){var c=v?m.replace(/./g,"*"):m,h,p;t.find("div").remove(),n.html("");if(c.length>o-u-1||c.match(/\n/)){var d,y=c.match(/\t/g),b=y?y.length*3:0;y&&(c=c.replace(/\t/g,"\0\0\0\0"));if(c.match(/\n/)){var w=c.split("\n");p=o-u-1;for(h=0;h<w.length-1;++h)w[h]+=" ";w[0].length>p?(d=[w[0].substring(0,p)],d=d.concat(f(w[0].substring(p),o))):d=[w[0]];for(h=1;h<w.length;++h)w[h].length>o?d=d.concat(f(w[h],o)):d.push(w[h])}else d=O(c);y&&(d=e.map(d,function(e){return e.replace(/\x00\x00\x00\x00/g,"	")})),p=d[0].length;if(p!==0||d.length!==1)if(g<p)i(d[0],g),a(d.slice(1));else if(g===p)n.before(s(d[0])),i(d[1],0),a(d.slice(2));else{var E=d.length,S=0;if(g<p)i(d[0],g),a(d.slice(1));else if(g===p)n.before(s(d[0])),i(d[1],0),a(d.slice(2));else{var T=d.slice(-1)[0],N=c.length-g,C=T.length,k=0;if(N<=C)l(d.slice(0,-1)),k=C===N?0:C-N,i(T,k+b);else if(E===3)n.before("<div>"+e.terminal.encode(d[0],!0)+"</div>"),i(d[1],g-p-1),r.after('<div class="clear">'+e.terminal.encode(d[2],!0)+"</div>");else{var L,A;k=g;for(h=0;h<d.length;++h){var M=d[h].length;if(!(k>M))break;k-=M}A=d[h],L=h,k===A.length&&(k=0,A=d[++L]),i(A,k),l(d.slice(0,L)),a(d.slice(L+1))}}}}else c===""?(n.html(""),x.html("&nbsp;"),r.html("")):i(c,g)}}(r),_,D=function(){function n(n){u=p(n),t.html(e.terminal.format(e.terminal.encode(n)))}var t=r.find(".prompt");return function(){switch(typeof y){case"string":n(y);break;case"function":y(n)}}}(),H=!0,j=[];e.extend(r,{name:function(e){if(e!==t){E=e,S=new h(e,w);var n=j.length;return n&&!j[n-1].enabled()&&S.disable(),j.push(S),r}return E},purge:function(){for(var e=j.length;e--;)j[e].purge();return j=[],r},history:function(){return S},set:function(e,i){return e!==t&&(m=e,i||(g=m.length),M(),typeof n.onCommandChange=="function"&&n.onCommandChange(m)),r},insert:function(e,t){return g===m.length?m+=e:g===0?m=e+m:m=m.slice(0,g)+e+m.slice(g),t||(g+=e.length),M(),typeof n.onCommandChange=="function"&&n.onCommandChange(m),r},get:function(){return m},commands:function(e){return e?(n.commands=e,r):e},destroy:function(){return e(document.documentElement||window).unbind(".cmd"),r.stopTime("blink",T),r.find(".cursor").next().remove().end().prev().remove().end().remove(),r.find(".prompt, .clipboard").remove(),r.removeClass("cmd").removeData("cmd"),r},prompt:function(e){if(e===t)return y;if(typeof e!="string"&&typeof e!="function")throw"prompt must be a function or string";return y=e,D(),M(),r},position:function(e){return typeof e=="number"?(g=e<0?0:e>m.length?m.length:e,M(),r):g},visible:function(){var e=r.visible;return function(){e.apply(r,[]),M(),D()}}(),show:function(){var e=r.show;return function(){e.apply(r,[]),M(),D()}}(),resize:function(e){return e?o=e:L(),M(),r},enable:function(){return b||(x.addClass("inverted"),r.everyTime(500,"blink",T),b=!0),r},isenabled:function(){return b},disable:function(){return b&&(r.stopTime("blink",T),x.removeClass("inverted"),b=!1),r},mask:function(e){return typeof e=="boolean"?(v=e,M(),r):v}}),r.name(n.name||n.prompt||""),y=n.prompt||"> ",D(),(n.enabled===t||n.enabled===!0)&&r.enable();var F;return e(document.documentElement||window).bind("keypress.cmd",function(i){var s;if(i.ctrlKey&&i.which===99)return!0;!a&&typeof n.keypress=="function"&&(s=n.keypress(i));if(s!==t&&!s)return s;if(b){if(e.inArray(i.which,[38,13,0,8])>-1&&i.keyCode!==123&&(i.which!==38||!i.shiftKey))return!1;if(!i.ctrlKey&&(!i.altKey||i.which!==100)||i.altKey)return a?(l+=String.fromCharCode(i.which),k(),N()):r.insert(String.fromCharCode(i.which)),!1}}).bind("keydown.cmd",B),r.data("cmd",r),r};var m=/(\[\[[gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?)/,g=/\[\[([gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?/g,y=/\[\[([gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?/gi,b=/#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})/,w=/https?:\/\/(?:(?!&[^;]+;)[^\s:"'<>)])+/g,E=/((([^<>('")[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g,S=/('[^']*'|"(\\"|[^"])*"|\/(\\\/|[^\/])*\/|(\\ |[^ ])+|[\w-]+)/g,x=/(\[\[[gbiuso]*;[^;]*;[^\]]*\])/,T=/\[\[[gbiuso]*;[^;]*;[^\]]*\]?$/;e.terminal={split_equal:function(e,t){var n=!1,r=!1,i=0,s="",o=[],u=e.replace(y,function(e,t,n){var r=t.match(/;/g).length;return r==2?r=";;":r==3?r=";":r="","[["+t+r+n.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n")+"]"+n+"]"}).split(/\n/g);for(var a=0,f=u.length;a<f;++a){if(u[a]===""){o.push("");continue}var l=u[a],c=0,h=0;for(var p=0,d=l.length;p<d;++p){if(l[p]==="["&&l[p+1]==="[")n=!0;else if(n&&l[p]==="]")r?(n=!1,r=!1):r=!0;else if(n&&r||!n){if(l[p]==="&"){var v=l.substring(p).match(/^(&[^;]+;)/);if(!v)throw"Unclosed html entity in line "+(a+1)+" at char "+(p+1);p+=v[1].length-2,p===d-1&&o.push(m+v[1]);continue}l[p]==="]"&&l[p-1]==="\\"?--h:++h}if(h===t||p===d-1){var m=l.substring(c,p+1);s&&(m=s+m,m.match("]")&&(s="")),c=p+1,h=0;var g=m.match(y);if(g){var b=g[g.length-1];if(b[b.length-1]!=="]")s=b.match(x)[1],m+="]";else if(m.match(T)){var w=m.length,E=w-b[b.length-1].length;m=m.replace(T,""),s=b.match(x)[1]}}o.push(m)}}}return o},encode:function(e,t){return t?e=e.replace(/&(?![^=]+=)/g,"&amp;"):e=e.replace(/&(?!#[0-9]+;|[a-zA-Z]+;|[^= "]+=[^=])/g,"&amp;"),e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},format:function(t,n){var r=e.extend({},{linksNoReferrer:!1},n||{});if(typeof t=="string"){var i=t.split(m);return i&&i.length>1&&(t=e.map(i,function(e){return e===""?e:e.substring(0,1)==="["?e.replace(g,function(e,t,n,r,i,s,o){if(o==="")return"";o=o.replace(/\\]/g,"]");var u="";t.indexOf("b")!==-1&&(u+="font-weight:bold;");var a=[];t.indexOf("u")!==-1&&a.push("underline"),t.indexOf("s")!==-1&&a.push("line-through"),t.indexOf("o")!==-1&&a.push("overline"),a.length&&(u+="text-decoration:"+a.join(" ")+";"),t.indexOf("i")!==-1&&(u+="font-style:italic;"),n.match(b)&&(u+="color:"+n+";",t.indexOf("g")!==-1&&(u+="text-shadow:0 0 5px "+n+";")),r.match(b)&&(u+="background-color:"+r);var f='<span style="'+u+'"'+(i!==""?' class="'+i+'"':"")+' data-text="'+(s===""?o:s.replace(/&#93;/g,"]")).replace('"',"&quote;")+'">'+o+"</span>";return f}):"<span>"+e+"</span>"}).join("")),e.map(t.split(/(<\/?span[^>]*>)/g),function(e){return e.match(/span/)?e:e.replace(w,function(e){var t=e.match(/\.$/);return e=e.replace(/\.$/,""),'<a target="_blank" '+(r.linksNoReferer?' rel="noreferrer" ':"")+'href="'+e+'">'+e+"</a>"+(t?".":"")}).replace(E,'<a href="mailto:$1">$1</a>')}).join("").replace(/<span><br\/?><\/span>/g,"<br/>")}return""},escape_brackets:function(e){return e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},strip:function(e){return e.replace(g,"$6")},active:function(){return H.front()},from_ntroff:function(e){return e.replace(/((?:_\x08.|.\x08_)+)/g,function(e,t){return"[[u;;]"+e.replace(/_x08|\x08_|_\u0008|\u0008_/g,"")+"]"}).replace(/((?:.\x08.)+)/g,function(e,t){return"[[b;#fff;]"+e.replace(/(.)(?:\x08|\u0008)(.)/g,function(e,t,n){return n})+"]"})},ansi_colors:{normal:{black:"#000",red:"#A00",green:"#008400",yellow:"#A50",blue:"#00A",magenta:"#A0A",cyan:"#0AA",white:"#AAA"},faited:{black:"#000",red:"#640000",green:"#006100",yellow:"#737300",blue:"#000087",magenta:"#650065",cyan:"#008787",white:"#818181"},bold:{black:"#000",red:"#F55",green:"#44D544",yellow:"#FF5",blue:"#55F",magenta:"#F5F",cyan:"#5FF",white:"#FFF"},palette:["#000000","#AA0000","#00AA00","#AA5500","#0000AA","#AA00AA","#00AAAA","#AAAAAA","#555555","#FF5555","#55FF55","#FFFF55","#5555FF","#FF55FF","#55FFFF","#FFFFFF","#000000","#00005F","#000087","#0000AF","#0000D7","#0000FF","#005F00","#005F5F","#005F87","#005FAF","#005FD7","#005FFF","#008700","#00875F","#008787","#0087AF","#0087D7","#00AF00","#00AF5F","#00AF87","#00AFAF","#00AFD7","#00AFFF","#00D700","#00D75F","#00D787","#00D7AF","#00D7D7","#00D7FF","#00FF00","#00FF5F","#00FF87","#00FFAF","#00FFD7","#00FFFF","#5F0000","#5F005F","#5F0087","#5F00AF","#5F00D7","#5F00FF","#5F5F00","#5F5F5F","#5F5F87","#5F5FAF","#5F5FD7","#5F5FFF","#5F8700","#5F875F","#5F8787","#5F87AF","#5F87D7","#5F87FF","#5FAF00","#5FAF5F","#5FAF87","#5FAFAF","#5FAFD7","#5FAFFF","#5FD700","#5FD75F","#5FD787","#5FD7AF","#5FD7D7","#5FD7FF","#5FFF00","#5FFF5F","#5FFF87","#5FFFAF","#5FFFD7","#5FFFFF","#870000","#87005F","#870087","#8700AF","#8700D7","#8700FF","#875F00","#875F5F","#875F87","#875FAF","#875FD7","#875FFF","#878700","#87875F","#878787","#8787AF","#8787D7","#8787FF","#87AF00","#87AF5F","#87AF87","#87AFAF","#87AFD7","#87AFFF","#87D700","#87D75F","#87D787","#87D7AF","#87D7D7","#87D7FF","#87FF00","#87FF5F","#87FF87","#87FFAF","#87FFD7","#87FFFF","#AF0000","#AF005F","#AF0087","#AF00AF","#AF00D7","#AF00FF","#AF5F00","#AF5F5F","#AF5F87","#AF5FAF","#AF5FD7","#AF5FFF","#AF8700","#AF875F","#AF8787","#AF87AF","#AF87D7","#AF87FF","#AFAF00","#AFAF5F","#AFAF87","#AFAFAF","#AFAFD7","#AFAFFF","#AFD700","#AFD75F","#AFD787","#AFD7AF","#AFD7D7","#AFD7FF","#AFFF00","#AFFF5F","#AFFF87","#AFFFAF","#AFFFD7","#AFFFFF","#D70000","#D7005F","#D70087","#D700AF","#D700D7","#D700FF","#D75F00","#D75F5F","#D75F87","#D75FAF","#D75FD7","#D75FFF","#D78700","#D7875F","#D78787","#D787AF","#D787D7","#D787FF","#D7AF00","#D7AF5F","#D7AF87","#D7AFAF","#D7AFD7","#D7AFFF","#D7D700","#D7D75F","#D7D787","#D7D7AF","#D7D7D7","#D7D7FF","#D7FF00","#D7FF5F","#D7FF87","#D7FFAF","#D7FFD7","#D7FFFF","#FF0000","#FF005F","#FF0087","#FF00AF","#FF00D7","#FF00FF","#FF5F00","#FF5F5F","#FF5F87","#FF5FAF","#FF5FD7","#FF5FFF","#FF8700","#FF875F","#FF8787","#FF87AF","#FF87D7","#FF87FF","#FFAF00","#FFAF5F","#FFAF87","#FFAFAF","#FFAFD7","#FFAFFF","#FFD700","#FFD75F","#FFD787","#FFD7AF","#FFD7D7","#FFD7FF","#FFFF00","#FFFF5F","#FFFF87","#FFFFAF","#FFFFD7","#FFFFFF","#080808","#121212","#1C1C1C","#262626","#303030","#3A3A3A","#444444","#4E4E4E","#585858","#626262","#6C6C6C","#767676","#808080","#8A8A8A","#949494","#9E9E9E","#A8A8A8","#B2B2B2","#BCBCBC","#C6C6C6","#D0D0D0","#DADADA","#E4E4E4","#EEEEEE"]},from_ansi:function(){function r(r){var i=r.split(";"),s,o=!1,u=!1,a=!1,f=[],l="",c="",h=!1,p=!1,d=!1,v=e.terminal.ansi_colors.palette;for(var m in i){s=parseInt(i[m],10);switch(s){case 1:f.push("b"),a=!0,o=!1;break;case 4:f.push("u");break;case 3:f.push("i");break;case 5:d=!0;break;case 38:h=!0;break;case 48:p=!0;break;case 2:o=!0,a=!1;break;case 7:u=!0;break;default:h&&d&&v[s-1]?l=v[s-1]:t[s]&&(l=t[s]),p&&d&&v[s-1]?c=v[s-1]:n[s]&&(c=n[s])}s!==5&&(d=!1)}if(u)if(l&&c){var g=c;c=l,l=g}else l="black",c="white";var y,b;return a?y=b=e.terminal.ansi_colors.bold:o?y=b=e.terminal.ansi_colors.faited:y=b=e.terminal.ansi_colors.normal,[f.join(""),h?l:y[l],p?c:b[c]]}var t={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white",39:"white"},n={40:"black",41:"red",42:"green",43:"yellow",44:"blue",45:"magenta",46:"cyan",47:"white",49:"black"};return function(e){var t=e.split(/(\x1B\[[0-9;]*[A-Za-z])/g);if(t.length==1)return e;var n=[];t.length>3&&t.slice(0,3).join("")=="[0m"&&(t=t.slice(3));var i=!1,s,o,u,a,f;for(var l=0;l<t.length;++l){f=t[l].match(/^\x1B\[([0-9;]*)([A-Za-z])$/);if(f)switch(f[2]){case"m":if(f[1]==="")continue;f[1]!=="0"?a=r(f[1]):a=["",""],i?(n.push("]"),f[1]=="0"?(i=!1,o=u=""):(a[1]=a[1]||o,a[2]=a[2]||u,n.push("[["+a.join(";")+"]"),a[1]&&(o=a[1]),a[2]&&(u=a[2]))):(i=!0,n.push("[["+a.join(";")+"]"),a[1]&&(o=a[1]),a[2]&&(u=a[2]))}else n.push(t[l])}return i&&n.push("]"),n.join("")}}(),parseArguments:function(t){return e.map(t.match(S)||[],function(e){return e[0]==="'"&&e[e.length-1]==="'"?e.replace(/^'|'$/g,""):e[0]==='"'&&e[e.length-1]==='"'?(e=e.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"),e.replace(/\\\\|\\t|\\n/g,function(e){return e[1]==="t"?"	":e[1]==="n"?"\n":"\\"}).replace(/\\x([0-9a-f]+)/gi,function(e,t){return String.fromCharCode(parseInt(t,16))}).replace(/\\0([0-7]+)/g,function(e,t){return String.fromCharCode(parseInt(t,8))})):e[0]==="/"&&e[e.length-1]=="/"?new RegExp(e.replace(/^\/|\/$/g,"")):e.match(/^-?[0-9]+$/)?parseInt(e,10):e.match(/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/)?parseFloat(e):e.replace(/\\ /g," ")})},splitArguments:function(t){return e.map(t.match(S)||[],function(e){return e[0]==="'"&&e[e.length-1]==="'"?e.replace(/^'|'$/g,""):e[0]==='"'&&e[e.length-1]==='"'?e.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):e[0]==="/"&&e[e.length-1]=="/"?e:e.replace(/\\ /g," ")})},parseCommand:function(t){return v(t,e.terminal.parseArguments)},splitCommand:function(t){return v(t,e.terminal.splitArguments)},test:function(){function s(e,n){t.echo(n+" &#91;"+(e?"[[b;#44D544;]PASS]":"[[b;#FF5555;]FAIL]")+"&#93;")}var t=e.terminal.active();if(!t){t=e("body").terminal(e.noop).css("margin",0);var n=t.outerHeight()-t.height(),r=e(window);function i(){t.css("height",e(window).height()-20)}r.resize(i).resize()}t.echo("Testing...");var o='name "foo bar" baz /^asd [x]/ str\\ str 10 1e10',u=e.terminal.splitCommand(o);s(u.name==="name"&&u.args[0]==="foo bar"&&u.args[1]==="baz"&&u.args[2]==="/^asd [x]/"&&u.args[3]==="str str"&&u.args[4]==="10"&&u.args[5]==="1e10","$.terminal.splitCommand"),u=e.terminal.parseCommand(o),s(u.name==="name"&&u.args[0]==="foo bar"&&u.args[1]==="baz"&&e.type(u.args[2])==="regexp"&&u.args[2].source==="^asd [x]"&&u.args[3]==="str str"&&u.args[4]===10&&u.args[5]===1e10,"$.terminal.parseCommand"),o="[2;31;46mFoo[1;3;4;32;45mBar[0m[7mBaz",s(e.terminal.from_ansi(o)==="[[;#640000;#008787]Foo][[biu;#44D544;#F5F]Bar][[;#000;#AAA]Baz]","$.terminal.from_ansi"),o="[[biugs;#fff;#000]Foo][[i;;;foo]Bar][[ous;;]Baz]",t.echo("$.terminal.format"),s(e.terminal.format(o)==='<span style="font-weight:bold;text-decoration:underline line-through;font-style:italic;color:#fff;text-shadow:0 0 5px #fff;background-color:#000" data-text="Foo">Foo</span><span style="font-style:italic;" class="foo" data-text="Bar">Bar</span><span style="text-decoration:underline line-through overline;" data-text="Baz">Baz</span>',"	formatting"),o="http://terminal.jcubic.pl/examples.php https://www.google.com/?q=jquery%20terminal",s(e.terminal.format(o)==='<a target="_blank" href="http://terminal.jcubic.pl/examples.php">http://terminal.jcubic.pl/examples.php</a> <a target="_blank" href="https://www.google.com/?q=jquery%20terminal">https://www.google.com/?q=jquery%20terminal</a>',"	urls"),o="foo@bar.com baz.quux@example.com",s(e.terminal.format(o)==='<a href="mailto:foo@bar.com">foo@bar.com</a> <a href="mailto:baz.quux@example.com">baz.quux@example.com</a>',"	emails"),o="-_-[[biugs;#fff;#000]Foo]-_-[[i;;;foo]Bar]-_-[[ous;;]Baz]-_-",s(e.terminal.strip(o)==="-_-Foo-_-Bar-_-Baz-_-","$.terminal.strip"),o="[[bui;#fff;]Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sed dolor nisl, in suscipit justo. Donec a enim et est porttitor semper at vitae augue. Proin at nulla at dui mattis mattis. Nam a volutpat ante. Aliquam consequat dui eu sem convallis ullamcorper. Nulla suscipit, massa vitae suscipit ornare, tellus] est [[b;;#f00]consequat nunc, quis blandit elit odio eu arcu. Nam a urna nec nisl varius sodales. Mauris iaculis tincidunt orci id commodo. Aliquam] non magna quis [[i;;]tortor malesuada aliquam] eget ut lacus. Nam ut vestibulum est. Praesent volutpat tellus in eros dapibus elementum. Nam laoreet risus non nulla mollis ac luctus [[ub;#fff;]felis dapibus. Pellentesque mattis elementum augue non sollicitudin. Nullam lobortis fermentum elit ac mollis. Nam ac varius risus. Cras faucibus euismod nulla, ac auctor diam rutrum sit amet. Nulla vel odio erat], ac mattis enim.",t.echo("$.terminal.split_equal");var a=[10,40,60,400];for(var f=a.length;f--;){var l=e.terminal.split_equal(o,a[f]),c=!0;for(var h=0;h<l.length;++h)if(e.terminal.strip(l[h]).length>a[f]){c=!1;break}s(c,"	split "+a[f])}}},e.fn.visible=function(){return this.css("visibility","visible")},e.fn.hidden=function(){return this.css("visibility","hidden")};var N=0;e.jrpc=function(t,n,r,i,s){var o=e.json_stringify({jsonrpc:"2.0",method:n,params:r,id:++N});return e.ajax({url:t,data:o,success:i,error:s,contentType:"application/json",dataType:"json",async:!0,cache:!1,type:"POST"})};var A="{{VER}}",O="Copyright (c) 2011-2013 Jakub Jankiewicz <http://jcubic.pl>",M="version "+A,_=new RegExp(" {"+M.length+"}$"),D=[["jQuery Terminal","(c) 2011-2013 jcubic"],["jQuery Terminal Emulator v. "+A,O.replace(/ *<.*>/,"")],["jQuery Terminal Emulator version "+M,O.replace(/^Copyright /,"")],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/ /_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(_,"")+M,O],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(_,"")+M,O]];e.terminal.defaults={prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,historySize:60,checkArity:!0,displayExceptions:!0,cancelableAjax:!0,processArguments:!0,linksNoReferrer:!1,login:null,outputLimit:-1,tabcompletion:null,historyFilter:null,onInit:e.noop,onClear:e.noop,onBlur:e.noop,onFocus:e.noop,onTerminalChange:e.noop,onExit:e.noop,keypress:e.noop,keydown:e.noop};var P=[],H=new l;e.fn.terminal=function(n,r){function i(t){return typeof Q.processArguments=="function"?v(t,Q.processArguments):Q.processArguments?e.terminal.parseCommand(t):e.terminal.splitCommand(t)}function s(t){typeof t=="string"?_.echo(t):t instanceof Array?_.echo(e.map(t,function(t){return e.json_stringify(t)}).join(" ")):typeof t=="object"?_.echo(e.json_stringify(t)):_.echo(t)}function o(t){var n=function(n,r){_.pause(),e.jrpc(t,n,r,function(e){e.error?_.error("&#91;RPC&#93; "+e.error.message):s(e.result),_.resume()},function(e,t,n){t!=="abort"&&_.error("&#91;AJAX&#93; "+t+" - Server reponse is: \n"+e.responseText),_.resume()})};return function(e,t){if(e==="")return;e=i(e);if(!Q.login||e.name==="help")n(e.name,e.args);else{var r=t.token();r?n(e.name,[r].concat(e.args)):t.error("&#91;AUTH&#93; Access denied (no token)")}}}function u(n,r){return function(s,o){if(s==="")return;s=i(s);var a=n[s.name],f=e.type(a);if(f==="function"){if(!r||a.length===s.args.length)return a.apply(_,s.args);_.error("&#91;Arity&#93; wrong number of arguments. Function '"+s.name+"' expect "+a.length+" got "+s.args.length)}else if(f==="object"||f==="string"){var l=[];if(f==="object"){for(var c in a)a.hasOwnProperty(c)&&l.push(c);a=u(a,r)}o.push(a,{prompt:s.name+"> ",name:s.name,completion:f==="object"?function(e,t,n){n(l)}:t})}else o.error("Command '"+s.name+"' Not Found")}}function a(t,n){n=n||e.noop;var r=e.type(t),i={};if(r==="string")_.pause(),e.jrpc(t,"system.describe",[],function(r){var a=[];if(r.procs){var f={};e.each(r.procs,function(n,r){a.push(r.name),f[r.name]=function(){var n=Array.prototype.slice.call(arguments);Q.checkArity&&r.params&&r.params.length!==n.length?_.error("&#91;Arity&#93; wrong number of arguments.Function '"+r.name+"' expect "+r.params.length+" got "+n.length):(_.pause(),e.jrpc(t,r.name,n,function(e){e.error?_.error("&#91;RPC&#93; "+e.error.message):s(e.result),_.resume()},function(e,t,n){t!=="abort"&&_.error("&#91;AJAX&#93; "+t+" - Server reponse is: \n"+e.responseText),_.resume()}))}}),i.interpreter=u(f,!1),i.completion=function(e,t,n){n(a)}}else i.interpreter=o(t),i.completion=Q.completion;_.resume(),n(i)},function(){i.completion=Q.completion,i.interpreter=o(t),n(i)});else if(r==="object"){var a=[];for(var f in t)a.push(f);i.interpreter=u(t,!0),i.completion=function(e,t,n){n(a)},n(i)}else{if(r!=="function")throw r+" is invalid interpreter value";n({interpreter:t,completion:Q.completion})}}function f(e){return typeof e=="string"?e:typeof e.fileName=="string"?e.fileName+": "+e.message:e.message}function l(t,n){if(Q.displayExceptions){var r=f(t);_.error("&#91;"+n+"&#93;: "+r),typeof t.fileName=="string"&&(_.pause(),e.get(t.fileName,function(e){_.resume();var n=t.lineNumber-1,r=e.split("\n")[n];r&&_.error("&#91;"+t.lineNumber+"&#93;: "+r)})),t.stack&&_.error(t.stack)}}function h(){var e=j.prop?j.prop("scrollHeight"):j.attr("scrollHeight");j.scrollTop(e)}function p(e,t){try{if(typeof t=="function")t(function(){});else if(typeof t!="string"){var n=e+" must be string or function";throw n}}catch(r){return l(r,e.toUpperCase()),!1}return!0}function g(t,n){try{var r=e.extend({raw:!1,finalize:e.noop},n||{});t=e.type(t)==="function"?t():t,t=e.type(t)==="string"?t:String(t);var i,s;r.raw||(t=e.terminal.encode(t)),t=e.terminal.from_ntroff(t),t=e.terminal.from_ansi(t),d.push(m);if(!r.raw&&(t.length>z||t.match(/\n/))){var o=e.terminal.split_equal(t,z);for(i=0,s=o.length;i<s;++i)o[i]===""||o[i]==="\r"?d.push("&nbsp"):r.raw?d.push(o[i]):d.push(e.terminal.format(o[i],{linksNoReferer:Q.linksNoReferer}))}else r.raw||(t=e.terminal.format(t,{linksNoReferer:Q.linksNoReferer})),d.push(t);d.push(r.finalize)}catch(u){d=[],console.log("Internal Exception(draw_line):"+f(u)+"\n"+u.stack)}}function y(){try{var t;if(Q.outputLimit>=0){var n=_.rows(),r=Q.outputLimit===0?n:Q.outputLimit,i=0,s,o=e("<div/>");for(var u=d.length;u--;)if(typeof d[u]=="function")s=d[u],t=e("<div/>");else if(d[u]===m){t.prependTo(o);try{s(t)}catch(a){l(a,"USER:echo(finalize)")}}else{t.prepend("<div>"+d[u]+"</div>");if(++i===r){if(d[u-1]!==m)try{s(t)}catch(a){l(a,"USER:echo(finalize)")}break}}o.children().appendTo(R)}else e.each(d,function(n,r){if(r===m)t=e("<div></div>");else if(typeof r=="function"){t.appendTo(R);try{r(t)}catch(i){l(i,"USER:echo(finalize)")}}else e("<div/>").html(r).appendTo(t).width("100%")});h(),d=[]}catch(a){alert("flush "+f(a)+"\n"+a.stack)}}function b(){Q.greetings===t?_.echo(_.signature):Q.greetings&&_.echo(Q.greetings)}function w(t){t=e.terminal.escape_brackets(e.terminal.encode(t,!0));var n=tt.prompt();tt.mask()&&(t=t.replace(/./g,"*")),typeof n=="function"?n(function(e){_.echo(e+t)}):_.echo(n+t)}function E(e,n){try{F=e;var r=et.top();if(e==="exit"&&Q.exit)if(et.size()===1)if(Q.login)x();else{var i="You can't exit from main interpeter";n||w(e),_.echo(i)}else _.pop("exit");else{n||w(e);var s=q.length-1;if(e==="clear"&&Q.clear)_.clear();else{var o=r.interpreter(e,_);o!==t&&(s===q.length-1?(q.pop(),o!==!1&&_.echo(o)):o===!1?q=q.slice(0,s).concat(q.slice(s+1)):q=q.slice(0,s).concat([o]).concat(q.slice(s+1)),_.resize())}}}catch(u){throw l(u,"USER"),_.resume(),u}}function S(){var t=null;tt.prompt("login: "),Q.history&&tt.history().disable(),tt.commands(function(n){try{w(n);if(!t)t=n,tt.prompt("password: "),tt.mask(!0);else{tt.mask(!1),_.pause();if(typeof Q.login!="function")throw"Value of login property must be a function";var r=n;Q.login(t,r,function(n){if(n){var r=Q.name;r=(r?r+"_":"")+U+"_",e.Storage.set(r+"token",n),e.Storage.set(r+"login",t),tt.commands(E),O()}else _.error("Wrong password try again"),tt.prompt("login: "),t=null;_.resume()},_)}}catch(i){throw l(i,"LOGIN",_),i}})}function x(){if(typeof Q.onBeforelogout=="function")try{if(Q.onBeforelogout(_)===!1)return}catch(t){throw l(t,"onBeforelogout"),t}var n=(Q.name?Q.name+"_":"")+U+"_";e.Storage.remove(n+"token"),e.Storage.remove(n+"login"),Q.history&&tt.history().disable(),S();if(typeof Q.onAfterlogout=="function")try{Q.onAfterlogout(_)}catch(t){throw l(t,"onAfterlogout"),t}}function T(t){var n=(Q.name?Q.name+"_":"")+U+"_interpreters",r=e.Storage.get(n);r?r=(new Function("return "+r+";"))():r=[],e.inArray(t,r)==-1&&(r.push(t),e.Storage.set(n,e.json_stringify(r)))}function N(){var e=et.top(),t=(Q.name?Q.name+"_":"")+U+(B.length?"_"+B.join("_"):"");T(t),tt.name(t),typeof e.prompt=="function"?tt.prompt(function(t){e.prompt(t,_)}):tt.prompt(e.prompt),tt.set(""),typeof e.onStart=="function"&&e.onStart(_)}function O(){N(),Q.history&&tt.history().enable(),b();if(typeof Q.onInit=="function")try{Q.onInit(_)}catch(e){throw l(e,"OnInit"),e}}function M(n){var r,i,s=et.top();if(e.type(s.keydown)==="function"){r=s.keydown(n,_);if(r!==t)return r}_.oneTime(10,function(){Y()});if(e.type(Q.keydown)==="function"){r=Q.keydown(n,_);if(r!==t)return r}if(!_.paused()){n.which!==9&&(I=0);if(n.which===68&&n.ctrlKey)return tt.get()===""?et.size()>1||Q.login!==t?_.pop(""):(_.resume(),_.echo("")):_.set_command(""),!1;if(Q.tabcompletion&&n.which===9){++I;var o=tt.get().substring(0,tt.position()),u=o.split(" "),a;if(u.length==1)a=u[0];else{a=u[u.length-1];for(i=u.length-1;i>0;i--){if(u[i-1][u[i-1].length-1]!="\\")break;a=u[i-1]+" "+a}}var f=/([\^\$\[\]\(\)\+\*\.\|])/g,l=a.replace(f,"\\$1"),c=new RegExp("^"+l);return et.top().completion(_,a,function(e){var t=tt.get().substring(0,tt.position());if(t!==o)return;var n=[];for(i=e.length;i--;)c.test(e[i])&&n.push(e[i]);if(n.length===1)_.insert(n[0].replace(c,""));else if(n.length>1)if(I>=2)w(o),_.echo(n.join("	")),I=0;else{var r=!1;e:for(var s=a.length;s<n[0].length;++s){for(i=1;i<n.length;++i)if(n[0].charAt(s)!==n[i].charAt(s))break e;r=!0}r&&_.insert(n[0].slice(0,s).replace(c,""))}}),!1}if(n.which===86&&n.ctrlKey){_.oneTime(1,function(){h()});return}if(n.which===9&&n.ctrlKey){if(H.length()>1)return _.focus(!1),!1}else n.which===34?_.scroll(_.height()):n.which===33?_.scroll(-_.height()):_.attr({scrollTop:_.attr("scrollHeight")})}else if(n.which===68&&n.ctrlKey){if(P.length){for(i=P.length;i--;){var p=P[i];if(4!==p.readyState)try{p.abort()}catch(d){_.error("error in aborting ajax")}}P=[],_.resume()}return!1}}var d=[],m=1,_=this;if(this.length>1)return this.each(function(){e.fn.terminal.call(e(this),n,e.extend({name:_.selector},r))});if(_.data("terminal"))return _.data("terminal");if(_.length===0)throw'Sorry, but terminal said that "'+_.selector+'" is not valid selector!';var B=[],j,F,I=0,q=[],R,U=H.length(),z,W=[],X,V,J,K=[],Q=e.extend({},e.terminal.defaults,{name:_.selector},r||{}),G=!Q.enabled;e.extend(_,e.omap({clear:function(){R.html(""),tt.set(""),q=[];try{Q.onClear(_)}catch(e){throw l(e,"onClear"),e}return _.attr({scrollTop:0}),_},export_view:function(){return{prompt:_.get_prompt(),command:_.get_command(),position:tt.position(),lines:q.slice(0)}},import_view:function(e){return _.set_prompt(e.prompt),_.set_command(e.command),tt.position(e.position),q=e.lines,_.resize(),_},exec:function(e,t){return G?K.push([e,t]):E(e,t),_},commands:function(){return et.top().interpreter},greetings:function(){return b(),_},paused:function(){return G},pause:function(){return tt&&(G=!0,_.disable(),tt.hidden()),_},resume:function(){if(tt){_.enable();var e=K;K=[];while(e.length){var t=e.shift();_.exec.apply(_,t)}tt.visible(),h()}return _},cols:function(){return z},rows:function(){var t=e('<div class="terminal"><span>&nbsp;</span></div>').appendTo("body"),n=Math.floor(_.height()/t.height());return t.remove(),n},history:function(){return tt.history()},next:function(){if(H.length()===1)return _;var t=_.offset().top,n=_.height(),r=_.scrollTop();if(!C(_))return _.enable(),e("html,body").animate({scrollTop:t-50},500),_;H.front().disable();var i=H.rotate().enable(),s=i.offset().top-50;e("html,body").animate({scrollTop:s},500);try{Q.onTerminalChange(i)}catch(o){throw l(o,"onTerminalChange"),o}return i},focus:function(e,t){return _.oneTime(1,function(){if(H.length()===1)if(e===!1)try{!t&&Q.onBlur(_)!==!1&&_.disable()}catch(n){throw l(n,"onBlur"),n}else try{!t&&Q.onFocus(_)!==!1&&_.enable()}catch(n){throw l(n,"onFocus"),n}else if(e===!1)_.next();else{var r=H.front();if(r!=_){r.disable();if(!t)try{Q.onTerminalChange(_)}catch(n){throw l(n,"onTerminalChange"),n}}H.set(_),_.enable()}}),_},enable:function(){return z===t&&_.resize(),G&&tt&&(tt.enable(),G=!1),_},disable:function(){return tt&&(G=!0,tt.disable()),_},enabled:function(){return G},signature:function(){var e=_.cols(),t=e<15?null:e<35?0:e<55?1:e<64?2:e<75?3:4;return t!==null?D[t].join("\n")+"\n":""},version:function(){return A},get_command:function(){return tt.get()},insert:function(e){if(typeof e=="string")return tt.insert(e),_;throw"insert function argument is not a string"},set_prompt:function(e){return p("prompt",e)&&(typeof e=="function"?tt.prompt(function(t){e(t,_)}):tt.prompt(e),et.top().prompt=e),_},get_prompt:function(){return et.top().prompt},set_command:function(e){return tt.set(e),_},set_mask:function(e){return tt.mask(e),_},get_output:function(t){return t?q:e.map(q,function(e){return typeof e[0]=="function"?e[0]():e[0]}).join("\n")},resize:function(t,n){t&&n&&(_.width(t),_.height(n)),t=_.width(),n=_.height();var r=k(_);if(r!==z){z=r,tt.resize(z);var i=R.empty().detach();e.each(q,function(e,t){g.apply(null,t)}),tt.before(i),y(),typeof Q.onResize=="function"&&(J!==n||V!==t)&&Q.onResize(_);if(J!==n||V!==t)J=n,V=t}return _},flush:function(){y()},echo:function(t,n){try{var r=e.extend({flush:!0,raw:!1,finalize:e.noop},n||{});d=[],g(t,r),r.flush&&y(),q.push([t,r]);if(r.outputLimit>=0){var i=r.outputLimit===0?_.rows():r.outputLimit,s=R.find("div div");s.length>i&&s.slice(0,q.length-i+1).remove()}Y()}catch(o){alert("terminal.echo "+f(o)+"\n"+o.stack)}return _},error:function(t,n){return _.echo("[[;#f00;]"+e.terminal.escape_brackets(t).replace(/\\$/,"&#92;")+"]",n)},scroll:function(e){var t;return e=Math.round(e),j.prop?(e>j.prop("scrollTop")&&e>0&&j.prop("scrollTop",0),t=j.prop("scrollTop"),j.scrollTop(t+e),_):(e>j.attr("scrollTop")&&e>0&&j.attr("scrollTop",0),t=j.attr("scrollTop"),j.scrollTop(t+e),_)},logout:Q.login?function(){while(et.size()>1)et.pop();return x(),_}:function(){throw"You don't have login function"},token:Q.login?function(){var t=Q.name;return e.Storage.get((t?t+"_":"")+U+"_token")}:e.noop,login_name:Q.login?function(){var t=Q.name;return e.Storage.get((t?t+"_":"")+U+"_login")}:e.noop,name:function(){return et.top().name},push:function(t,n){if(n&&(!n.prompt||p("prompt",n.prompt))||!n){n=n||{},n.name=n.name||F,n.prompt=n.prompt||n.name+" ",B.push(n.name);var r=et.top();r&&(r.mask=tt.mask()),a(t,function(t){et.push(e.extend({},t,n)),N()})}return _},pop:function(n){n!==t&&w(n),B.pop();if(et.top().name===Q.name){if(Q.login){x();if(e.type(Q.onExit)==="function")try{Q.onExit(_)}catch(r){throw l(r,"onExit"),r}}}else{var i=et.pop();N();if(e.type(i.onExit)==="function")try{i.onExit(_)}catch(r){throw l(r,"onExit"),r}_.set_mask(et.top().mask)}return _},level:function(){return et.size()},reset:function(){_.clear();while(et.size()>1)et.pop();return O(),_},purge:function(){var t=(Q.name?Q.name+"_":"")+U+"_",n=e.Storage.get(t+"interpreters");return e.each((new Function("return "+n+";"))(),function(t,n){e.Storage.remove(n+"_commands")}),e.Storage.remove(t+"interpreters"),e.Storage.remove(t+"token"),e.Storage.remove(t+"login"),_},destroy:function(){return tt.destroy().remove(),R.remove(),e(document).unbind(".terminal"),e(window).unbind(".terminal"),_.unbind("click, mousewheel"),_.removeData("terminal").removeClass("terminal"),Q.width&&_.css("width",""),Q.height&&_.css("height",""),_}},function(e,t){return function(){try{return t.apply(this,Array.prototype.slice.apply(arguments))}catch(n){throw e!=="exec"&&l(n,"TERMINAL"),n}}}));var Y=function(){var e=L(_);return function(){e!==L(_)&&(_.resize(),e=L(_))}}();Q.width&&_.width(Q.width),Q.height&&_.height(Q.height),!navigator.userAgent.toLowerCase().match(/(webkit)[ \/]([\w.]+)/)&&_[0].tagName.toLowerCase()=="body"?j=e("html"):j=_,e(document).bind("ajaxSend.terminal",function(e,t,n){P.push(t)}),e("<div>").addClass("terminal-header").appendTo(_),R=e("<div>").addClass("terminal-output").appendTo(_),_.addClass("terminal");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)_.click(function(){_.find("textarea").focus()}),_.find("textarea").focus();if(Q.login&&typeof Q.onBeforeLogin=="function")try{Q.onBeforeLogin(_)}catch(Z){throw l(Z,"onBeforeLogin"),Z}typeof n=="string"&&(typeof Q.login=="string"||Q.login)&&(Q.login=function(t){return function(r,i,s,o){_.pause(),e.jrpc(n,t,[r,i],function(e){_.resume(),!e.error&&e.result?s(e.result):s(null)},function(e,t,n){_.resume(),_.error("&#91;AJAX&#92; Response: "+t+"\n"+e.responseText)})}}(e.type(Q.login)==="boolean"?"login":Q.login));if(p("prompt",Q.prompt)){var et,tt;a(n,function(n){et=new c(e.extend({name:Q.name,prompt:Q.prompt,greetings:Q.greetings},n)),tt=e("<div/>").appendTo(_).cmd({prompt:Q.prompt,history:Q.history,historyFilter:Q.historyFilter,historySize:Q.historySize,width:"100%",keydown:M,keypress:Q.keypress?function(e){return Q.keypress(e,_)}:null,onCommandChange:function(t){if(e.type(Q.onCommandChange)==="function")try{Q.onCommandChange(t,_)}catch(n){throw l(n,"onCommandChange"),n}h()},commands:E}),H.append(_),Q.enabled===!0?_.focus(t,!0):_.disable(),e(document).bind("click.terminal",function(t){!e(t.target).parents().hasClass("terminal")&&Q.onBlur(_)!==!1&&_.disable()}),_.click(function(){_.focus()}),Q.login&&_.token&&!_.token()&&_.login_name&&!_.login_name()?S():O(),z=k(_),tt.resize(z),_.oneTime(100,function(){e(window).bind("resize.terminal",function(){if(_.is(":visible")){var e=_.width(),t=_.height();(J!==t||V!==e)&&_.resize()}})}),e.type(e.fn.init.prototype.mousewheel)==="function"&&_.mousewheel(function(e,t){return t>0?_.scroll(-40):_.scroll(40),!1},!0)})}return _.data("terminal",_),_}}(jQuery),define("jquery.terminal",function(){}),function(e){typeof define=="function"&&define.amd?define("jquery.ui.widget",["jquery"],e):e(jQuery)}(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a=t.split(".")[0];t=t.split(".")[1],i=a+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[a]=e[a]||{},s=e[a][t],o=e[a][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,i){e.isFunction(i)&&(r[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=r,s=i.apply(this,arguments),this._super=t,this._superApply=n,s}}())}),o.prototype=e.widget.extend(u,{widgetEventPrefix:u.widgetEventPrefix||t},r,{constructor:o,namespace:a,widgetName:t,widgetBaseClass:i,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():new i(o,this)}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetName,this),e.data(r,this.widgetFullName,this),this._on(this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n){var r,i=this;n?(t=r=e(t),this.bindings=this.bindings.add(t)):(n=t,t=this.element,r=this.widget()),e.each(n,function(n,s){function o(){if(i.options.disabled===!0||e(this).hasClass("ui-state-disabled"))return;return(typeof s=="string"?i[s]:s).apply(i,arguments)}typeof s!="string"&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var u=n.match(/^(\w+)\s*(.*)$/),a=u[1]+i.eventNamespace,f=u[2];f?r.delegate(f,a,o):t.bind(a,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&(e.effects.effect[u]||e.uiBackCompat!==!1&&e.effects[u])?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})});var Model=function(e,t){var n=function(t){this.attributes=Model.Utils.extend({},t),this.changes={},this.errors=new Model.Errors(this),this.uid=[e,Model.UID.generate()].join("-"),Model.Utils.isFunction(this.initialize)&&this.initialize()};return Model.Module.extend.call(n,Model.Module),n._name=e,n.collection=[],n.unique_key="id",n.extend(Model.Callbacks).extend(Model.ClassMethods),n.prototype=new Model.Base,n.prototype.constructor=n,Model.Utils.isFunction(t)&&t.call(n,n,n.prototype),n};Model.Callbacks={bind:function(e,t){return this.callbacks=this.callbacks||{},this.callbacks[e]=this.callbacks[e]||[],this.callbacks[e].push(t),this},trigger:function(e,t){this.callbacks=this.callbacks||{};var n=this.callbacks[e];if(n)for(var r=0;r<n.length;r++)n[r].apply(this,t||[]);return this},unbind:function(e,t){this.callbacks=this.callbacks||{};if(t)for(var n=this.callbacks[e]||[],r=0;r<n.length;r++)n[r]===t&&this.callbacks[e].splice(r,1);else delete this.callbacks[e];return this}},Model.ClassMethods={add:function(e){var t=e.id();return Model.Utils.inArray(this.collection,e)===-1&&(!t||!this.find(t))&&(this.collection.push(e),this.trigger("add",[e])),this},all:function(){return this.collection.slice()},chain:function(e){return Model.Utils.extend({},this,{collection:e||[]})},count:function(){return this.all().length},detect:function(e){for(var t=this.all(),n,r=0,i=t.length;r<i;r++){n=t[r];if(e.call(n,n,r))return n}},each:function(e,t){for(var n=this.all(),r=0,i=n.length;r<i;r++)e.call(t||n[r],n[r],r,n);return this},find:function(e){return this.detect(function(){return this.id()==e})},first:function(){return this.all()[0]},load:function(e){if(this._persistence){var t=this;this._persistence.read(function(n){for(var r=0,i=n.length;r<i;r++)t.add(n[r]);e&&e.call(t,n)})}return this},last:function(){var e=this.all();return e[e.length-1]},map:function(e,t){for(var n=this.all(),r=[],i=0,s=n.length;i<s;i++)r.push(e.call(t||n[i],n[i],i,n));return r},persistence:function(e){if(arguments.length==0)return this._persistence;var t=Array.prototype.slice.call(arguments,1);return t.unshift(this),this._persistence=e.apply(e,t),this},pluck:function(e){for(var t=this.all(),n=[],r=0,i=t.length;r<i;r++)n.push(t[r].attr(e));return n},remove:function(e){for(var t,n=0,r=this.collection.length;n<r;n++)if(this.collection[n]===e){t=n;break}return t!=undefined?(this.collection.splice(t,1),this.trigger("remove",[e]),!0):!1},reverse:function(){return this.chain(this.all().reverse())},select:function(e,t){for(var n=this.all(),r=[],i,s=0,o=n.length;s<o;s++)i=n[s],e.call(t||i,i,s,n)&&r.push(i);return this.chain(r)},sort:function(e){return this.chain(this.all().sort(e))},sortBy:function(e){var t=Model.Utils.isFunction(e);return this.sort(function(n,r){var i=t?e.call(n):n.attr(e),s=t?e.call(r):r.attr(e);return i<s?-1:i>s?1:0})},use:function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(this),e.apply(this,t),this}},Model.Errors=function(e){this.errors={},this.model=e},Model.Errors.prototype={add:function(e,t){return this.errors[e]||(this.errors[e]=[]),this.errors[e].push(t),this},all:function(){return this.errors},clear:function(){return this.errors={},this},each:function(e){for(var t in this.errors)for(var n=0;n<this.errors[t].length;n++)e.call(this,t,this.errors[t][n]);return this},on:function(e){return this.errors[e]||[]},size:function(){var e=0;return this.each(function(){e++}),e}},Model.InstanceMethods={asJSON:function(){return this.attr()},attr:function(e,t){if(arguments.length===0)return Model.Utils.extend({},this.attributes,this.changes);if(arguments.length===2)return this.attributes[e]===t?delete this.changes[e]:this.changes[e]=t,this.trigger("change:"+e,[this]),this;if(typeof e=="object"){for(var n in e)this.attr(n,e[n]);return this.trigger("change",[this]),this}return e in this.changes?this.changes[e]:this.attributes[e]},callPersistMethod:function(e,t){var n=this,r=function(r){r&&(n.merge(n.changes).reset(),e==="destroy"?n.constructor.remove(n):n.constructor.add(n),n.trigger(e));var i;return t&&(i=t.apply(n,arguments)),i};this.constructor._persistence?this.constructor._persistence[e](this,r):r.call(this,!0)},destroy:function(e){return this.callPersistMethod("destroy",e),this},id:function(){return this.attributes[this.constructor.unique_key]},merge:function(e){return Model.Utils.extend(this.attributes,e),this},newRecord:function(){return this.id()===undefined},reset:function(){return this.errors.clear(),this.changes={},this},save:function(e){return this.valid()?this.callPersistMethod(this.newRecord()?"create":"update",e):e&&e(!1),this},valid:function(){return this.errors.clear(),this.validate(),this.errors.size()===0},validate:function(){return this}},Model.localStorage=function(e){if(!window.localStorage)return{create:function(e,t){t(!0)},destroy:function(e,t){t(!0)},read:function(e){e([])},update:function(e,t){t(!0)}};var t=[e._name,"collection"].join("-"),n=function(){var e=localStorage[t];return e?JSON.parse(e):[]},r=function(e){localStorage.setItem(e.uid,JSON.stringify(e.asJSON())),e=e.uid;var r=n();Model.Utils.inArray(r,e)===-1&&(r.push(e),localStorage.setItem(t,JSON.stringify(r)))};return{create:function(e,t){r(e),t(!0)},destroy:function(e,r){localStorage.removeItem(e.uid);var i=e.uid,s=n();i=Model.Utils.inArray(s,i),i>-1&&(s.splice(i,1),localStorage.setItem(t,JSON.stringify(s))),r(!0)},read:function(t){if(!t)return!1;for(var r=e.map(function(){return this.uid}),i=n(),s=[],o,u,f=0,l=i.length;f<l;f++)u=i[f],Model.Utils.inArray(r,u)==-1&&(o=JSON.parse(localStorage[u]),o=new e(o),o.uid=u,s.push(o));t(s)},update:function(e,t){r(e),t(!0)}}},Model.Log=function(){window.console&&window.console.log.apply(window.console,arguments)},Model.Module={extend:function(e){return Model.Utils.extend(this,e),this},include:function(e){return Model.Utils.extend(this.prototype,e),this}},Model.REST=function(e,t,n){var r=/:([\w\d]+)/g,i=function(){for(var e=[],n;(n=r.exec(t))!==null;)e.push(n[1]);return e}();return Model.Utils.extend({path:function(e){var n=t;return jQuery.each(i,function(t,r){n=n.replace(":"+r,e.attributes[r])}),n},create:function(e,t){return this.xhr("POST",this.create_path(e),e,t)},create_path:function(e){return this.path(e)},destroy:function(e,t){return this.xhr("DELETE",this.destroy_path(e),e,t)},destroy_path:function(e){return this.update_path(e)},params:function(e){var t;if(e){var n=e.asJSON();delete n[e.constructor.unique_key],t={},t[e.constructor._name.toLowerCase()]=n}else t=null;return jQuery.ajaxSettings.data&&(t=Model.Utils.extend({},jQuery.ajaxSettings.data,t)),JSON.stringify(t)},read:function(t){return this.xhr("GET",this.read_path(),null,function(n,r,i){i=jQuery.makeArray(i),n=[],r=0;for(var s=i.length;r<s;r++)n.push(new e(i[r]));t(n)})},read_path:function(){return t},update:function(e,t){return this.xhr("PUT",this.update_path(e),e,t)},update_path:function(e){return[this.path(e),e.id()].join("/")},xhr:function(e,t,n,r){var i=this,s=e=="GET"?undefined:this.params(n);return jQuery.ajax({type:e,url:t,contentType:"application/json",dataType:"json",data:s,dataFilter:function(e){return/\S/.test(e)?e:undefined},complete:function(e,t){i.xhrComplete(e,t,n,r)}})},xhrComplete:function(e,t,n,r){var i=Model.REST["handle"+e.status];i&&i.call(this,e,t,n),t=t==="success",i=Model.REST.parseResponseData(e),t&&n&&i&&n.attr(i),r&&r.call(n,t,e,i)}},n)},Model.RestPersistence=Model.REST,Model.REST.handle422=function(e,t,n){if(e=Model.REST.parseResponseData(e)){n.errors.clear();for(var r in e)for(t=0;t<e[r].length;t++)n.errors.add(r,e[r][t])}},Model.REST.parseResponseData=function(e){try{return/\S/.test(e.responseText)?jQuery.parseJSON(e.responseText):undefined}catch(t){Model.Log(t)}},Model.UID={counter:0,generate:function(){return[(new Date).valueOf(),this.counter++].join("-")},reset:function(){return this.counter=0,this}},Model.Utils={extend:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=0,r=t.length;n<r;n++)for(var i in t[n])e[i]=t[n][i];return e},inArray:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},isFunction:function(e){return Object.prototype.toString.call(e)==="[object Function]"}},Model.VERSION="0.11.0",Model.Base=function(){function e(){}return e.prototype=Model.Utils.extend({},Model.Callbacks,Model.InstanceMethods),e}(),define("jsmodel",function(){}),define("controllers/dash",["jquery","sammy","faye","jspdf","views/devices","views/fsm","views/tasks","hbs!tpl/main.menu.right.html","hbs!tpl/modals/alerts.html","hbs!tpl/tabs.html","jquery.easyModal","jquery.terminal","jquery.ui.widget","jsmodel"],function(e,t,n,r,i,s,o,u,a,f){function l(t){e("#menu nav a").each(function(){e(this).attr("data")&&(this.href="/#/"+t+"/"+e(this).attr("data"))})}console.log("Loaded dash");var e=e||e(function(e){e=e});return window.addEventListener("online",function(e){console.log("And we're back :)")},!1),window.addEventListener("offline",function(e){console.log("Connection is flaky.")},!1),showOfflineBanner=function(){e("#main-container").append('<p style="text-align:center;margin-top:100px;"><h1 style="text-align:center;">You are offline.</h1><h3 style="text-align:center;">Refresh to try again</h3></p>')},{start:function(){console.log("starting dash on channel: "+SP.WS.channel);if(!navigator.onLine){showOfflineBanner();return}SP.Terminal=e("#terminal").terminal({},{enabled:!1,greetings:"Ready.",onFocus:function(){return!1},onBlur:function(){return!0}}),e("#terminal .terminal-header").html('<div style="float:right;"><a href="#" style="color:#fff;" action="log2PDF">Download</a></div>'),e("#modals:first").append(a({},{partials:{}})),e("#menu-right:first").append(u({},{partials:{}})),e("#menu #app_tabs:first").append(f({},{partials:{}})),e(".modal.c0").easyModal({top:200,overlay:.2}),e(".modal.c2").easyModal({top:200,overlay:.2});var n=t(function(){e(document).on("click",function(t){console.log(e(t.target)),console.log("Action : "+e(t.target).attr("action"));var r=e(t.target).attr("action");e(t.target).is("#main-menu-login ul li")||e("div.account_dropdown").hide(),e(t.target).is("#main-menu-header ul li")||e("div.app_dropdown").hide(),e(t.target).is("#menu-right li.beacon")||e("#menu-right div.beacon.dropdown").hide();switch(r){case"showNewApp":e(".modal.c1").trigger("openModal"),e("div.app_dropdown").hide();break;case"user.logout":e("div.account_dropdown").hide(),n.setLocation("#/logout");break;case"openDashboard":window.location.href="/apps";break;case"openConsole":e("#terminal").toggle();break;case"log2PDF":var i=new jsPDF,s={"#editor":function(e,t){return!0}};i.fromHTML(e("#terminal .terminal-output").html(),15,15,{width:800,elementHandlers:s}),i.save("log.pdf");break;case"showBeaconTabbadgeMenu":SP.incrementTabIcon(),e("#menu-right div.beacon.dropdown").css({display:"inline-block"})}}),e("button").on("click",function(){e(this).attr("data")=="submit-c1"&&e(".modal.c1").trigger("closeModal")}),e("form").submit(function(e){return e.preventDefault(),!1}),this.get("/:appid/sparkdash/#/devices",function(){e("header").each(function(){e(this).removeClass("active")}),e("header.devices").toggleClass("active"),e("div.app_dropdown").hide(),SP.Tab.Devices.MAP||i.render()}),this.get("/:appid/sparkdash/#/fsm",function(){console.log("Sammy says: fsm"),e("header").each(function(){e(this).removeClass("active")}),e("header.fsm").toggleClass("active"),e("div.app_dropdown").hide(),s.render()}),this.get("/:appid/sparkdash/#/tasks",function(){console.log("Sammy says: tasks"),e("header").each(function(){e(this).removeClass("active")}),e("header.tasks").toggleClass("active"),e("div.app_dropdown").hide(),o.render({foo:"bar"})}),this.get("#/account",function(){}),this.get("#/logout",function(){e("#layout #main").animate({opacity:0},200,"linear",function(){e("#main-menu-container").css({top:"-75px"}),e("#menu").css({left:0}),window.location.href="/logout"})}),this.get("#/login",function(){e("#main-menu-container").css({top:0}),e("#menu").css({left:"75px"})}),this.get("/:appid/sparkdash",function(){console.log("initalizing app "+this.params.appid),l(this.params.appid),n.setLocation("/"+this.params.appid+"/sparkdash/#/devices")})});return n.run(),!0}}}),define("controllers/login",["jquery"],function(e){console.log("Loaded login");var e=e||e(function(e){e=e});return{start:function(){return console.log("starting login"),!0}}}),define("hbs!tpl/modals/app.settings.html",["handlebars"],function(e){return e.template(function(e,t,n,r,i){return this.compilerInfo=[2,">= 1.0.0-rc.3"],n=n||e.helpers,i=i||{},'<div id="options" class="avgrund-popup">\n    <div id="list">\n      <ul>\n        <li class="active"><i class="icon-dashboard"></i>System</li>\n        <li><i class="icon-table"></i>Layout</li>\n        <li><i class="icon-magic"></i>Style</li>\n        <li><i class="icon-hand-right"></i>Credits</li>\n      </ul>\n    </div>\n  <div id="view">\n    <div class="settings show">\n      <h1>System</h1>\n      <form>\n        <section>\n          <h2>Temperature</h2>\n          <div>\n            <input name="unitType" type="radio" value="f" id="fahrenheit" checked/>\n            <label for="fahrenheit">Fahrenheit</label>\n          </div>\n          <div>\n            <input name="unitType" type="radio" value="c" id="celsius"/>\n            <label for="celsius">Celsius</label>\n          </div>\n        </section>\n        <section>\n          <h2>Hours</h2>\n          <div>\n            <input name="clock" type="radio" value="12" id="time12" checked/>\n            <label for="time12">12</label>\n          </div>\n          <div>\n            <input name="clock" type="radio" value="24" id="time24"/>\n            <label for="time24">24</label>\n          </div>\n        </section>\n        <section>\n          <h2>Choose Your Language</h2>\n          <div>\n              <select name="lang" id="lang">\n                <option value="AF">Afrikaans</option>\n                <option value="AL">Albanian</option>\n                <option value="AR">Arabic</option>\n                <option value="HY">Armenian</option>\n                <option value="AZ">Azerbaijani</option>\n                <option value="EU">Basque</option>\n                <option value="BY">Belarusian</option>\n                <option value="BU">Bulgarian</option>\n                <option value="LI">British English</option>\n                <option value="MY">Burmese</option>\n                <option value="CA">Catalan</option>\n                <option value="CN">Chinese - Simplified</option>\n                <option value="TW">Chinese - Traditional</option>\n                <option value="CR">Croatian</option>\n                <option value="CZ">Czech</option>\n                <option value="DK">Danish</option>\n                <option value="DV">Dhivehi</option>\n                <option value="NL">Dutch</option>\n                <option value="EN" selected="selected">English</option>\n                <option value="EO">Esperanto</option>\n                <option value="ET">Estonian</option>\n                <option value="FA">Farsi</option>\n                <option value="FI">Finnish</option>\n                <option value="FR">French</option>\n                <option value="FC">French Canadian</option>\n                <option value="GZ">Galician</option>\n                <option value="DL">German</option>\n                <option value="KA">Georgian</option>\n                <option value="GR">Greek</option>\n                <option value="GU">Gujarati</option>\n                <option value="HT">Haitian Creole</option>\n                <option value="IL">Hebrew</option>\n                <option value="HI">Hindi</option>\n                <option value="HU">Hungarian</option>\n                <option value="IS">Icelandic</option>\n                <option value="IO">Ido</option>\n                <option value="ID">Indonesian</option>\n                <option value="IR">Irish Gaelic</option>\n                <option value="IT">Italian</option>\n                <option value="JP">Japanese</option>\n                <option value="JW">Javanese</option>\n                <option value="KM">Khmer</option>\n                <option value="KR">Korean</option>\n                <option value="KU">Kurdish</option>\n                <option value="LA">Latin</option>\n                <option value="LV">Latvian</option>\n                <option value="LT">Lithuanian</option>\n                <option value="ND">Low German</option>\n                <option value="MK">Macedonian</option>\n                <option value="MT">Maltese</option>\n                <option value="GM">Mandinka</option>\n                <option value="MI">Maori</option>\n                <option value="MR">Marathi</option>\n                <option value="MN">Mongolian</option>\n                <option value="NO">Norwegian</option>\n                <option value="OC">Occitan</option>\n                <option value="PS">Pashto</option>\n                <option value="GN">Plautdietsch</option>\n                <option value="PL">Polish</option>\n                <option value="BR">Portuguese</option>\n                <option value="PA">Punjabi</option>\n                <option value="RO">Romanian</option>\n                <option value="RU">Russian</option>\n                <option value="SR">Serbian</option>\n                <option value="SK">Slovak</option>\n                <option value="SL">Slovenian</option>\n                <option value="SP">Spanish</option>\n                <option value="SI">Swahili</option>\n                <option value="SW">Swedish</option>\n                <option value="CH">Swiss</option>\n                <option value="TL">Tagalog</option>\n                <option value="TT">Tatarish</option>\n                <option value="TH">Thai</option>\n                <option value="TR">Turkish</option>\n                <option value="TK">Turkmen</option>\n                <option value="UA">Ukrainian</option>\n                <option value="UZ">Uzbek</option>\n                <option value="VU">Vietnamese</option>\n                <option value="CY">Welsh</option>\n                <option value="SN">Wolof</option>\n                <option value="JI">Yiddish - transliterated</option>\n                <option value="YI">Yiddish - unicode</option>\n              </select>\n            </div>\n          </section>\n        <section>\n          <h2>Location Address <i>(optional)</i></h2>\n          <div>\n            <input type="text" name="address" id="address" placeholder="Boulder, CO, 80305, USA" />\n          </div>\n        </section>\n        <button type="submit">SAVE</button>\n      </form>\n    </div>\n    <div class="settings">\n      <h1>Layout</h1>\n      <form>\n        <section>\n          <h2>Animation Toggle</h2>\n          <div>\n            <input type="radio" name="animation" id="animation-on" value="true" checked/>\n            <label for="animation-on">On</label>\n          </div>\n          <div>\n            <input type="radio" name="animation" id="animation-off" value="false"/>\n            <label for="animation-off">Off</label>\n          </div>\n        </section>\n        <section>\n          <h2>Seconds Toggle</h2>\n          <div>\n            <input name="seconds" type="radio" value="true" id="show-seconds" checked/>\n            <label for="show-seconds">On</label>\n          </div>\n          <div>\n            <input name="seconds" type="radio" value="false" id="hide-seconds"/>\n            <label for="hide-seconds">Off</label>\n          </div>\n        </section>\n        <button type="submit">SAVE</button>\n      </form>\n    </div>\n    <div class="settings">\n      <h1>Style</h1>\n      <form>\n      <section>\n          <h2>Text Color</h2>\n          <div>\n            <input name="textColor" type="radio" value="dark-text" id="dark-text"/>\n            <label for="dark">Dark</label>\n          </div>\n          <div>\n            <input name="textColor" type="radio" value="light-text" id="light-text" checked/>\n            <label for="light">Light</label>\n          </div>\n        </section>\n        <section>\n          <h2>Background Color</h2>\n          <div id="color-pick">\n            <ul>\n              <li class="dark-bg active"><i class="icon-ok"></i></li>\n              <li class="light-bg"><i class="icon-ok"></i></li>\n              <li class="mint-bg"><i class="icon-ok"></i></li>\n              <li class="blue-bg"><i class="icon-ok"></i></li>\n              <li class="red-bg"><i class="icon-ok"></i></li>\n              <li class="orange-bg"><i class="icon-ok"></i></li>\n              <li class="green-bg"><i class="icon-ok"></i></li>\n              <li class="purple-bg"><i class="icon-ok"></i></li>\n              <li class="aqua-bg"><i class="icon-ok"></i></li>\n            </ul>\n            <input type="hidden" name="color" value="">\n            <div id="preview" class="dark-bg light-text">\n              <i>1</i>\n            </div>\n        </div>\n        </section>\n        <button type="submit">SAVE</button>\n      </form>\n    </div>\n    <div class="settings">\n      <h1>Credits</h1>\n      <form>\n        <section>\n          <h2>Weather Icons</h2>\n          <div>\n            <a href="https://twitter.com/adamwhitcroft" target="_blank">Adam Whitcroft</a>\n          </div>\n        </section>\n        <section>\n          <h2>jQuery</h2>\n          <div>\n            <a href="http://jquery.com/" target="_blank">Homepage</a>\n          </div>\n        </section>\n        <section>\n          <h2>underscore.js</h2>\n          <div>\n            <a href="http://underscorejs.org/" target="_blank">Homepage</a>\n          </div>\n        </section>\n        <section>\n          <h2>Avgrund</h2>\n          <div>\n            <a href="https://twitter.com/hakimel" target="_blank">Hakim El Hattab</a>\n          </div>\n        </section>\n        <section>\n          <h2>Tipsy</h2>\n          <div>\n            <a href="https://github.com/jaz303/tipsy" target="_blank">Github</a>\n          </div>\n        </section>\n        <section>\n          <h2>Q.js</h2>\n          <div>\n            <a href="https://github.com/kriskowal/q" target="_blank">Github</a>\n          </div>\n        </section>\n        <section>\n          <h2>Geolib</h2>\n          <div>\n            <a href="https://github.com/manuelbieh/Geolib" target="_blank">Github</a>\n          </div>\n        </section>\n      </form>\n    </div>\n    <div class="promo">\n      <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=ERRMQGDQL9SZA" target="_blank" id="gift">\n        <i class="icon-gift"></i>\n        <p>Think we\'ve done a good job?</p>\n        <p><b>Buy us a beer!</b></p>\n      </a>\n      <a href="https://twitter.com/share?text=Loving+the+new+updates+to+currently+http%3A%2F%2Fbit.ly%2FPMawVf+%23currently+%23chrome+by+%40vitaly_babiy+and+%40henrymodis" target="_blank" id="share"><i class="icon-twitter"></i>Share Currently</a>\n      <a href="https://twitter.com/vitaly_babiy" target="_blank" class="who vitaly"><b>Hacker:</b> @Vitaly</a>\n      <a href="https://twitter.com/henrymodis" target="_blank" class="who henry"><b>Designer:</b> @Henry</a>\n      <a class="normal" href="http://rainfalldesign.tumblr.com/">Updates</a>\n      <a class="normal" href="http://chromecurrently.uservoice.com" target="_blank" id="support">Support</a>\n    </div>\n  </div>\n  <a href="#" id="close"><i class="icon-remove"></i></a>\n</div>'})}),define("controllers/register",["jquery","hbs!tpl/modals/app.settings.html"],function(e,t){console.log("Loaded register");var e=e||e(function(e){e=e});return{start:function(n){return console.log("starting register"),e("#settings:first").append(t({},{partials:{}})),e("#btn-settings").on("click",function(){console.log("click"),SP.Avgrund.show("#options"),e("#options #list li:not(#options .active)").each(function(t){e(this).css("-webkit-animation-delay",80*t+"ms").addClass("animated fadeInLeft")})}),e("#options #close").click(function(){SP.Avgrund.hide("#options")}),e("#options #list li").click(function(){var t=e(this);e("#options #list li.active").removeClass("active"),t.addClass("active"),e(".settings.show").fadeOut(0).removeClass("show");var n=e(this).index();e(settings[n]).fadeIn(100).addClass("show")}),!0}}}),define("avgrund",[],function(){function i(e){e.keyCode===27&&u()}function s(e){e.target===n&&u()}function o(n){document.addEventListener("keyup",i,!1),document.addEventListener("click",s,!1),l(t,r),f(t,"no-transition"),f(t,n),setTimeout(function(){l(t,"no-transition"),f(e,"avgrund-active")},0),r=n}function u(){document.removeEventListener("keyup",i,!1),document.removeEventListener("click",s,!1),$("#list li").each(function(){$(this).removeClass("animated fadeInLeft")}),l(e,"avgrund-active"),l(t,"avgrund-popup-animate")}function a(){f(document.documentElement,"no-blur")}function f(e,t){e.className=e.className.replace(/\s+$/gi,"")+" "+t}function l(e,t){e.className=e.className.replace(t,"")}function c(e){return t=document.querySelector(e),f(t,"avgrund-popup-animate"),o(),this}function h(){u()}var e=document.documentElement,t=document.querySelector(".avgrund-popup-animate"),n=document.querySelector(".avgrund-cover"),r=null;return e.className=e.className.replace(/\s+$/gi,"")+" avgrund-ready",{activate:o,deactivate:u,disableBlur:a,show:c,hide:h}}),function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D=[].slice,P={}.hasOwnProperty,H=function(e,t){function n(){this.constructor=e}for(var r in t)P.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};v={catchupTime:500,initialRate:.03,minTime:500,ghostTime:250,maxProgressPerFrame:10,easeFactor:1.25,restartOnPushState:!0,elements:{checkInterval:100,selectors:["body"]}},E=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance?"function"==typeof performance.now?performance.now():void 0:void 0)?e:+(new Date)},x=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,d=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==x&&(x=function(e){return setTimeout(e,50)},d=function(e){return clearTimeout(e)}),N=function(e){var t,n;return t=E(),n=function(){var r;return r=E()-t,t=E(),e(r,function(){return x(n)})},n()},T=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?D.call(arguments,2):[],"function"==typeof n[t]?n[t].apply(n,e):n[t]},m=function(){var e,t,n,r,i,s,o;for(t=arguments[0],r=2<=arguments.length?D.call(arguments,1):[],s=0,o=r.length;o>s;s++)if(n=r[s])for(e in n)P.call(n,e)&&(i=n[e],null!=t[e]&&"object"==typeof t[e]&&null!=i&&"object"==typeof i?m(t[e],i):t[e]=i);return t},g=function(e,t){var n,r,i;if(null==e&&(e="options"),null==t&&(t=!0),i=document.querySelector("[data-pace-"+e+"]")){if(n=i.getAttribute("data-pace-"+e),!t)return n;try{return JSON.parse(n)}catch(s){return r=s,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",r):void 0}}},null==window.Pace&&(window.Pace={}),S=Pace.options=m(v,window.paceOptions,g()),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){return null==this.el&&(this.el=document.createElement("div"),this.el.className="pace pace-active",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=document.body.firstChild?document.body.insertBefore(this.el,document.body.firstChild):document.body.appendChild(this.el)),this.el},e.prototype.finish=function(){var e;return e=this.getElement(),e.className=e.className.replace("pace-active",""),e.className+=" pace-inactive"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){return this.getElement().parentNode.removeChild(this.getElement()),this.el=void 0},e.prototype.render=function(){var e,t;return null==document.body?!1:(e=this.getElement(),e.children[0].style.width=""+this.progress+"%",(!this.lastRenderedProgress||0|(this.lastRenderedProgress|0!==this.progress))&&(e.setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?t="99":(t=this.progress<10?"0":"",t+=0|this.progress),e.setAttribute("data-progress",""+t)),this.lastRenderedProgress=this.progress)},e.prototype.done=function(){return this.progress>=100},e}(),o=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var n,r,i,s,o;if(null!=this.bindings[e]){for(s=this.bindings[e],o=[],r=0,i=s.length;i>r;r++)n=s[r],o.push(n.call(this,t));return o}},e.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},e}(),O=window.XMLHttpRequest,A=window.XDomainRequest,u=function(e){function t(){var e,n=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(r,i){return n.trigger("request",{type:r,url:i,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(){var t;return t=new O,e(t),t},null!=A&&(window.XDomainRequest=function(){var t;return t=new A,e(t),t})}return H(t,e),t}(o),w=new u,e=function(){function e(){var e=this;this.elements=[],w.on("request",function(t){var n;return n=t.request,e.watch(n)})}return e.prototype.watch=function(e){var t;return t=new a(e),this.elements.push(t)},e}(),a=function(){function e(e){var t,n,r,i,s,o,u,a,f=this;if(this.progress=0,void 0!==e.onprogress)for(n=null,o=e.onprogress,e.onprogress=function(){var t,r,i,s;try{r=e.getAllResponseHeaders();for(i in r)if(s=r[i],"content-length"===i.toLowerCase()){n=+s;break}}catch(o){t=o}if(null==n)return f.progress=f.progress+(100-f.progress)/2;try{return f.progress=e.responseText.length/n}catch(o){t=o}},"function"==typeof o&&o.apply(null,arguments),a=["onload","onabort","ontimeout","onerror"],r=function(){var n;return n=e[t],e[t]=function(){return f.progress=100,"function"==typeof n?n.apply(null,arguments):void 0}},i=0,s=a.length;s>i;i++)t=a[i],r();else u=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?f.progress=100:3===e.readyState&&(f.progress=50),"function"==typeof u?u.apply(null,arguments):void 0}}return e}(),r=function(){function e(e){var t,n,r,s;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),s=e.selectors,n=0,r=s.length;r>n;n++)t=s[n],this.elements.push(new i(t))}return e}(),i=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},S.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),n=function(){function e(){var e,t=this;this.progress=0,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=t.states[document.readyState]&&(t.progress=t.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),s=function(){function e(){var e,t,n,r=this;this.progress=0,e=0,n=0,t=E(),setInterval(function(){var i;return i=E()-t-50,t=E(),e+=(i-e)/15,n++>20&&Math.abs(e)<3&&(e=0),r.progress=100*(3/(e+3))},50)}return e}(),l=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=S.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=T(this.source,"progress"))}return e.prototype.tick=function(e,t){var n;return null==t&&(t=T(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/S.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),n=1-Math.pow(this.progress/100,S.easeFactor),this.progress+=n*this.rate*e,this.progress=Math.min(this.lastProgress+S.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),k=null,C=null,h=null,L=null,c=null,p=null,y=function(){return S.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(M=window.history.pushState,window.history.pushState=function(){return y(),M.apply(window.history,arguments)}),null!=window.history.replaceState&&(_=window.history.replaceState,window.history.replaceState=function(){return y(),_.apply(window.history,arguments)}),f={ajax:e,elements:r,document:n,eventLag:s},(b=function(){var e,n,r,i,s,o,u,a,c;for(k=[],u=["ajax","elements","document","eventLag"],r=0,s=u.length;s>r;r++)n=u[r],S[n]!==!1&&k.push(new f[n](S[n]));for(c=null!=(a=S.extraSources)?a:[],i=0,o=c.length;o>i;i++)e=c[i],k.push(new e(S));return h=new t,C=[],L=new l})(),Pace.stop=function(){return h.destroy(),p=!0,null!=c&&("function"==typeof d&&d(c),c=null),b()},Pace.restart=function(){return Pace.stop(),Pace.go()},Pace.go=function(){return h.render(),p=!1,c=N(function(e,t){var n,r,i,s,o,u,a,f,c,d,v,m,g,y,b,w,x,T;for(f=100-h.progress,r=g=0,i=!0,u=y=0,w=k.length;w>y;u=++y)for(v=k[u],d=null!=C[u]?C[u]:C[u]=[],o=null!=(T=v.elements)?T:[v],a=b=0,x=o.length;x>b;a=++b)s=o[a],c=null!=d[a]?d[a]:d[a]=new l(s),i&=c.done,c.done||(r++,g+=c.tick(e));return n=g/r,h.update(L.tick(e,n)),m=E(),h.done()||i||p?(h.update(100),setTimeout(function(){return h.finish()},Math.max(S.ghostTime,Math.min(S.minTime,E()-m)))):t()})},Pace.start=function(e){return m(S,e),h.render(),document.querySelector(".pace")?Pace.go():setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define("pace",[],function(){return Pace}):"object"==typeof exports?module.exports=Pace:Pace.start()}.call(this);var SP={Controller:"init",Network:{http:function(e){var t={headers:{accept:"application/json"},type:"GET",timeout:6e4,async:!0,url:"/"},n=function(e){if(e){_.isArray(e)&&e.length>0&&(e=e[0]);if(e.error)return errors[e.error]}},r=$.extend({},t,e),i=$.Deferred();return console.log("------ Requesting URL: "+e.url),$.ajax(r).then(function(e){var t=n(e);t&&Emitter.emit(t,"error"),i.resolve(e)},function(e){console.log("Ajax error"),Emitter.emit(e,"notify")}),i.promise()}},WS:{key:"212c3181292b80f4e1a9",channel:typeof DOMAIN!=undefined?DOMAIN+"_"+PKG:!1},Tab:{},logout:function(){$("#layout #main").animate({opacity:0},200,"linear",function(){$("#main-menu-container").css({top:"-75px"}),$("#menu").css({left:0}),window.location.href="/logout"})},incrementTabIcon:function(e){e?(val=parseInt($(".beacon .tabbadge").text()),$(".beacon .tabbadge").text(e+val),$(".beacon .tabbadge").show(),$(".beacon .tabbadge").toggleClass("bounceIn")):($(".beacon .tabbadge").hide(),$(".beacon .tabbadge").text(0),$(".beacon .tabbadge").toggleClass("bounceIn"))},render:function(e,t,n){if(e instanceof jQuery)var r=e;else var r=$(e+":first");n?r.append(t):r.html(t)},Terminal:!1,UI:{filter:[]},DB:{apps:Model("apps",function(){var e=this;this.extend({find_by_ID:function(t){return e.detect(function(){return this.attr("_id")==t})}})}),devices:Model("devices",function(){var e=this;this.extend({find_by_ID:function(t){return console.log("Finding id: "+t),e.detect(function(){return this.attr("clientID")==t})},countMarked:function(){var t=0;return e.each(function(){console.log("marked: "+this.attr("marked")),this.attr("marked")&&t++}),t},getMarked:function(){return e.select(function(){if(this.attr("marked"))return this})},getMarkedSocketIDs:function(){return e.select(function(){if(this.attr("marked")&&this.attr("socketID"))return this.attr("socketID")})}}),this.include({getLifecycleState:function(){var e="UNKNOWN",t=[{name:"UNKNOWN",value:-1},{name:"STOP",value:0},{name:"STOP APP",value:0},{name:"START",value:1},{name:"START APP",value:1},{name:"LOGOUT",value:2},{name:"LOGOFF",value:2},{name:"LOGON",value:3},{name:"LOGIN",value:3},{name:"LOCATION",value:4},{name:"IDLE",value:10}];for(x in t)t[x].value==this.attr("lifecycle_state")&&(e=t[x].name);return e},updateMarker:function(){if(!SP.Tab.Devices.MAP)return console.log("SP.Tab.Devices.MAP is missing. Stopping updateMarker"),!1;console.log("updateMarker for "+this.attr("clientID"));var e=this.attr("_marker");console.log(e);var t=new L.LatLng(e._latlng.lat,e._latlng.lng),n=new L.LatLng(this.attr("latitude"),this.attr("longitude")),r=[t,n],i=new L.Polyline(r),s=L.icon({iconUrl:"/img/sparkdash/bluedot.path.png",iconSize:[18,18],iconAnchor:[9,9],shadowUrl:null}),o=new L.animatedMarker(i.getLatLngs(),{icon:s,autoStart:!1,distance:600,interval:800,onEnd:function(){$(this._icon).fadeOut(1e3,function(){SP.Tab.Devices.MAP.removeLayer(this)})}});SP.Tab.Devices.MAP.addLayer(o),$(o._icon).hide().fadeIn(300,function(){o.start()}),e.setPulsing(!0),SP.Tab.Devices.setDeviceIdleState(this.attr("clientID"),1),e.setLatLng(new L.LatLng(this.attr("latitude"),this.attr("longitude"))),e._timestamp=this.attr("timestamp"),e.options._idletimestamp=(new Date).getTime()+SP.Tab.Devices.Settings.idleTimeout*60*1e3,setTimeout(function(){console.log(e.options._idletimestamp+" - "+(new Date).getTime()),e.options._idletimestamp-(new Date).getTime()<=0&&(console.log("SHOULD IDLE"),e.setPulsing(!1),$(e._icon).toggleClass("idle"),SP.Tab.Devices.setDeviceIdleState(e.options.clientID,2))},SP.Tab.Devices.Settings.idleTimeout*60*1e3)}})}),markedDevices:[]}};require(["jquery","controllers/dash","controllers/login","controllers/register","avgrund","pace"],function($,dash,login,register,avgrund,pace){function registerEmitter(){var e=function(e){this.emit=function(e,t){if(!t)var t="data";this.trigger(t,e)}};return MicroEvent.mixin(e),new e}var MicroEvent=function(){};MicroEvent.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},clear:function(e,t){this._events=this._events||{};if(e in this._events==0)return;this._events[e].splice(this._events[e].indexOf(t),1)},trigger:function(e){this._events=this._events||{};if(e in this._events==0)return;for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},MicroEvent.mixin=function(e){var t=["on","clear","trigger"];for(var n=0;n<t.length;n++)e.prototype[t[n]]=MicroEvent.prototype[t[n]]};var Emitter=registerEmitter();SP.Pace=pace,SP.Avgrund=avgrund,SP.UI.filter[200]=function(e){return console.log(e),"Click This: <b>"+e.status.data.fname+"</b>!"},SP.UI.filter[201]=function(e){var t=new Date(e.status.data.timein*1e3);return"Clocked in at <b>"+t.toUTCString()+"</b>!"},SP.UI.filter.logout=function(e){return setTimeout(function(){SP.logout()},2e3),"Logging out..."},SP.UI.filter[100]=function(e){var t=e.status.data.image,n=e.status.data.jobNum,r=e.status.data.address,i=e.status.data.labelText,s=e.status.data.labelColor;return'<div style="width:50px;height:50px;margin-top: 3px;float:left;"><img src="'+t+'" width="50"></div><div style="float:left;margin-left: 17px;"><div class="row1" style="float:left;"><a href="#" style="text-decoration:none;font-weight:bold;color:#336699;">'+n+'</a></div><div class="row2" style="float:left;">'+r+'</div><div class="row3" style="float:left;"><div class="label '+s+'">'+i+"</div></div></div>"},$(function($){console.log("Starting app"),SP.Controller=eval($("body").attr("controller")),typeof SP.Controller=="object"?SP.Controller.start():alert("No controller available")})}),define("../app",function(){});